/*! For license information please see c__ScopedSearch.83dcc7df.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1288,40,81],{1001:function(e,t,n){var r=n(482),o=n(189),i=n(234),a=n(69),c=n(180),u=n(240),l=n(235),s=n(330),p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(c(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||s(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},1323:function(e,t,n){var r=n(1439),o=n(2887);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},1324:function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},1334:function(e,t,n){"use strict";function r(e,t){var n=document.createElement("a");n.setAttribute("href",URL.createObjectURL(e)),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function o(e,t){var n=e.toDataURL("image/png"),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","".concat(t,".png")),document.body.appendChild(r),r.click(),document.body.removeChild(r)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},1438:function(e,t,n){var r=n(1323).FilterCSS,o=n(1323).getDefaultWhiteList,i=n(1324);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var c=new r;function u(e){return e.replace(l,"&lt;").replace(s,"&gt;")}var l=/</g,s=/>/g,p=/"/g,f=/&quot;/g,d=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,h=/&newline;?/gim,b=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,g=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function v(e){return e.replace(p,"&quot;")}function _(e){return e.replace(f,'"')}function w(e){return e.replace(d,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function j(e){return e.replace(m,":").replace(h," ")}function k(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function S(e){return e=k(e=j(e=w(e=_(e))))}function O(e){return e=u(e=v(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=S(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(b.lastIndex=0,b.test(n))return""}else if("style"===t){if(g.lastIndex=0,g.test(n))return"";if(y.lastIndex=0,y.test(n)&&(b.lastIndex=0,b.test(n)))return"";!1!==r&&(n=(r=r||c).process(n))}return n=O(n)},t.escapeHtml=u,t.escapeQuote=v,t.unescapeQuote=_,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=j,t.clearNonPrintableCharacter=k,t.friendlyAttrValue=S,t.escapeAttrValue=O,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(a,c,u){if(function(t){return!!n||-1!==i.indexOf(e,t)}(a)){if(u.isClosing){var l="[/removed]",s=u.position+10;return r.push([!1!==o?o:u.position,s]),o=!1,l}return o||(o=u.position),"[removed]"}return t(a,c,u)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;n=o+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=c,t.getDefaultCSSWhiteList=o},1439:function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},1440:function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},1441:function(e,t,n){var r=n(1324);function o(e){var t,n=r.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=r.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9\\_:.-]/gim;function c(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function l(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function s(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",a=0,c=!1,u=!1,l=0,s=e.length,p="",f="";e:for(l=0;l<s;l++){var d=e.charAt(l);if(!1===c){if("<"===d){c=l;continue}}else if(!1===u){if("<"===d){r+=n(e.slice(a,l)),c=l,a=l;continue}if(">"===d||l===s-1){r+=n(e.slice(a,c)),p=o(f=e.slice(c,l+1)),r+=t(c,r.length,p,f,i(f)),a=l+1,c=!1;continue}if('"'===d||"'"===d)for(var m=1,h=e.charAt(l-m);""===h.trim()||"="===h;){if("="===h){u=d;continue e}h=e.charAt(l-++m)}}else if(d===u){u=!1;continue}}return a<s&&(r+=n(e.substr(a))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=0,i=[],p=!1,f=e.length;function d(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&i.push(o)}}for(var m=0;m<f;m++){var h,b=e.charAt(m);if(!1!==p||"="!==b)if(!1===p||m!==o)if(/\s|\n|\t/.test(b)){if(e=e.replace(/\s|\n|\t/g," "),!1===p){if(-1===(h=c(e,m))){d(r.trim(e.slice(n,m))),p=!1,n=m+1;continue}m=h-1;continue}if(-1===(h=l(e,m-1))){d(p,s(r.trim(e.slice(n,m)))),p=!1,n=m+1;continue}}else;else{if(-1===(h=e.indexOf(b,m+1)))break;d(p,r.trim(e.slice(o+1,h))),p=!1,n=(m=h)+1}else p=e.slice(n,m),n=m+1,o='"'===e.charAt(n)||"'"===e.charAt(n)?n:u(e,m+1)}return n<e.length&&(!1===p?d(e.slice(n)):d(p,s(r.trim(e.slice(n))))),r.trim(i.join(" "))}},1472:function(e,t,n){"use strict";e.exports={getResourceName:function(e){return e?"file"===e.type?"".concat(e.filename,".").concat(e.ext):e.filename:""}}},1511:function(e,t,n){var r=n(1438),o=n(1441),i=n(2889);function a(e,t){return new i(t).process(e)}(t=e.exports=a).filterXSS=a,t.FilterXSS=i,function(){for(var e in r)t[e]=r[e];for(var n in o)t[n]=o[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},1518:function(e,t,n){"use strict";n(650);var r=n(319),o=(n(498),n(100)),i=(n(143),n(67)),a=n(0),c=n.n(a),u=n(2),l=n.n(u),s=n(1212),p=n(1472),f=n(194),d=n.n(f),m=n(46),h=n(967),b={Icon:function(e){var t=e.item,n=e.size;return c.a.createElement(m.b,{name:"folder"===t.type?"file-folder":Object(h.getFileIcon)(t),width:n||24,style:{flexShrink:0}})}};b.Icon.propTypes={item:l.a.object.isRequired,size:l.a.number},b.Name=function(e){var t=e.item,n=e.className,r=Object(p.getResourceName)(t);return c.a.createElement("span",{className:n,title:r},r)},b.Name.propTypes={item:l.a.object.isRequired,className:l.a.string},b.AccessScope=function(e){var t=e.book;return t&&0===t.public?c.a.createElement(i.a,{title:__("该资源访问需要权限")},c.a.createElement("span",{className:"doc-access-scope"},c.a.createElement(m.b,{name:"permission-private",width:12}))):null},b.AccessScope.propTypes={book:l.a.object.isRequired},b.FileSize=function(e){var t=e.item,n=e.className;return c.a.createElement("span",{className:n,"data-testid":"larkresource-filesize"},"folder"!==t.type&&t.filesize&&d()(t.filesize))},b.FileSize.propTypes={item:l.a.object.isRequired,className:l.a.string},b.TypeMenu=function(e){var t=e.current,n=e.onChange,i=e.overlayClassName,a=e.overlayPlacement,u=[{name:__("所有"),value:""},{name:__("图片"),value:"image"},{name:"PDF",value:"pdf"},{name:__("视频"),value:"video"},{name:__("音频"),value:"audio"},{name:__("办公文件"),value:"office"},{name:__("其他"),value:"else"}];t||(t="");var l=u.find((function(e){return e.value===t}));return c.a.createElement(r.a,{trigger:"click",placement:a||"bottomLeft",overlay:c.a.createElement(o.a,null,u.map((function(e){return c.a.createElement(o.a.Item,{key:e.value,onClick:function(){n(e.value)}},t===e.value&&c.a.createElement(s.default,null),e.name)}))),overlayClassName:i},c.a.createElement("span",null,l.value?l.name:__("类型")," ",c.a.createElement(m.b,{name:"arrow-down",width:16})))},b.TypeMenu.propTypes={current:l.a.string.isRequired,onChange:l.a.func.isRequired,overlayClassName:l.a.string,overlayPlacement:l.a.string},t.a=b},1722:function(e,t,n){"use strict";n.r(t),n.d(t,"getFileAccept",(function(){return w})),n.d(t,"getImageAccept",(function(){return j})),n.d(t,"EmbedButtonStatus",(function(){return k})),n.d(t,"getIsDiabledPreviewAndEmbed",(function(){return S})),n.d(t,"getLocalDocAcceptArr",(function(){return O})),n.d(t,"getFileAcceptArr",(function(){return E})),n.d(t,"getImageAcceptArr",(function(){return x})),n.d(t,"getVideoAcceptArr",(function(){return A})),n.d(t,"getAudioAcceptArr",(function(){return T}));var r=n(360),o=n(652),i=r.a.LOCAL_DOC_EXT,a=r.a.LOCAL_DOC_EXT_NORMAL,c=r.a.LOCAL_DOC_EXT_PAID,u=r.a.FILE_EXT,l=r.a.FILE_EXT_NORMAL,s=r.a.FILE_EXT_PAID,p=r.a.IMAGE_EXT,f=r.a.IMAGE_EXT_NORMAL,d=r.a.IMAGE_EXT_PAID,m=r.a.VIDEO_EXT,h=r.a.VIDEO_EXT_NORMAL,b=r.a.VIDEO_EXT_PAID,g=r.a.AUDIO_EXT,y=r.a.AUDIO_EXT_NORMAL,v=r.a.AUDIO_EXT_PAID,_=function(){var e="undefined"!=typeof navigator?navigator.userAgent:"";return/android/i.test(e)};function w(){return _()?"*/*":(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?s.join(","):l.join(","):u.join(",")}function j(){return _()?"image/*":(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?d.join(","):f.join(","):p.join(",")}var k={NORMAL:0,DISABLE:1,PREVENT:2};function S(){return!(window.appData||{}).isYuque||Object(o.isPaidCheckAll)()?k.NORMAL:k.PREVENT}function O(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?c:a:i}function E(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?s:l:u}function x(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?d:f:p}function A(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?b:h:m}function T(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?v:y:g}},1723:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-setting",e.className].filter(Boolean).join(" ")}),r.createElement("path",{d:"m107.862 18.747-.657.12-.338.066c-6.873 1.403-12.248 6.823-13.523 13.754L90.76 46.595l-.095.043a89.598 89.598 0 0 0-14.256 8.116l-.992.701-13.428-4.751c-6.647-2.33-14.024-.428-18.668 4.823l-.601.696c-8.465 9.957-15.019 21.135-19.518 33.263l-.39 1.068-.286.825a17.223 17.223 0 0 0 5.122 18.57l10.903 9.27-.084.904a90.683 90.683 0 0 0-.34 7.871l.006 1.135a90.53 90.53 0 0 0 .334 6.757l.083.884-10.868 9.24c-5.366 4.551-7.392 11.911-5.164 18.574l.333.959a110.206 110.206 0 0 0 19.838 34.185l.438.51.245.28c4.623 5.177 11.948 7.086 18.566 4.784l13.477-4.77.117.085a89.173 89.173 0 0 0 14.174 8.3l1.056.485 2.585 13.916c1.294 7.033 6.834 12.52 13.877 13.806l.592.109a111.934 111.934 0 0 0 39.578.008l.654-.12.355-.07c6.856-1.399 12.231-6.82 13.506-13.75l2.559-13.801.124-.055a89.147 89.147 0 0 0 15.264-8.782l.116-.086 13.29 4.707c6.649 2.33 14.026.427 18.67-4.823l.6-.696c8.466-9.957 15.02-21.135 19.519-33.263l.39-1.068.268-.77c2.272-6.626.238-13.996-5.104-18.58l-10.721-9.129.098-1.03c.231-2.632.348-5.273.348-7.908l-.007-1.13a90.43 90.43 0 0 0-.341-6.78l-.098-1.03 10.692-9.104c5.36-4.546 7.386-11.906 5.159-18.569l-.331-.953a109.95 109.95 0 0 0-19.84-34.191l-.439-.51-.245-.28c-4.622-5.177-11.948-7.086-18.565-4.784l-13.351 4.726-.137-.098a89.752 89.752 0 0 0-14.254-8.32l-1.105-.505-2.562-13.816c-1.294-7.036-6.834-12.524-13.877-13.809l-.593-.109c-13.008-2.338-26.61-2.338-39.574-.008Zm34.054 19.358.677.11 4.234 22.829 5.296 1.982a69.844 69.844 0 0 1 19.748 11.366l4.359 3.56 21.917-7.761.493.597a89.82 89.82 0 0 1 14.255 24.58l.239.634-17.649 15.029.913 5.57a70.76 70.76 0 0 1 .932 11.416c0 3.807-.314 7.64-.932 11.414l-.913 5.571 17.635 15.017-.223.593a90.385 90.385 0 0 1-14.29 24.623l-.462.561-21.928-7.764-4.361 3.577a69.308 69.308 0 0 1-19.733 11.353l-5.296 1.982-4.235 22.83-.9.145a92.146 92.146 0 0 1-14.066 1.08l-1.087-.006a92.191 92.191 0 0 1-13.001-1.08l-.88-.141-4.256-22.917-5.292-1.982c-7.057-2.643-13.646-6.453-19.583-11.314l-4.36-3.57-22.062 7.808-.453-.55a90.097 90.097 0 0 1-14.315-24.686l-.218-.574 17.843-15.172-.93-5.59a68.609 68.609 0 0 1-.905-11.231c0-3.815.303-7.595.907-11.24l.924-5.585L42.119 96l.238-.624a90.385 90.385 0 0 1 14.29-24.623l.461-.562 22.06 7.808 4.36-3.57a69.726 69.726 0 0 1 19.605-11.323l5.273-1.989 4.254-22.903.715-.115a92.841 92.841 0 0 1 28.542.006h-.001ZM128 90c-20.987 0-38 17.013-38 38s17.013 38 38 38 38-17.013 38-38-17.013-38-38-38Zm0 20c9.941 0 18 8.059 18 18s-8.059 18-18 18-18-8.059-18-18 8.059-18 18-18Z",fill:"currentColor",fillRule:"nonzero"}))},1890:function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=e=>r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-swip-outlined",e.className].filter(Boolean).join(" ")}),r.createElement("defs",null,r.createElement("path",{id:"1124380380a",d:"M0 0h16v16H0z"})),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("mask",{id:"1124380380b",fill:"#fff"},r.createElement("use",{xlinkHref:"#1124380380a"})),r.createElement("path",{d:"M8 1c1.07 0 1.938.867 1.938 1.938v2.874h1.413c.844 0 1.54.645 1.618 1.47l.007.147v.18l.003.29.004.391.004.32.006.407.005.289.007.275.008.304.008.245.008.232.01.253.01.202.007.127.008.12.01.143.007.107.008.101.007.072c.064.69.429 1.424 1.119 2.203a.75.75 0 0 1-.561 1.248h-9.03a2.125 2.125 0 0 1-2.119-2.293l.422-5.336a1.625 1.625 0 0 1 1.62-1.497h1.515V2.937c0-1.019.787-1.854 1.787-1.931Zm3.35 6.063H4.548a.375.375 0 0 0-.374.345l-.422 5.335a.875.875 0 0 0 .872.944H6.45c-.456-.69-.72-1.386-.785-2.085l-.01-.111-.006-.077-.01-.122-.008-.127-.006-.089-.008-.138-.007-.145-.008-.151-.006-.157a.625.625 0 1 1 1.249-.052l.006.145.009.183.007.13.007.126.005.08.008.114.005.073.009.104.008.099c.064.689.429 1.422 1.117 2.2h1.55c-.457-.69-.722-1.386-.786-2.085l-.01-.111-.006-.077-.01-.122-.008-.127-.006-.089-.008-.138-.007-.145-.008-.151-.006-.157a.625.625 0 1 1 1.249-.052l.006.145.009.183.007.13.007.126.005.08.008.114.005.073.009.104.008.099c.064.689.429 1.422 1.117 2.2h1.486l-.025-.038c-.431-.664-.686-1.333-.756-2.005l-.004-.042-.002-.026-.007-.077-.01-.138-.01-.117-.007-.122-.01-.163-.01-.207-.01-.22-.01-.236-.008-.248-.008-.263-.008-.324-.006-.292-.004-.254-.005-.319-.004-.388-.004-.408-.002-.364a.375.375 0 0 0-.375-.373ZM8.019 2.25H8a.687.687 0 0 0-.688.688v2.874h1.375V2.938a.688.688 0 0 0-.669-.687Z",fill:"currentColor",fillRule:"nonzero",mask:"url(#1124380380b)"})))},2887:function(e,t,n){var r=n(1439),o=n(2888);n(1440);function i(e){return null==e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,c=t.safeAttrValue;return o(e,(function(e,t,o,u,l){var s=n[o],p=!1;if(!0===s?p=s:"function"==typeof s?p=s(u):s instanceof RegExp&&(p=s.test(u)),!0!==p&&(p=!1),u=c(o,u)){var f,d={position:t,sourcePosition:e,source:l,isWhite:p};return p?i(f=r(o,u,d))?o+":"+u:f:i(f=a(o,u,d))?void 0:f}}))},e.exports=a},2888:function(e,t,n){var r=n(1440);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,c="";function u(){if(!o){var n=r.trim(e.slice(i,a)),u=n.indexOf(":");if(-1!==u){var l=r.trim(n.slice(0,u)),s=r.trim(n.slice(u+1));if(l){var p=t(i,c.length,l,s,n);p&&(c+=p+"; ")}}}i=a+1}for(;a<n;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var s=e.indexOf("*/",a+2);if(-1===s)break;i=(a=s+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||u():"\n"===l&&u()}return r.trim(c)}},2889:function(e,t,n){var r=n(1323).FilterCSS,o=n(1438),i=n(1441),a=i.parseTag,c=i.parseAttr,u=n(1324);function l(e){return null==e}function s(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(e.whiteList||e.allowList):e.whiteList=o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}s.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,s=t.onTagAttr,p=t.onIgnoreTagAttr,f=t.safeAttrValue,d=t.escapeHtml,m=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var h=!1;t.stripIgnoreTagBody&&(h=o.StripTagBody(t.stripIgnoreTagBody,i),i=h.onIgnoreTag);var b=a(e,(function(e,t,o,a,h){var b={sourcePosition:e,position:t,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(n,o)},g=r(o,a,b);if(!l(g))return g;if(b.isWhite){if(b.isClosing)return"</"+o+">";var y=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}(a),v=n[o],_=c(y.html,(function(e,t){var n=-1!==u.indexOf(v,e),r=s(o,e,t,n);return l(r)?n?(t=f(o,e,t,m))?e+'="'+t+'"':e:l(r=p(o,e,t,n))?void 0:r:r}));return a="<"+o,_&&(a+=" "+_),y.closing&&(a+=" /"),a+=">"}return l(g=i(o,a,b))?d(a):g}),d);return h&&(b=h.remove(b)),b},e.exports=s},296:function(e,t,n){"use strict";n(1501);var r=n(802);n(793);t.a=r.a},324:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r={UPDATE_PAGE_DATA:"page/update-page-data",RESET_PAGE_DATA:"page/reset-page-data",SWITCH_TO_NOTE_TAB:"page/switch-to-note",SCROLL_TO_TOP:"page/scroll-to-top",UPDATE_DOC_DATA:"page/update-doc-data"},o={UPDATE_RECENT_LIST:"global/update-recent-list",UPDATE_NOTES_LIST:"global/update-notes-list",UPDATE_MY_BOOKS_LIST:"global/update-my-books-list",UPDATE_COLLAB_BOOKS_LIST:"global/update-collab-books-list",UPDATE_GROUPS_LIST:"global/update-groups-list",UPDATE_NOTIFICATION_LIST:"global/update-notification-list",UPDATE_NOTIFICATION_CHANNELS:"global/update-notification-channels",UPDATE_HEADLINES_EVENTS:"global/update-headlines-events",UPDATE_MY_EVENTS:"global/update-my-events",PUBLISH_NOTE:"global/publish-note"}},3336:function(e,t,n){var r=n(232);e.exports=function(e){return"function"==typeof e?e:r}},3365:function(e,t,n){"use strict";var r=n(953);t.a=function(){return Object(r.getInterest)()}},3367:function(e,t,n){var r=n(512),o=n(485),i=n(3336),a=n(69);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},3464:function(e,t,n){"use strict";var r=n(82),o=n.n(r),i={_bookGrayscaleConfig:null,getDefaultDocumentFormat:function(e,t,n){return t=t||"",n=n||{},o.a.DOC_DEFAULT_FORMAT[e]||o.a.FORMAT.LAKE}};t.a=i},3481:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),o=n(966),i=n(228),a=function(e){var t=e.loader,n=r.useRef(null);return function(){return n.current?Promise.resolve(n.current):t().then((function(e){return n.current=e,n.current})).catch((function(e){return console.error(e.stack)}))}},c={modal:"styles-module_modal_8nT+9"};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(){l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:A(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var m="suspendedStart",h="suspendedYield",b="executing",g="completed",y={};function v(){}function _(){}function w(){}var j={};p(j,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(P([])));S&&S!==n&&r.call(S,a)&&(j=S);var O=w.prototype=v.prototype=Object.create(j);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,i,a,c){var l=d(e[o],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==u(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function A(t,n,r){var o=m;return function(i,a){if(o===b)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=T(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=b;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(u(t)+" is not iterable")}return _.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},E(x.prototype),p(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(O),p(O,s,"Generator"),p(O,a,(function(){return this})),p(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.loader,n=e.name,u=m(o.a.useModal(),2),s=u[0],f=u[1],h=a({loader:t}),b=function(){var e,t=(e=l().mark((function e(t,o){var a,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:if(a=e.sent){e.next=6;break}return console.error("SelectorComponent for ".concat(n," load failed")),e.abrupt("return");case 6:return u=new Promise((function(e){var n=s.info({}),u=function(){var e,r;n.destroy(),null==t||null===(e=t.onClose)||void 0===e||e.call(t),null==o||null===(r=o.afterClose)||void 0===r||r.call(o)},l=p(p({},t),{},{onSelect:function(t){e(t),u()},onClose:function(){e(void 0),u()}});n.update(p(p({className:c.modal,icon:null,centered:!0,cancelText:""},o),{},{content:r.createElement(i.a,null,r.createElement(a,l))}))})),e.next=9,u;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return{loadSelector:function(){return h()},showSelector:b,contextHolder:f}}},3482:function(e,t,n){"use strict";n(3203);var r=n(1526);n(3180);t.a=r.a},3509:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3481),o=function(){return Promise.all([n.e(0),n.e(1),n.e(9),n.e(1316)]).then(n.bind(null,3742)).then((function(e){return e.default}))};function i(){var e=Object(r.a)({loader:o,name:"TemplateSelector"}),t=e.loadSelector,n=e.showSelector;return{loadTemplateSelector:t,showTemplateSelector:function(e){return n(e,{width:e.isDesktop?1100:1140,maskClosable:!0,centered:!0})},contextHolder:e.contextHolder}}},3518:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,o=n(426),i=n.n(o);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localUserSettings=t}var t,n,r;return t=e,(n=[{key:"getValue",value:function(){return this.localUserSettings}},{key:"update",value:function(e){this.localUserSettings=u(u({},this.localUserSettings),e)}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())(i()((null===(r=window.appData)||void 0===r?void 0:r.userSettings)||{}))},3533:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(2),a=n.n(i),c=n(480),u=n(35),l=n(267),s=Object(l.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(12),n.e(20),n.e(1288)]).then(n.bind(null,3751))}),{suspense:!0}),p=function(e){return o.a.createElement(s,e)};p.propTypes={onHistroyChange:a.a.func,onCancel:a.a.func,theme:a.a.string,embed:a.a.bool,isMiniType:a.a.bool,onSearch:a.a.func,location:a.a.object,onClose:a.a.func,isMobile:a.a.bool,sence:a.a.string,subSence:a.a.string,forceDisplay:a.a.bool,history:a.a.object,organization:a.a.object,group:a.a.object,book:a.a.object,doc:a.a.object,me:a.a.object,jumpToNewPage:a.a.bool},t.a=Object(c.d)((function(e){return{search:e.search,group:e.group,book:e.book,doc:e.doc,me:e.me,organization:e.organization}}))(Object(u.withRouter)(p))},360:function(e,t,n){"use strict";var r=n(124),o=n.n(r),i=n(61),a=n(99),c=n.n(a),u=n(102),l=n.n(u),s=n(103),p=n.n(s),f=n(106),d=n.n(f),m=n(111),h=n.n(m),b=n(112),g=n.n(b),y=n(118),v=n.n(y),_=n(428),w=n.n(_);function j(e){return i.ua.chrome?e.filter((function(e){return!/\.\w+\./.test(e)})):e}var k=j(o.a),S=j(o.a.normal),O=j(o.a.paid),E=[h.a,g.a,d.a,v.a],x=j(w()(E).concat([".pdf"])),A=j(w()(E.map((function(e){return e.paid}))).concat([".pdf"])),T=c.a,C=c.a.normal,L=c.a.paid,N=l.a,P=l.a.paid,I=p.a,D=p.a.paid;t.a={LOCAL_DOC_EXT:x,LOCAL_DOC_EXT_NORMAL:[],LOCAL_DOC_EXT_PAID:A,FILE_EXT:k,FILE_EXT_NORMAL:S,FILE_EXT_PAID:O,IMAGE_EXT:T,IMAGE_EXT_NORMAL:C,IMAGE_EXT_PAID:L,VIDEO_EXT:N,VIDEO_EXT_NORMAL:[],VIDEO_EXT_PAID:P,AUDIO_EXT:I,AUDIO_EXT_NORMAL:[],AUDIO_EXT_PAID:D}},3603:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return L})),n.d(t,"c",(function(){return S}));var r=n(457),o=n(65),i=n.n(o),a=n(332),c=n(230),u=n(22);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=[{key:"all",label:__("全部")},{key:"doc",label:__("文档#compact")},{key:"sheet",label:__("表格")},{key:"board",label:__("画板")},{key:"table",label:__("数据表")},{key:"thread",label:__("话题")}],y=[{key:"all",label:__("时间不限")},{key:"1d",label:__("24 小时内")},{key:"7d",label:__("7 天内")},{key:"30d",label:__("30 天内")},{key:"183d",label:__("半年内")}],v=[{key:"content",label:__("内容#compact")},{key:"book",label:__("知识库#compact")},{key:"group",label:c.c.isPublication()?__("知识小组#nav"):__("团队#nav")},{key:"user",label:__("用户#nav")}],_={book:"book",group:"group",related:"related",public:"public",organization:"organization"},w=[{key:_.related,label:__("与我相关")},{key:_.organization,label:__("空间")},{key:_.public,label:window.appData.isYuque?__("公开语雀"):__("内网公开")},{key:_.group,label:c.c.isPublication()?__("当前知识小组#nav"):__("当前团队#nav")},{key:_.book,label:__("当前知识库")}],j={CONTENT_TYPES:g,TIMES:y,SEARCH_TYPES:v,SEARCH_TAB_LIST:w};function k(e,t){if(!e||!t)return!1;var n=e.abilities;return!!n&&!!n[t]}function S(e){return"string"!=typeof e?"":e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function O(e){var t;return"modal"===e&&"dashboard"===(null===(t=window.appData.matchCondition)||void 0===t?void 0:t.page)||window&&window.location&&"/search"===window.location.pathname}function E(e,t){if(!e||"/"===e)return _.public;"/"===e.charAt(0)&&(e=e.slice(1));var n=m(e.split("/").map((function(e){return e.trim()})),2),r=n[0],o=void 0===r?"":r,i=n[1];return(void 0===i?"":i)||t?_.book:o?_.group:void 0}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"public",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.embed,o=t.isDocCollaborator,i=(t.search,t.organization),a=t.group,l=t.me,s=t.share,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dropdown",f=l&&l.id,d=s&&s.token,m=[_.public,_.related],h=JSON.parse(JSON.stringify(w));if(n||e!==_.group||(m=[_.group]),f?([_.public,_.related].includes(e)&&(m=[_.public,_.related]),e===_.group&&(m=[_.group,_.public,_.related]),e===_.book&&(m=[_.book,_.group,_.public,_.related],(o||d)&&(m=[_.book,_.public,_.related]))):([_.public,_.related].includes(e)&&(m=[]),e===_.group&&(m=[_.group]),e===_.book&&(m=[_.book,_.group]),e===_.book&&d&&(m=[_.book])),null!=i&&i.id){var b,g=k(i,"read_home"),y=window.appData.organizations,v=null==y||null===(b=y.find((function(e){return e.id===i.id})))||void 0===b?void 0:b.member,j=r.organizationUser.ROLE,S=(null==v?void 0:v.role)===j.outsourcer;m=m.map((function(e){return e===_.public?S?null:g?_.organization:null:e===_.related?g?_.related:null:e===_.group?g?_.group:null:e})).filter((function(e){return e})),h=h.map((function(e){return e.key===_.organization&&(e.label=i.name),e}))}return u.f&&(m=m.filter((function(e){return e!==_.public}))),m.includes(_.group)&&(h=h.map((function(e){return e.key===_.group&&("User"===(null==a?void 0:a.type)?e.label=__("当前用户"):"Wiki"===(null==a?void 0:a.type)?e.label=__("公共区"):e.label=c.c.isPublication()?__("当前知识小组#nav"):__("当前团队#nav")),e}))),"dropdown"===p?m.map((function(e){return h.find((function(t){return t.key===e}))})):h.map((function(e){return m.includes(e.key)&&e})).filter((function(e){return e}))}var A={create_note:{key:"create_note",icon:"doc-type-note",label:__("新建小记"),label_en:"create note"},create_doc:{key:"create_doc",icon:"doc-type-default",label:__("新建文档"),label_en:"create doc"},create_sheet:{key:"create_sheet",icon:"doc-type-sheet",label:__("新建表格"),label_en:"create sheet"},create_board:{key:"create_board",icon:"doc-type-board",label:__("新建画板"),label_en:"create board"},create_table:{key:"create_table",icon:"doc-type-table",label:__("新建数据表"),label_en:"create table"},create_repo:{key:"create_repo",icon:"book-type-default",label:__("新建知识库"),label_en:"create repo"},edit_doc:{key:"edit_doc",icon:"edit-border",label:__("编辑文档"),url:"/:group_login/:book_slug/:doc_slug/edit"},enter_ppt:{key:"enter_ppt",icon:"present",label:__("进入演示模式"),noJump:!0,label_en:"ppt show"},view_notification:{key:"notification",icon:"nav-bell",label:__("查看消息"),noJump:!0,label_en:"open notification"},switch_theme:{key:"switch_theme",icon:"nav-night",label:__("切换主题模式"),noJump:!0,label_en:"switch dark mode theme"},publish_doc:{key:"publish_doc",icon:"publish-send",label:__("更新 / 发布"),noJump:!0,label_en:"Update / Publish"},sep:{key:"seperator",isSep:!0}},T={book_home:{key:"book_home",icon:"knowledge-base-home",label:__("知识库首页"),url:"/:group_login/:book_slug",label_en:"repo home page"},book_settings:{key:"book_settings",icon:"more-settings",label:__("知识库设置"),url:"/:group_login/:book_slug/settings/basic",label_en:"repo setting page"},group_home:{key:"group_home",icon:"left-arrow",label:":group_name",url:"/:group_login",label_en:"group home"},group_activity:{key:"group_activity",icon:"dynamic2",label:__("动态"),url:"/r/:group_login/activities",label_en:"group activity"},group_book:{key:"group_book",icon:"helpdoc",label:__("知识库"),url:u.g?"/:group_login":"/r/:group_login/books",label_en:"my books"},dashboard:{key:"dashboard",icon:"nav-clock",label:__("开始"),url:"/dashboard",label_en:"dashboard"},back_dashboard:{key:"back_dashboard",icon:"left-arrow",label:__("工作台"),url:"/dashboard"},note:{key:"note",icon:"note",label:__("小记"),url:"/dashboard/notes",label_en:"create note"},wiki:{key:"wiki",icon:"wiki",label:__("公共区"),url:"/dashboard/org_wiki",label_en:"common wiki"}};var C={GROUP_SELECT:"GROUP_SELECT",DOC_SELECT:"DOC_SELECT"},L=new i.a;t.b={SEARCH_TOOL_EVENTS:C,SEARCH_TYPES:v,CONTENT_TYPES:g,TIMES:y,SEARCH_TABS:_,JUMP_LINKS:T,searchToolEvent:L,can:k,escapeStrRegexp:S,getLabelByKey:function(e,t){return"TIMES"===e&&"all"===t?__("更新时间"):((j[e.toUpperCase()]||[]).filter((function(e){return e.key===t}))[0]||{}).label||null},getQueryByString:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).share,n={},r=new URLSearchParams(e);r.get("p")>250&&r.set("p",250);var o,i=d(r);try{for(i.s();!(o=i.n()).done;){var a=m(o.value,2),c=a[0],u=a[1];"false"!==u&&(n[c]=u)}}catch(e){i.e(e)}finally{i.f()}return t&&"Book"===t.target_type&&(n.token=t.token),n.type=n.type||"content",n.tab||(n.tab=E(n.scope,n.token)),n},gotoSearchPage:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.history,o=n.forceOpen,i=n.overwrite,a=n.handleMobileTabChange,c=n.handleDesktopTabChange,l=n.sence,s=n.isPublicPage,p=O(l);t.tab!==_.public&&t.tab!==_.related||(t.scope="/"),i?e=new URLSearchParams(t):(e=p?new URLSearchParams(window.location.search):new URLSearchParams({}),Object.keys(t).forEach((function(n){e.set(n,t[n])})));var f,h=d(e);try{for(h.s();!(f=h.n()).done;){var b=m(f.value,2),g=b[0];"false"===b[1]&&e.delete(g)}}catch(e){h.e(e)}finally{h.f()}if(a)return a(function(e){var t,n={},r=d(e);try{for(r.s();!(t=r.n()).done;){var o=m(t.value,2),i=o[0],a=o[1];n[i]=a}}catch(e){r.e(e)}finally{r.f()}return n}(e));var y="/search?".concat(e.toString());if(c)return c({},y);if(o)return window.open(y);var v=window.location,w=v.origin;if(v.pathname,s)return r?r.push("/r/organizations/homepage"+y):window.open(w+"/r/organizations/homepage"+y);window.h5||p||u.g?r?r.push(y):window.location.href=y:window.open(y)},clacTabByScope:E,getSearchTypesByTab:function(e){var t=[];return e===_.book&&(t=["content"]),e===_.group&&(t=["content","book"]),e===_.public&&(t=["content","book","group","user"]),[_.related,_.organization].includes(e)&&(t=["content","book","group"]),v.filter((function(e){return t.includes(e.key)}))},getShowTabs:x,isSearchEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",n=e.isYuque,r=e.settings,o=void 0===r?{}:r,i=e.search,c=e.share&&e.share.token;return!(!i||!i.display)&&((!n||!1!==o.public_space_doc_search_enable)&&((!o||!1!==o.enable_search)&&(!a.a.shouldHiddenFeature("search")&&((i.scope||c)&&(t=E(i.scope,c)),x(t,e).length>0))))},isSearchPage:function(e){return window&&window.location&&"/search"===window.location.pathname},isSinglePage:O,generateMenuList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=e.organization,o=e.group,i=e.book,a=e.doc,c=e.me,l=e.subSence,s=null==r?void 0:r.id,f=(null==c?void 0:c.id)&&(!s||k(r,"read"));if("command"===t){var d=[];"book"===n&&null!=a&&a.id?"docEdit"===l?d.push.apply(d,[A.sep,k(a,"update")&&A.publish_doc]):d.push.apply(d,[A.sep,k(a,"update")&&A.edit_doc,"Doc"===(null==a?void 0:a.type)&&A.enter_ppt]):"book"===n?d.push.apply(d,[A.sep]):"group"===n?d.push.apply(d,[k(o,"create_book")&&A.create_repo,A.sep]):d.push.apply(d,[(null==c?void 0:c.id)&&A.create_repo,A.sep]);var m=[A.create_note,A.create_doc,A.create_sheet,A.create_board,A.create_table];return"book"===n&&k(i,"create_doc")?"docEdit"!==l&&d.unshift.apply(d,m):"book"!==n&&null!=c&&c.id&&d.unshift.apply(d,m),null!=c&&c.id&&d.push.apply(d,[!u.c&&(!s||k(r,"read"))&&A.view_notification,(!s||k(r,"read"))&&A.switch_theme]),1===d.length&&d[0].isSep&&d.pop(),d.filter(Boolean).map((function(e){return p({},e)}))}var h=[];return"book"===n&&null!=a&&a.id?h.push.apply(h,[T.book_home,k(i,"update")&&T.book_settings,k(o,"read")&&T.group_home,f&&T.back_dashboard]):"book"===n?h.push.apply(h,["bookSetting"===l&&T.book_home,k(i,"update")&&"bookSetting"!==l&&T.book_settings,k(o,"read")&&T.group_home,f&&T.back_dashboard]):"group"===n?"Group"===(null==o?void 0:o.type)?h.push.apply(h,[!u.c&&T.group_activity,T.group_book]):"Wiki"===(null==o?void 0:o.type)&&h.push.apply(h,[f&&T.dashboard]):h.push.apply(h,[f&&T.dashboard,(null==c?void 0:c.id)&&(s?k(r,"read")&&T.wiki:T.note)]),h.length&&h.push(A.sep),h.filter(Boolean).map((function(e){return p({},e)}))}}},3609:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(5),a=n.n(i),c=n(2),u=n.n(c),l=n(1008),s="index-module_popMenu_aOUBY",p="index-module_menu_0W97j",f="index-module_item_-0ClC",d="index-module_cancel_i36-H";function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.menuItems;return o.a.createElement("div",{className:a()(p,"pop-menu")},t.map((function(t,n){return o.a.createElement("div",{className:a()(f,t.className),key:n,onClick:function(n){t.onClick&&(e.toggleModal(),t.onClick())}},t.name)})),o.a.createElement("div",{className:d,onClick:function(){e.toggleModal()}},__("取消")))},y=function(e){var t=function(){var e=h(Object(r.useState)(!1),2),t=e[0],n=e[1];return{state:{showModal:t},onShowModal:function(){n(!0)},toggleModal:function(){setTimeout((function(){n(!1)}),16)}}}(),n=t.state.showModal,i=t.onShowModal,a=t.toggleModal;return o.a.createElement("div",{onClick:i},e.children,o.a.createElement(l.f,{visible:n,onClose:a,bodyClassName:s,closeOnMaskClick:!0},o.a.createElement(g,m({},e,{toggleModal:a}))))};y.propsType={menuItems:u.a.array};t.a=y},3611:function(e,t,n){"use strict";var r=n(0),o=n(3661),i=n(22);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:A(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var m="suspendedStart",h="suspendedYield",b="executing",g="completed",y={};function v(){}function _(){}function w(){}var j={};p(j,u,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(P([])));S&&S!==n&&r.call(S,u)&&(j=S);var O=w.prototype=v.prototype=Object.create(j);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,i,c,u){var l=d(e[o],e,i);if("throw"!==l.type){var s=l.arg,p=s.value;return p&&"object"==a(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):t.resolve(p).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function A(t,n,r){var o=m;return function(i,a){if(o===b)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=T(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=b;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return _.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=p(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},E(x.prototype),p(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(O),p(O,s,"Generator"),p(O,u,(function(){return this})),p(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function u(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=window.desktopAppData.isWin,d=new o.a({platform:f?"windows":"macOS"});t.a=function(e){var t=s(Object(r.useState)(""),2),n=t[0],o=t[1],a=function(){var t=l(c().mark((function t(){var n,r,a,u,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=window.YuqueDesktopAppJSBridge)||void 0===n||null===(r=n.ipcInvoke)||void 0===r?void 0:r.call(n,{channel:null===i.a||void 0===i.a||null===(a=i.a.SHORTCUT)||void 0===a?void 0:a.GET_SHORTCUT,options:{shortcutKey:e}});case 2:u=t.sent,l=d.shortcutToShowString(u),o(l);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){},p=function(){var e=l(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=window.YuqueDesktopAppJSBridge)||void 0===t||null===(n=t.ipcOn)||void 0===n?void 0:n.call(t,i.a.SHORTCUT.SHORTCUT_CHANGED,(function(e,t){var n=t.value,r=d.shortcutToShowString(n);o(r)}));case 2:u=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(i.a)return a(),p(),function(){var e;null===(e=u)||void 0===e||e()}}),[]),{shortcut:n}}},3622:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(2),a=n.n(i),c=n(280),u="Search-module_wrapper_Scz+2",l="Search-module_img_CAujI";function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var p=["https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Pqd6T57ZpDMAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*3q2oSIsgEvYAAAAAAAAAAAAAARQnAQ"],f=function(e){return o.a.createElement("div",s({className:u},e),o.a.createElement(c.a,{src:p[0],darkSrc:p[1],className:l}),o.a.createElement("p",null,e.text||__("搜索结果为空")))};f.propTypes={text:a.a.string};t.a=f},3632:function(e,t,n){!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),i={change:o.fullscreenchange,error:o.fullscreenerror},a={request:function(e){var n=o.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](r?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){t[o.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:o};o?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[o.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports=!1:window.screenfull=!1}()},3661:function(e,t,n){"use strict";var r=n(3367),o=n.n(r),i=n(3694),a=n.n(i),c=n(3677);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.platform;this.platform=n,this.eventKeyToKeyboard=c.EVENTKEY_TO_KEYBOARD[n],this.keyBoardToShortcut=c.KEYBOARD_TO_SHORTCUT[n],this.keyBoardStringSep=c.SEP[n],this.metaForMousetrap=c.META_FOT_MOUSETRAP[n],this.metaOrder=c.META_ORDER[n],this.shortcutToKeyboard=a()(this.keyBoardToShortcut),this.shortcutSep="+"}var t,n,r;return t=e,n=[{key:"getFinalKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.keyCode;if(c.SPECIAL_KEY_MAP[n])return c.SPECIAL_KEY_MAP[n];if(n>=65&&n<=90){var r=String.fromCharCode(n);return t?r.toLocaleLowerCase():r}return n>=48&&n<=57?Number(n)-48:null}},{key:"_getMetaKeyArr",value:function(e){var t=[],n=this.eventKeyToKeyboard;return this.metaOrder.forEach((function(r){e[r]&&t.push(n[r])})),t}},{key:"getShortcutByKeyboard",value:function(e){var t=this.getFinalKey(e),n=this._getMetaKeyArr(e);if(!n||!n.length)return{keyboardString:null};if(null===t)return{keyboardString:n.join(this.keyBoardStringSep)};var r=[].concat(l(this._metaKeyToShortcut(n)),[t]).join(this.shortcutSep);return{keyboardString:this.shortcutToShowString(r),shortcut:r}}},{key:"_metaKeyToShortcut",value:function(e){var t=this.keyBoardToShortcut;return e.map((function(e){return t[e]?t[e]:e}))}},{key:"shortcutToShowString",value:function(e){if(!e||e===c.NO_SHORTCUT)return"";var t=this.shortcutToKeyboard,n=this.keyBoardStringSep,r=this.shortcutSep;return e.split(r).map((function(e){return t[e]||e})).join(n)}},{key:"convertForMousetrap",value:function(e){var t=this.metaForMousetrap;return e===c.NO_SHORTCUT?"":e.split("+").map((function(e){return t[e]?t[e]:e.toLowerCase()})).join("+")}},{key:"transMap",value:function(e){var t=this,n={};return o()(e,(function(e,r){n[r]=t.shortcutToShowString(e)})),n}}],n&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.a=f},3662:function(e,t,n){"use strict";var r=n(260),o=n(812);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var p=window.appData,f=p.isAlipayWebApp,d=p.isDingTalkApp,m=p.isDingTalkMiniApp,h=p.isYuqueMobileApp,b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDingTalkMiniApp=m,this.isAlipayWebApp=f,this.isDingTalkApp=d,this.isYuqueMobileApp=h}var t,n,i;return t=e,n=[{key:"alipayConfirm",value:function(e){var t=e.title,n=void 0===t?"":t,r=e.message,o=void 0===r?"":r,i=e.onOk,a=void 0===i?function(){}:i,c=e.onCancel,u=void 0===c?function(){}:c,l=e.okButton,s=void 0===l?__("是"):l,p=e.cancelButton,f=void 0===p?__("否"):p;window.AlipayJSBridge.call("confirm",{title:n,message:o,okButton:s,cancelButton:f},(function(e){e.ok?a():u()}))}},{key:"dingtalkConfirm",value:function(e){var t=e.title,n=void 0===t?"":t,r=e.message,i=void 0===r?"":r,a=e.onOk,u=void 0===a?function(){}:a,l=e.onCancel,s=void 0===l?function(){}:l,p=e.okButton,f=void 0===p?__("是"):p,d=e.cancelButton,m={title:n,content:i,confirmButtonText:f,cancelButtonText:void 0===d?__("否"):d},h=function(e){e.confirm?u():s()};window.dd.confirm?window.dd.confirm(c(c({},m),{},{success:h})):Object(o.a)("confirm",m).then(h).then(s)}},{key:"webNativeConfirm",value:function(e){var t=e.message,n=void 0===t?"":t,r=e.onOk,o=void 0===r?function(){}:r,i=e.onCancel,a=void 0===i?function(){}:i;window.confirm(n)?o():a()}},{key:"mobileAppConfirm",value:function(e){var t=e.title,n=void 0===t?"":t,o=e.message,i=void 0===o?"":o,a=e.onOk,c=void 0===a?function(){}:a,u=e.onCancel,l=void 0===u?function(){}:u,s=e.okButton,p=void 0===s?__("是"):s,f=e.cancelButton,d=void 0===f?__("否"):f;r.a.showConfirm({title:n,message:i,onOk:c,confirmText:p,onConfirm:c,cancelText:d,onCancel:l})}},{key:"confirm",value:function(){this.isAlipayWebApp&&window.AlipayJSBridge?this.alipayConfirm.apply(this,arguments):this.isDingTalkMiniApp&&window.dd?this.dingtalkConfirm.apply(this,arguments):this.isYuqueMobileApp?this.mobileAppConfirm.apply(this,arguments):this.webNativeConfirm.apply(this,arguments)}}],n&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=new b;t.a=g},3672:function(e,t,n){"use strict";n(73);var r=n(31),o=(n(37),n(10)),i=n(0),a=n.n(i),c=n(64),u=n.n(c),l=n(3632),s=n.n(l),p=n(82),f=n.n(p),d=n(32),m=n(454),h=n.n(m),b=n(1223),g=n(3509),y=n(260),v=n(3518),_=n(1199),w=n(3464),j=n(120),k=n(790),S=n(22);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function E(){E=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:A(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",h="completed",b={};function g(){}function y(){}function v(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,a)&&(_=j);var k=v.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,i,a,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==O(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function A(t,n,r){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=T(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?h:d,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(O(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,c,"next",e)}function c(e){C(i,r,o,a,c,"throw",e)}a(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=u()("doc:useDocAction"),D=window.appData,z=D.isYuqueMobileApp,M=D.userSettings,q=function(e,t,n){if(window.__engine&&window.__engine.execCommand)return window.__engine[e](t,n)},R=h()((function(e){q("execCommand","defaultFontsize",e),q("execCommand","clearDefaultFontsize")}),200),F=h()((function(e){q("execCommand","paragraphSpacing",e)})),U=h()((function(e){q("execCommand","autoSpacing",!!e)}));t.a=function(e){var t=e.book,c=e.doc,u=e.commandParams,l=e.dispatch,p=e.onCommandsExecuted,m=e.onSelectTemplate,O=e.onCreateDoc,x=e.history,T=e.spaMode,C=Object(_.a)(t),P=N(Object(i.useState)(null),2),D=P[0],B=P[1],W=N(Object(i.useState)(!1),2),G=W[0],H=W[1],Y=N(Object(i.useState)(!1),2),V=Y[0],K=Y[1],J=N(Object(i.useState)("false"!==(null==M?void 0:M.recordDocSetting)),2),X=J[0],$=J[1];Object(i.useEffect)((function(){Promise.all([n.e(4),n.e(5),n.e(6),n.e(0),n.e(1260)]).then(n.bind(null,3676))}),[]);var Z=function(){return q("queryCommandValue","defaultFontsize",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},Q=N(Object(i.useState)(q("queryCommandValue","typography")),2),ee=Q[0],te=Q[1],ne=N(Object(i.useState)(Z(!1)),2),re=ne[0],oe=ne[1],ie=N(Object(i.useState)(q("queryCommandValue","paragraphSpacing")),2),ae=ie[0],ce=ie[1],ue=N(Object(i.useState)(!!q("queryCommandValue","autoSpacing")),2),le=ue[0],se=ue[1],pe=Object(i.useCallback)(h()((function(e,t,n,r){if(!e)return!1;var o=["default"===t?0:1];15!==n?o.push(n):o.push(15),o.push(r?1:0);var i=o.join(",");v.a.update({docsSetting:i}),l({type:"proxy.web/mine.updateUserSettings",payload:{data:{key:"docsSetting",value:i}}})}),500),[]),fe=Object(i.useCallback)(h()((function(e,t,n,r){v.a.update({recordDocSetting:e}),l({type:"proxy.web/mine.updateUserSettings",payload:{data:{key:"recordDocSetting",value:e}}}).then((function(){pe(e,t,n,r)}))}),500),[]),de=Object(i.useCallback)((function(e){oe(e),R(e),pe(X,ae,e,le)}),[X,ae,re,le]),me=Object(i.useCallback)((function(e){ce(e),F(e),pe(X,e,re,le)}),[X,ae,re,le]),he=Object(i.useCallback)((function(e){se(!!e),U(!!e),pe(X,ae,re,!!e)}),[X,ae,re,le]),be=Object(i.useCallback)((function(e){$(e),fe(e,ae,re,le)}),[X,ae,re,le]),ge=function(){B(null)},ye=function(){var e=L(E().mark((function e(){var n,r,i,a,c,l,s,p,f,m,h,b,g,y=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=A(A({},n=y.length>0&&void 0!==y[0]?y[0]:{}),u),r=n.slug||k.a.createSlug(),n.slug=r,n.book_id=t.id,n.format||(n.format=w.a.getDefaultDocumentFormat(n.type)),i=null,e.prev=7,!T||!x){e.next=26;break}return e.next=11,k.a.createDoc(n,void 0,{useOriginResp:!0});case 11:if(a=e.sent,c=a.data,l=a.toc,I("doc created",{cmd:D,doc:c}),s="/".concat(t.namespace,"/").concat(c.slug,"/edit"),p=s,"doc_toc"===n.create_from&&((f=new URLSearchParams(window.location.search)).set("toc_node_uuid",n.toc_node_uuid),p="".concat(s,"?").concat(f.toString())),C.current.id!==t.id){e.next=23;break}if("markdown"===c.format?(m=new URL(s,window.location.origin),i=i||window,"doc_toc"===n.create_from&&m.searchParams.set("toc_node_uuid",n.toc_node_uuid),i.location.href=m.href):x.push(p),!O){e.next=23;break}return O(c,l),e.abrupt("return");case 23:ge(),e.next=40;break;case 26:if(T){e.next=40;break}return e.next=29,k.a.createDoc(n);case 29:if(h=e.sent,I("doc created",{cmd:D,doc:h}),b="/".concat(t.namespace,"/").concat(h.slug,"/edit"),g=new URL(b,window.location.origin),i=i||window,"doc_toc"===n.create_from&&g.searchParams.set("toc_node_uuid",n.toc_node_uuid),ge(),!O){e.next=39;break}return O(h),e.abrupt("return");case 39:i.location.href=g.href;case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(7),"limit_exceeded"===e.t0.code?o.a.error(e.t0.message):e.t0.code!==d.LIMIT_RULE_CODE.max_doc_note_number&&i&&i.close();case 45:return e.prev=45,i=null,e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[7,42,45,48]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=__("确认删除 {title}？",{title:c.title});r.a.confirm({title:e,content:__(""),onOk:function(){l({type:"proxy.web/docs.destroy",payload:{data:{id:c.id}}}).then((function(e){p({cmd:j.a.DOC.delete.cmd,result:e})}))}})},_e=Object(g.a)(),we=_e.loadTemplateSelector,je=_e.showTemplateSelector,ke=_e.contextHolder,Se=function(){var e=L(E().mark((function e(){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je({book:t});case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",ge());case 5:return e.abrupt("return",Object(b.d)(t,n,u));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(r,i){var a=u;switch(I("exec",{cmd:r,params:a}),B(r),r){case j.a.DOC.delete.cmd:ve();break;case j.a.DOC.print.cmd:window.print();break;case j.a.DOC.enter_read_mode.cmd:case j.a.DOC.publish_enter_read_mode.cmd:window.__readyToPublish({enterReadMode:!0});break;case j.a.DOC.open_in_browser.cmd:window.YuqueDesktopAppJSBridge.openExternalLink("".concat(window.location.origin,"/").concat(t.namespace,"/").concat(c.slug));break;case j.a.DOC.fullscreen.cmd:case j.a.DOC.exit_fullscreen.cmd:s.a.enabled?s.a.toggle():o.a.error(__("你的浏览器不支持全屏功能"));break;case j.a.DOC.raw.cmd:window.location.href="".concat(window.location.pathname.replace(/\/+$/,""),"/html");break;case j.a.DOC.view_markdown.cmd:window.location.href="".concat(window.location.pathname.replace(/\/+$/,""),"/markdown");break;case j.a.DOC.presentation.cmd:window.open("".concat(window.location.pathname.replace(/\/+$/,""),"/present"));break;case j.a.DOC.create_doc.cmd:ye({type:"Doc",format:f.a.FORMAT.LAKE,title:a.title,slug:a.slug});break;case j.a.NOTE.create_note.cmd:var d,h;if(window.appData.isDesktopApp)null===(d=window.YuqueDesktopAppJSBridge)||void 0===d||null===(h=d.ipcSend)||void 0===h||h.call(d,{channel:S.a.MINI_WINDOW.OPEN_WINDOW});else Promise.all([n.e(4),n.e(5),n.e(6),n.e(0),n.e(1260)]).then(n.bind(null,3676)).then((function(e){e.default.show()}));break;case j.a.DOC.create_doc_template.cmd:ye({title:__("自定义模板"),type:f.a.TYPE.DOC,format:f.a.FORMAT.LAKE,tag:"YUQUE_TEMPLATE"});break;case j.a.DOC.create_from_template.cmd:m&&m(),Se();break;case j.a.DOC.create_markdown.cmd:ye({type:"Doc",format:f.a.FORMAT.MARKDOWN,title:a.title,slug:a.slug});break;case j.a.DOC.create_sheet.cmd:ye({type:"Sheet",title:a.title,slug:a.slug});break;case j.a.DOC.create_mind.cmd:case j.a.DOC.create_board.cmd:ye({type:"Board",title:a.title,slug:a.slug});break;case j.a.DOC.create_table.cmd:ye({type:"Table",title:a.title,slug:a.slug});break;case j.a.DOC.create_thread.cmd:window.location.href="/".concat(t.namespace,"/new");break;case j.a.DOC.edit.cmd:var b="/".concat(t.namespace,"/").concat(c.slug,"/edit");z?y.a.pushWebWindow({url:"".concat(window.location.origin).concat(b)}):window.location.href=b;break;case j.a.DOC.manage_table.cmd:case j.a.DOC.manage_doc.cmd:window.location.href="/r/".concat(t.namespace,"/docs");break;case j.a.DOC.modify_toc.cmd:window.location.href="/r/".concat(t.namespace,"/toc?from=").concat(c.slug);break;case j.a.DOC.exit.cmd:window.location.href="/dashboard";break;case j.a.DOC.archive.cmd:l({type:"proxy.web/docs.archive",payload:{data:{id:c.id}}}).then((function(e){o.a.success(__("话题已归档")),p({cmd:j.a.DOC.archive.cmd,result:e})}));break;case j.a.DOC.unarchive.cmd:l({type:"proxy.web/docs.unarchive",payload:{data:{id:c.id}}}).then((function(e){o.a.success(__("已取消归档")),p({cmd:j.a.DOC.unarchive.cmd,result:e})}));break;case j.a.DOC.pin.cmd:l({type:"proxy.web/docs.pin",payload:{data:{id:c.id}}}).then((function(e){o.a.success(__("置顶成功")),p({cmd:j.a.DOC.pin.cmd,result:e})}));break;case j.a.DOC.unpin.cmd:l({type:"proxy.web/docs.unpin",payload:{data:{id:c.id}}}).then((function(e){o.a.success(__("已取消置顶")),p({cmd:j.a.DOC.unpin.cmd,result:e})}));break;case j.a.DOC.send_mail.cmd:H(!0);break;case j.a.DOC.document_layout_select.cmd:case j.a.DOC.document_layout.cmd:!function(e){q("execCommand","layout",e)}(i);break;case j.a.DOC.document_typography.cmd:!function(e){te(e),q("execCommand","typography",e),Z()||oe(Z(!1))}(i);break;case j.a.DOC.document_fontsize.cmd:de(i);break;case j.a.DOC.document_paragraph_spacing.cmd:me(i);break;case j.a.DOC.document_auto_spacing.cmd:he(i);break;case j.a.DOC.document_record_setting.cmd:be(i);break;default:e.onCommandsExecuted({cmd:r})}};return a.a.useEffect((function(){D&&(null==D?void 0:D.cmd)===j.a.DOC.create_from_template.cmd&&we()}),[D]),a.a.useEffect((function(){window.__execAction=function(t,n){[j.a.DOC.save_published_as_version.cmd,j.a.DOC.save_editing_as_version.cmd].includes(t)&&(Oe(t,n),e.onSelect({key:t}))}}),[]),{cmd:D,sendAlimail:G,mailSending:V,typography:ee,defaultFontSize:re,recordDocSetting:X,paragraphSpacing:ae,autoSpacing:le,reset:ge,doAction:Oe,setSendAlimail:H,setMailSending:K,getEditorLayout:function(){return q("queryCommandValue","layout")},getWordCount:function(){return q("queryCommandValue","wordCount")},contextHolder:ke}}},3677:function(e,t){e.exports={STORAGE_KEY:"custom-keyboard-shortcut",SPECIAL_KEY_MAP:{186:";",187:"=",188:",",189:"-",190:".",191:"/",219:"[",221:"]",222:"'"},MOUSETRAP_SPECIAL_KEY:{13:"enter",27:"esc",32:"space"},META_ORDER:{macOS:["metaKey","altKey","shiftKey","ctrlKey"],windows:["ctrlKey","altKey","shiftKey"]},EVENTKEY_TO_KEYBOARD:{macOS:{ctrlKey:"^",shiftKey:"⇧",metaKey:"⌘",altKey:"⌥"},windows:{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt"}},KEYBOARD_TO_SHORTCUT:{macOS:{"⇧":"Shift","⌘":"CommandOrControl","⌥":"Alt","^":"Ctrl"},windows:{Ctrl:"CommandOrControl",Shift:"Shift",Alt:"Alt"}},META_FOT_MOUSETRAP:{macOS:{Ctrl:"ctrl",CommandOrControl:"command",Shift:"shift",Alt:"option"},windows:{CommandOrControl:"ctrl",Shift:"shift",Alt:"option"}},SEP:{macOS:" ",windows:" + "},DEFAULT_SHORTCUT:{openMainWindow:"CommandOrControl+Alt+Y",openMiniWindow:"CommandOrControl+Shift+Y",createNewDoc:"CommandOrControl+N",openSetting:"CommandOrControl+,",zoomIn:"CommandOrControl+=",zoomOut:"CommandOrControl+-",zoomReset:"CommandOrControl+0",exit:"CommandOrControl+Q",switchLayoutMode:"CommandOrControl+Alt+,",enterShowMode:"CommandOrControl+Alt+P",minimize:"CommandOrControl+M",openHistoryBoard:"CommandOrControl+Y",openSearchBar:"CommandOrControl+F",close:"CommandOrControl+W",setFullScreen:"CommandOrControl+Alt+F",showEmojiPanel:"CommandOrControl+Alt+Space",undo:"CommandOrControl+Z",redo:"CommandOrControl+Shift+Z",showGlobalSearchModal:"CommandOrControl+J",cut:"CommandOrControl+X",copy:"CommandOrControl+C",paste:"CommandOrControl+V",pasteAndMatch:"CommandOrControl+Shift+V",selectAll:"CommandOrControl+A",hide:"CommandOrControl+H"},NO_SHORTCUT:"NO_SHORTCUT",TYPE:{globalShortcut:"globalShortcut",menuShortcut:"menuShortcut",mousetrap:"mousetrap"}}},3686:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),o=n(654),i=n(3481),a="styles-module_selector_Z3+Wx",c="styles-module_title_Misjv";function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var l=["title","onClose","onSelect"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=function(e){var t=e.title,n=e.onClose,i=e.onSelect,u=m(e,l);return r.createElement("div",{className:a},r.createElement("button",{type:"button","aria-label":"Close",className:"ant-modal-close",onClick:n},r.createElement("span",{className:"ant-modal-close-x"},r.createElement(o.default,null))),r.createElement("h3",{className:c},t),r.createElement(e.selectorSlot,f(f({},u),{},{onBookSelect:function(e){return i(e)}})))},b=function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(8),n.e(1285)]).then(n.bind(null,4091)).then((function(e){var t=e.default;return r.memo((function(e){return r.createElement(h,s({},e,{selectorSlot:t}))}))}))};function g(){var e=Object(i.a)({loader:b,name:"BookSelector"}),t=e.loadSelector,n=e.showSelector;return{loadBookSelector:t,showBookSelector:function(e){return n(e,{width:520,maskClosable:!0,centered:!0})},contextHolder:e.contextHolder}}},3693:function(e,t,n){"use strict";n.r(t);n(73);var r=n(31),o=n(0),i=n.n(o),a=n(2),c=n.n(a),u=n(3533),l="index-module_searchModalWrapper_vtDAq",s="index-module_searchInput_MvuM1",p=["visible","onCancel"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=function(e){var t=e.visible,n=e.onCancel,a=h(e,p),c=d(Object(o.useState)(t),2),m=c[0],b=c[1],g={size:"large",placeholder:__("搜索"),autoComplete:"nope",allowClear:!0,bordered:!1,className:s},y=function(){b(!1),n()};return Object(o.useEffect)((function(){b(t)}),[t]),i.a.createElement(r.a,{keyboard:!0,onCancel:y,wrapClassName:l,width:720,footer:null,visible:m,destroyOnClose:!0},i.a.createElement(u.a,f({},a,{sence:"modal",searchInputProps:g,onCancel:y})))};b.propTypes={onCancel:c.a.func,visible:c.a.bool};t.default=b},3694:function(e,t,n){var r=n(524),o=n(3695),i=n(232),a=Object.prototype.toString,c=o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),e[t]=n}),r(i));e.exports=c},3695:function(e,t,n){var r=n(3696);e.exports=function(e,t){return function(n,o){return r(n,e,t(o),{})}}},3696:function(e,t,n){var r=n(484);e.exports=function(e,t,n,o){return r(e,(function(e,r,i){t(o,n(e),r,i)})),o}},3732:function(e,t,n){"use strict";n.d(t,"b",(function(){return G})),n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return Y}));n(785);var r=n(424),o=(n(498),n(100)),i=(n(37),n(10)),a=n(0),c=n(2),u=n.n(c),l=n(5),s=n.n(l),p=n(79),f=n(46),d=n(3365),m=n(1223),h=n(3509),b=n(267),g=n(116),y=n(32),v=n(3686),_=n(1406),w=n(387),j=n(709),k=n(790),S=n(120),O=n(3611),E=n(22),x=n(708),A={menuItemContainer:"GlobalDocCreate-module_menuItemContainer_+DgHG",popoverContainer:"GlobalDocCreate-module_popoverContainer_zQaDv",dashboardDocCreatePopoverContainer:"GlobalDocCreate-module_dashboardDocCreatePopoverContainer_zzl+8",iconContainer:"GlobalDocCreate-module_iconContainer_eX6jK",iconBeta:"GlobalDocCreate-module_iconBeta_hDUuJ",menuList:"GlobalDocCreate-module_menuList_s1r7J",menuListItem:"GlobalDocCreate-module_menuListItem_hC68r",templateCenterButton:"GlobalDocCreate-module_templateCenterButton_Rrl2q",btnBlock:"GlobalDocCreate-module_btnBlock_W3wwE",desc:"GlobalDocCreate-module_desc_6gQhM"};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function C(){C=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:E(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",h="completed",b={};function g(){}function y(){}function v(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,a)&&(_=j);var k=v.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==T(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?h:d,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(T(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function L(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,c,"next",e)}function c(e){L(i,r,o,a,c,"throw",e)}a(void 0)}))}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=Object(b.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(8),n.e(10),n.e(1266)]).then(n.bind(null,3596))}),{suspense:!0}),R=Object(b.b)((function(){return Promise.all([n.e(0),n.e(1),n.e(8),n.e(10),n.e(1265)]).then(n.bind(null,3526))}),{suspense:!0}),F=[z(z({},S.a.DOC.create_doc),{},{aspm:"c83330.d83331"}),z(z({},S.a.DOC.create_sheet),{},{aspm:"c83330.d83332"}),z(z({},S.a.DOC.create_board),{},{aspm:"c83330.d83335"}),z(z({},S.a.DOC.create_table),{},{aspm:"c69553.d143083"}),S.a.DOC.divide,z(z({},S.a.DOC.create_from_template),{},{aspm:"c83330.d83333"}),z(z({},S.a.DOC.import_to_book),{},{aspm:"c73330.d83334"})].filter((function(e){return!!e})),U=[z(z({},S.a.NOTE.create_note),{},{title:__("新建小记")}),z(z({},S.a.DOC.create_doc),{},{menuTitle:__("文档#short"),aspm:"c66434.d136623"}),z(z({},S.a.DOC.create_sheet),{},{menuTitle:__("表格"),aspm:"c66434.d136624"}),z(z({},S.a.DOC.create_board),{},{menuTitle:__("画板"),aspm:"c66434.d136626"}),z(z({},S.a.DOC.create_table),{},{menuTitle:__("数据表#short"),aspm:"c66434.d143083"}),S.a.DOC.divide,z(z({},S.a.DOC.import_to_book),{},{aspm:"c73330.d73336"})].filter((function(e){return!!e}));function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enableGroupFilter,n=void 0!==t&&t,r=e.onHideScopedSearch,o=Object(h.a)(),c=o.loadTemplateSelector,u=o.showTemplateSelector,l=o.contextHolder,s=Object(v.a)(),f=s.loadBookSelector,b=s.showBookSelector,_=s.contextHolder,O=a.useRef(null),A=P(a.useState(!1),2),T=A[0],L=A[1],I=P(a.useState(!1),2),D=I[0],z=I[1],M=Object(d.a)(),q=function(){var e=N(C().mark((function e(t){var n,r,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=O.current){e.next=3;break}return e.abrupt("return");case 3:return r={title:j.a.getDefaultTitle(k.a.adapterDocType(n.docType)),type:k.a.adapterDocType(n.docType),format:k.a.getDefaultFormat(n.docType),book_id:t.id,status:p.STATUS.draft,insert_to_catalog:!0,action:"prependChild",target_uuid:null},e.next=6,k.a.createDoc(r);case 6:return o=e.sent,e.next=9,Object(x.c)("/".concat(t.user.login,"/").concat(t.slug,"/").concat(o.slug,"/edit"),{page:"bookOverview"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=O.current;return(null==e?void 0:e.title)||""},F=function(){O.current=null},U=function(){var e=N(C().mark((function e(){var t,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({group:null});case 2:if(!(t=e.sent)){e.next=10;break}return e.next=6,b({title:R(),enableGroupFilter:n});case 6:if(!(r=e.sent)){e.next=10;break}return e.next=10,Object(m.d)(r,t);case 10:F();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=N(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==b?void 0:b({title:R(),enableGroupFilter:n});case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,q(t);case 6:null==r||r();case 7:F();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=N(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({title:R(),enableGroupFilter:n});case 2:t=e.sent,window.location.href="/".concat(t.user.login,"/").concat(t.slug,"#import_to_book");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){L(e)};return{state:{showCreateGroupModal:T,isNewRepoModalShow:D},execCommand:function(e){switch(O.current=e,e.cmd){case S.a.DOC.create_from_template.cmd:return U();case S.a.DOC.import_to_book.cmd:return W();case S.a.GROUP.create.cmd:return function(){var e=M.usage,t=M.limit;if(t.max_group_number&&e.group_count>=t.max_group_number){var n=Object(w.d)();if(n){var r=window.appData.organization;return Object(g.spmClick)(y.ORG_LIMIT_SPM.pay_limit,{pay_source:y.LIMIT_RULE_CODE.max_group_number,org_id:(null==r?void 0:r.id)||0}),i.a.warning(n)}}G(!0)}();case S.a.BOOK.create.cmd:return z(!0);case S.a.NOTE.create_note.cmd:var t,n;return null===(t=window.YuqueDesktopAppJSBridge)||void 0===t||null===(n=t.ipcSend)||void 0===n?void 0:n.call(t,{channel:E.a.MINI_WINDOW.OPEN_WINDOW});default:return B()}},loadTemplateSelector:c,loadBookSelector:f,changeShowCreateGroupModalStatus:G,setIsNewRepoModalShow:z,contextHolder:a.createElement(a.Fragment,null,l,_)}}var W=function(e){var t=e.actions,n=e.onClick,r=e.iconSize,i=void 0===r?18:r,c=e.getTitle,u=void 0===c?function(e){return e.title}:c,l=window.appData,p=l.isDesktopApp,d=l.organization,m=Object(O.a)("openMiniWindow").shortcut;return a.createElement(o.a,{selectedKeys:[],"data-uia-action":"global:doc_create:menu"},t.map((function(e,t){return e.cmd===S.a.DOC.divide.cmd?a.createElement(o.a.Divider,{key:"divide-".concat(t)}):e.cmd===S.a.NOTE.create_note.cmd?p&&!d?a.createElement(o.a.Item,{key:e.cmd,className:s()({"list-item-en":"en-us"===window.appData.locale}),onClick:function(){n(e)}},a.createElement("div",{className:A.menuItemContainer,"data-aspm-click":e.aspm},a.createElement(f.b,{className:A.iconContainer,name:e.icon,width:i}),a.createElement("span",null,u(e)),a.createElement("span",{className:A.desc},m))):null:[S.a.DOC.create_from_template.cmd,S.a.DOC.import_to_book.cmd,S.a.DOC.create_table.cmd].includes(e.cmd)?a.createElement(_.a,{tooltipPlacement:"right"},a.createElement(o.a.Item,{key:e.cmd,className:s()({"list-item-en":"en-us"===window.appData.locale}),onClick:function(){n(e)}},a.createElement("div",{className:A.menuItemContainer,"data-aspm-click":e.aspm},a.createElement(f.b,{className:A.iconContainer,name:e.icon,width:i}),a.createElement("span",null,u(e))))):a.createElement(o.a.Item,{key:e.cmd,className:s()({"list-item-en":"en-us"===window.appData.locale}),onClick:function(){n(e)}},a.createElement("div",{className:A.menuItemContainer,"data-aspm-click":e.aspm},a.createElement(f.b,{className:A.iconContainer,name:e.icon,width:i}),a.createElement("span",null,u(e))))})))};function G(e){var t=B(z(z({},e),{},{createType:"single"})),n=e.command,r=t.state,o=t.changeShowCreateGroupModalStatus,i=t.setIsNewRepoModalShow;return a.useEffect((function(){n.cmd===S.a.DOC.create_from_template.cmd&&t.loadTemplateSelector(),t.loadBookSelector()}),[n]),a.createElement(a.Fragment,null,a.createElement("span",{onClick:function(){return t.execCommand(n)}},e.children),t.contextHolder,r.showCreateGroupModal&&a.createElement(R,{isModalVisible:r.showCreateGroupModal,handleCancel:function(){var t;null===(t=e.onHandleCancel)||void 0===t||t.call(e),o(!1)}}),r.isNewRepoModalShow&&a.createElement(q,{isModalVisible:r.isNewRepoModalShow,handleCancel:function(){var t;null===(t=e.onHandleCancel)||void 0===t||t.call(e),i(!1)}}))}function H(e){var t=B(z(z({},e),{},{createType:"all"}));return a.useEffect((function(){t.loadBookSelector()}),[]),a.createElement(a.Fragment,null,a.createElement(r.a,{overlayClassName:A.dashboardDocCreatePopoverContainer,trigger:"hover",getPopupContainer:function(e){return e.parentNode},placement:"bottomRight",hideWhenInactive:!0,overlayStyle:{width:259},content:a.createElement(W,{actions:U,onClick:function(e){return t.execCommand(e)}})},e.children),t.contextHolder)}function Y(e){var t=B(z(z({},e),{},{createType:"all"}));return a.useEffect((function(){t.loadTemplateSelector(),t.loadBookSelector()}),[]),a.createElement(a.Fragment,null,a.createElement(r.a,{overlayClassName:A.popoverContainer,noArrow:!0,trigger:"hover",getPopupContainer:function(e){return e.parentNode},placement:"bottomRight",content:a.createElement(W,{actions:F,onClick:function(e){return t.execCommand(e)}})},e.children),t.contextHolder)}G.propTypes={onHandleCancel:function(){}},G.propTypes={command:u.a.object,children:u.a.node,enableGroupFilter:u.a.bool,onHandleCancel:u.a.func},H.propTypes={children:u.a.node,enableGroupFilter:u.a.bool},Y.propTypes={children:u.a.node,enableGroupFilter:u.a.bool}},3751:function(e,t,n){"use strict";n.r(t);n(143);var r=n(67),o=(n(650),n(319)),i=(n(60),n(14)),a=(n(498),n(100)),c=(n(37),n(10)),u=n(0),l=n.n(u),s=n(2),p=n.n(s),f=n(5),d=n.n(f),m=n(910),h=n(46),b=n(228),g=n(3603),y=n(981),v=n(362),_=n(116),w=n(4142),j=n(230),k=n(518),S=n(22),O=n(130),E={container:"SearchHistory-module_container_9eGYG",pc:"SearchHistory-module_pc_XsAvr",list:"SearchHistory-module_list_68hvx",item:"SearchHistory-module_item_0xP6c",searchHistoryModal:"SearchHistory-module_searchHistoryModal_hiZEO",header:"SearchHistory-module_header_ydI8l",delete:"SearchHistory-module_delete_JBaOp"};function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function A(e,t,n){return t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){T=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:E(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",h="completed",b={};function g(){}function y(){}function v(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,a)&&(_=j);var k=v.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==x(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=A(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?h:d,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(x(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function C(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.onItemClick,n=L(Object(u.useState)(!0),2),r=n[0],o=n[1],i=L(Object(u.useState)([]),2),a=i[0],c=i[1],l=function(){return o(!0),O.webProxy.searchHistory.find().then((function(e){c(e)})).finally((function(){return o(!1)}))};Object(u.useEffect)((function(){l()}),[]);var s=function(){var e,t=(e=T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.webProxy.searchHistory.destroy();case 2:c([]);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,c,"next",e)}function c(e){C(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return{state:{list:a,loading:r},handler:{getData:l,cleanAll:s,onItemClick:t}}},I=function(e){var t=P(e),n=t.state,r=t.handler,o=e.isMobile,i=n.list,a=r.onItemClick,c=r.cleanAll;return i.length?l.a.createElement("div",{className:d()(E.container,"search-history",E[o?"h5":"pc"],A({},E.searchHistoryModal,"modal"===e.sence))},l.a.createElement("div",{className:E.header},l.a.createElement("div",null,__("搜索历史")),l.a.createElement("div",{className:E.delete,onClick:c},l.a.createElement(h.b,{name:"icon-delete",width:14,height:14}),l.a.createElement("span",null,__("清空")))),l.a.createElement("div",{className:E.list},i.map((function(e){return l.a.createElement("div",{className:E.item,key:e.id,onClick:function(){return a(e.query)}},e.query)})))):null};I.defaultProps={isMobile:window.h5},I.propTypes={isMobile:p.a.bool};var D=I,z=n(3622),M=n(377),q=(n(3180),n(3482)),R=n(1511),F=n.n(R),U=n(706),B=n(8),W=n(457),G=n(4738),H=n(3672),Y=n(628),V={title:"JumpMenu-module_title_XgpJ5",menu:"JumpMenu-module_menu_m-ETp",noSelected:"JumpMenu-module_noSelected_ITXT-",jumpIconButton:"JumpMenu-module_jumpIconButton_PYy2Z",jumpScope:"JumpMenu-module_jumpScope_bJVyA",jumpMenu:"JumpMenu-module_jumpMenu_Fr5h9",jumpMenuList:"JumpMenu-module_jumpMenuList_OJGJg",jumpMenuListDark:"JumpMenu-module_jumpMenuListDark_Mjlei",searchContent:"JumpMenu-module_searchContent_bTQ4J",jumpItemWrapper:"JumpMenu-module_jumpItemWrapper_vfjfO",jumpItemLabelText:"JumpMenu-module_jumpItemLabelText_oCOLn",jumpItemLabel:"JumpMenu-module_jumpItemLabel_OPbMQ",vipComponent:"JumpMenu-module_vipComponent_kIAME",jumpItemAbstract:"JumpMenu-module_jumpItemAbstract_h6CeZ",jumpItemHasFirstEm:"JumpMenu-module_jumpItemHasFirstEm_pAZhQ",jumpItemIcon:"JumpMenu-module_jumpItemIcon_bOWlR",groupIcon:"JumpMenu-module_groupIcon_pOoFp",jumpItemKey:"JumpMenu-module_jumpItemKey_jwWab",jumpItemTime:"JumpMenu-module_jumpItemTime_inSO2",upgrade:"JumpMenu-module_upgrade_MONgw",menuActive:"JumpMenu-module_menuActive_o-LPE",emptyWrapper:"JumpMenu-module_emptyWrapper_USemz"};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function J(e,t,n){return t=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){return F()(e,{whiteList:{em:[],span:[]}})}var Q=function(e){var t,n,r,o,i=e.item,a=void 0===i?{}:i,c=e.me,s=e.group,p=e.book,f=e.doc,m=e.scope,b=e.q,y=e.onHandleCancel,v=e.onHideScopedSearch,_=e.createDocBiz,w=(window.appData.notification||{}).notifyCount,k=void 0===w?0:w,S=a.label,O=a.isSep,E=a.time,x=a.abstract,A=a.hoverOn,T=X(Object(u.useState)(m),2),C=T[0],L=T[1],N=X(Object(u.useState)(b),2),P=N[0],I=N[1],D=Object(M.a)().isDarkMode,z=Object(H.a)({doc:f,book:p,commandParams:{insert_to_catalog:!0,action:"prependChild"},createDocBiz:_,onHideScopedSearch:v}).doAction,R=a.noJump||"book"!==C&&/^create_/.test(a.key),F=/^create_(doc|sheet|board|table)/.test(a.key),K=!(null===(t=a.book)||void 0===t||!t.name||null===(n=a.group)||void 0===n||!n.name),$="".concat((null===(r=a.group)||void 0===r?void 0:r.name)||""," / ").concat((null===(o=a.book)||void 0===o?void 0:o.name)||""),Q=A&&K;return Object(u.useEffect)((function(){L(m)}),[m]),Object(u.useEffect)((function(){I(b)}),[b]),O?l.a.createElement("span",null,S):l.a.createElement("div",{className:V.jumpItemWrapper,onClick:F?function(){}:e.onItemJump},function(e){var t,n,r=e.icon;if("switch_theme"===e.key&&(r=D?"nav-day":"nav-night"),"book"===e.type&&(null===(t=e.raw)||void 0===t||null===(n=t.book_icon)||void 0===n?void 0:n.symbol))return l.a.createElement(h.b,{className:d()(V.jumpItemIcon),size:18,name:Y.b.getSymbolName(e.raw.book_icon)});if("group"===e.type){var o,i,a,c=(null===(o=e.raw)||void 0===o?void 0:o.avatar_url)||(null===(i=e.raw)||void 0===i?void 0:i.avatar)||(null===(a=e.raw)||void 0===a?void 0:a.avatarUrl);if(c&&c!==W.avatar.group)return l.a.createElement("img",{src:c,width:18,height:18,className:d()(V.jumpItemIcon,V.groupIcon)});r="group-type-default"}return l.a.createElement(h.b,{className:V.jumpItemIcon,name:r,size:18})}(a),function(e){var t=e.label.replace(/^:([\w_]+)$/,(function(t,n){var r,o,i={group_name:null!==(r=null==s?void 0:s.name)&&void 0!==r?r:Object(j.h)()?__("知识小组"):__("团队"),book_name:null!==(o=null==p?void 0:p.name)&&void 0!==o?o:__("知识库")};return"group_home"!==e.key||s&&s.id!==(null==c?void 0:c.id)?i[n]:(e.url="/dashboard/books",__("个人知识库"))})),n=!1;if("page"!==e.type&&"command"!==e.type){var r,o;if(P&&-1===(null===(r=t)||void 0===r?void 0:r.indexOf("<em>")))t=null===(o=t)||void 0===o?void 0:o.replace(new RegExp(Object(g.c)(P),"g"),(function(e){return"<em>".concat(e,"</em>")}));else if(!P){var i;t=null===(i=t)||void 0===i?void 0:i.replace(new RegExp("\\</?em\\>","g"),"")}t.startsWith("<em>")&&(n=!0)}if("switch_theme"===e.key)return t=D?__("切换默认主题"):__("切换暗黑主题"),l.a.createElement("span",{className:V.jumpItemLabel},t);if(/^create_(doc|sheet|board|table)/.test(e.key)){var a=B.a.DOC[e.key];return"book"!==C?l.a.createElement(G.b,{command:a,onHandleCancel:y,onHideScopedSearch:v},l.a.createElement("span",{className:d()(V.jumpItemLabel,"jump-".concat(e.key))},t)):l.a.createElement("span",{className:d()(V.jumpItemLabel,"jump-".concat(e.key)),onClick:function(){null==v||v(),z(e.key)},dangerouslySetInnerHTML:{__html:Z(t)}})}if("create_repo"===e.key){var u=B.a.BOOK.create;return l.a.createElement(G.b,{command:u,onHandleCancel:y,onHideScopedSearch:v},l.a.createElement("span",{className:d()(V.jumpItemLabel,"jump-".concat(e.key))},t))}return"create_note"===e.key?l.a.createElement("span",{className:d()(V.jumpItemLabel,"jump-".concat(e.key)),onClick:function(){null==y||y(),z(e.key)},dangerouslySetInnerHTML:{__html:Z(t)}}):"notification"===e.key&&k?l.a.createElement("span",{className:V.jumpItemLabel},l.a.createElement(q.a,{dot:!!k,offset:[6,0]},l.a.createElement("span",{className:V.jumpItemLabelText,dangerouslySetInnerHTML:{__html:Z(t)}}))):l.a.createElement("span",{className:d()(V.jumpItemLabel,J({},V.jumpItemHasFirstEm,n)),dangerouslySetInnerHTML:{__html:Z(t)}})}(a),x||E||Q?l.a.createElement(l.a.Fragment,null,x&&l.a.createElement("div",{className:d()(V.jumpItemAbstract,J({},V.jumpItemHasFirstEm,x.startsWith("<em>")))},l.a.createElement("span",{dangerouslySetInnerHTML:{__html:Z(x)}})),!Q&&E&&l.a.createElement("span",{className:V.jumpItemTime},l.a.createElement(U.a,{time:E})),Q&&l.a.createElement("span",{className:V.jumpItemTime},$)):l.a.createElement(l.a.Fragment,null,!R&&l.a.createElement("span",{className:V.jumpItemKey},l.a.createElement("em",null,l.a.createElement(h.b,{name:"enter",size:14})),__("跳转"))))};Q.defaultProps={onItemJump:function(){},onHandleCancel:function(){}},Q.propTypes={onHandleCancel:p.a.func,onItemJump:p.a.func,item:p.a.object,me:p.a.object,organization:p.a.object,group:p.a.object,book:p.a.object,doc:p.a.object,scope:p.a.string,q:p.a.string};var ee=Q,te=n(454),ne=n.n(te),re=n(89),oe=n(4709),ie=n.n(oe),ae=function(e){var t=e.dispatch,n=e.group,r=e.book;return{onFetchFrequancyData:function(){return t({type:"searchtool/fetchFrequancyData"})},onFetchGroups:function(){return t({type:"searchtool/fetchGroups"})},onFetchAllRelatedBooks:function(){return t({type:"searchtool/fetchAllRelatedBooks"})},onFetchGroupBooks:function(){return t({type:"searchtool/fetchGroupBooks",payload:{id:n.id}})},onFetchBookToc:function(){return t({type:"searchtool/fetchBookToc",payload:{id:r.id}})},onFetchRecentUpdatedDocs:function(){return t({type:"searchtool/fetchRecentUpdatedDocs",payload:{id:r.id}})},onFetchMyRecentEditDocs:function(){return t({type:"searchtool/fetchMyRecentEditDocs"})},onFetchMyRecentViewDocs:function(){return t({type:"searchtool/fetchMyRecentViewDocs"})}}};function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(){ue=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new C(r||[]);return o(a,"_invoke",{value:E(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",h="completed",b={};function g(){}function y(){}function v(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(L([])));j&&j!==n&&r.call(j,a)&&(_=j);var k=v.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==ce(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?h:d,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ce(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function le(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){le(i,r,o,a,c,"next",e)}function c(e){le(i,r,o,a,c,"throw",e)}a(void 0)}))}}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||de(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he={key:"seperator",isSep:!0};var be=20;function ge(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.name,i=r.key,a=r.hasMore,c={key:i||"doc-title",label:o||__("文档"),isSep:!0},u={key:i||"book-title",label:o||__("知识库"),isSep:!0},l={key:i||"group-title",label:o||__("团队"),isSep:!0},s={key:i||"page-title",label:o||__("页面"),isSep:!0};if(e=fe(e||[]).filter(Boolean),t&&(e=e.filter((function(e){var n,r,o,i,a;e.label=e.label||"";var c="",u="";ie()(e.label,{style:ie.a.STYLE_NORMAL}).forEach((function(e){var t;c+=(null==e?void 0:e[0])||"",u+=(null==e||null===(t=e[0])||void 0===t?void 0:t[0])||""}));var l=t.toLowerCase(),s=(null===(n=e.label)||void 0===n?void 0:n.toLowerCase().indexOf(l))>-1||(null===(r=e.abstract)||void 0===r?void 0:r.toLowerCase().indexOf(l))>-1,p=(null===(o=c)||void 0===o?void 0:o.toLowerCase().indexOf(l))>-1||(null===(i=u)||void 0===i?void 0:i.toLowerCase().indexOf(l))>-1,f=(null===(a=e.label_en)||void 0===a?void 0:a.toLowerCase().indexOf(l))>-1;return s||p||f}))),e=e.slice(0,be),n&&(e=e.map((function(e){return e.type=n,e}))),a&&e.push({key:"search-more",tab:"book",label:__("查看更多")}),e.length){if("doc"===n)return[c].concat(fe(e),[he]);if("book"===n)return[u].concat(fe(e),[he]);if("group"===n)return[l].concat(fe(e),[he]);if("page"===n)return[s].concat(fe(e),[he])}return e}var ye=[">","》"];var ve=function(e){var t=e.jumpTab,n=e.inputValue,r=e.scope,o=e.onUpdateList,i=e.onLoading,a=e.organization,c=e.group,l=e.book,s=e.me,p=ae(e),f=p.onFetchFrequancyData,d=p.onFetchGroups,m=p.onFetchAllRelatedBooks,h=p.onFetchGroupBooks,b=p.onFetchBookToc,y=p.onFetchRecentUpdatedDocs,v=p.onFetchMyRecentEditDocs,_=p.onFetchMyRecentViewDocs,w=pe(Object(u.useState)(t),2),k=w[0],S=w[1],E=pe(Object(u.useState)(null),2),x=E[0],A=E[1],T=pe(Object(u.useState)("normal"),2),C=T[0],L=T[1],N=pe(Object(u.useState)(r),2),P=N[0],I=N[1],D=pe(Object(u.useState)(null),2),z=D[0],M=D[1],q=pe(Object(u.useState)(null),2),R=q[0],F=q[1],U=pe(Object(u.useState)(null),2),B=U[0],W=U[1],G=pe(Object(u.useState)(null),2),H=G[0],Y=G[1],V=pe(Object(u.useState)(null),2),K=V[0],J=V[1],X=pe(Object(u.useState)(null),2),$=X[0],Z=X[1],Q=pe(Object(u.useState)(null),2),ee=Q[0],te=Q[1],oe=pe(Object(u.useState)(null),2),ie=oe[0],ce=oe[1],le=pe(Object(u.useState)(null),2),de=le[0],me=le[1],ve=pe(Object(u.useState)(null),2),_e=ve[0],we=ve[1],je=pe(Object(u.useState)(null),2),ke=je[0],Se=je[1],Oe=pe(Object(u.useState)([]),2),Ee=Oe[0],xe=Oe[1],Ae=pe(Object(u.useState)(!1),2),Te=Ae[0],Ce=Ae[1],Le=pe(Object(u.useState)(!1),2),Ne=Le[0],Pe=Le[1],Ie=pe(Object(u.useState)(!1),2),De=Ie[0],ze=Ie[1],Me=pe(Object(u.useState)(!1),2),qe=Me[0],Re=Me[1],Fe=pe(Object(u.useState)(!1),2),Ue=Fe[0],Be=Fe[1],We=pe(Object(u.useState)(!1),2),Ge=We[0],He=We[1],Ye=pe(Object(u.useState)(!1),2),Ve=Ye[0],Ke=Ye[1],Je=pe(Object(u.useState)(!1),2),Xe=Je[0],$e=Je[1],Ze=Object(re.c)().pathname,Qe=null==a?void 0:a.id,et=window.appData.isYuque,tt="/r/organizations/homepage"===Ze,nt=j.c.title(c);et||(nt=__("团队"));var rt=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.id){e.next=2;break}return e.abrupt("return");case 2:if(!Te){e.next=4;break}return e.abrupt("return");case 4:i(!0),Ce(!0),f().then((function(e){i(!1),Ce(!1),M(e)})).catch((function(){i(!1),Ce(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.id&&(null==a||!a.id)){e.next=2;break}return e.abrupt("return");case 2:if(!Ne){e.next=4;break}return e.abrupt("return");case 4:i(!0),Pe(!0),m().then((function(e){i(!1),Pe(!1),F(e)})).catch((function(){i(!1),Pe(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.id){e.next=2;break}return e.abrupt("return");case 2:if(!De){e.next=4;break}return e.abrupt("return");case 4:i(!0),ze(!0),d().then((function(e){i(!1),ze(!1),J(e)})).catch((function(){i(!1),ze(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.id&&c&&g.b.can(c,"read")){e.next=2;break}return e.abrupt("return");case 2:if(!qe){e.next=4;break}return e.abrupt("return");case 4:i(!0),Re(!0),h().then((function(e){i(!1),Re(!1),Z(e)})).catch((function(){i(!1),Re(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&g.b.can(l,"read")){e.next=2;break}return e.abrupt("return");case 2:if(!Ue){e.next=4;break}return e.abrupt("return");case 4:i(!0),Be(!0),b().then((function(e){i(!1),Be(!1),te(e)})).catch((function(){i(!1),Be(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&g.b.can(l,"read")){e.next=2;break}return e.abrupt("return");case 2:if(!Ge){e.next=4;break}return e.abrupt("return");case 4:i(!0),He(!0),y().then((function(e){i(!1),He(!1),ce(e)})).catch((function(){i(!1),He(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.id){e.next=2;break}return e.abrupt("return");case 2:if(!Ve){e.next=4;break}return e.abrupt("return");case 4:i(!0),Ke(!0),v().then((function(e){i(!1),Ke(!1),me(e)})).catch((function(){i(!1),Ke(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=se(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.id){e.next=2;break}return e.abrupt("return");case 2:if(!Xe){e.next=4;break}return e.abrupt("return");case 4:i(!0),$e(!0),_().then((function(e){i(!1),$e(!1),we(e)})).catch((function(){i(!1),$e(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=Object(u.useCallback)(ne()((function(){if(x&&(!Qe||g.b.can(a,"read"))){var e={p:1,q:x,limit:be+1,sence:"modal",type:"content"};if("group"===P){if(!g.b.can(c,"read"))return;e.scope=c.login,e.tab="group"}else{if("book"!==P)return;if(!g.b.can(l,"read"))return;e.scope="".concat(c.login,"/").concat(l.slug),e.tab="book"}i(!0),tt||O.webProxy.search.zsearch(e).then((function(e){i(!1);var t=e.hits.map((function(e){var t,n,r=(null==e||null===(t=e._record)||void 0===t?void 0:t.type)||e.type;return{type:"doc",key:"doc-searchcontent-".concat(e.id),icon:"doc-type-".concat(r&&"Doc"!==r?r.toLowerCase():"default"),label:e.title,time:null===(n=e._record)||void 0===n?void 0:n.published_at,abstract:e.abstract,url:"/go/doc/".concat(e.id),raw:e,book:{name:e.book_name},group:{name:e.group_name}}}));Se(t)})).catch((function(){i(!1)}))}}),200),[x,P]);return Object(u.useEffect)((function(){S(t)}),[t]),Object(u.useEffect)((function(){I(r)}),[r]),Object(u.useEffect)((function(){if(null!==x)return"group"===P?((null==c?void 0:c.id)===(null==s?void 0:s.id)?ot():"Group"!==(null==c?void 0:c.type)&&"Wiki"!==(null==c?void 0:c.type)&&"PublicPage"!==(null==c?void 0:c.type)||at(),x&&pt()):"book"===P?x?(ct(),pt()):ut():x?(it(),ot(),lt(),st()):rt(),function(){pt.cancel()}}),[P,x]),Object(u.useEffect)((function(){var e,t;!function(e){return ye.includes(null==e?void 0:e.trim().slice(0,1))}(n)?(e=null==n?void 0:n.trim(),t="normal"):(e=null==n?void 0:n.trim().slice(1).trim(),t="command"),A(e),L(t)}),[n]),Object(u.useEffect)((function(){W(g.b.generateMenuList(e,"command",P)),Y(g.b.generateMenuList(e,"normal",P))}),[P]),Object(u.useEffect)((function(){var e,t=[];if("command"===C)t=ge(B,x,"command");else if("normal"===C){switch(P){case"book":t=x?[].concat(fe(ge(ee,x,"doc",{name:__("推荐结果"),key:"recommand-doc-title",searchHighlight:!0})),fe(ge(ke,x,"doc",{name:__("在“{name}”内搜索的结果",{name:null==l?void 0:l.name}),key:"searchcontent-doc-title",hasMore:(null==ke?void 0:ke.length)>=be}))).filter(Boolean):ge(ie,x,"doc");break;case"group":t=ge((null==c?void 0:c.id)===(null==s?void 0:s.id)?R:$,x,"book"),x&&!tt&&(t=[].concat(fe(t),fe(ge(ke,x,"doc",{name:"Wiki"===c.type?__("在公共区内搜索的结果"):__("在“{name}”内搜索的结果",{name:null==c?void 0:c.name}),key:"searchcontent-doc-title",hasMore:(null==ke?void 0:ke.length)>=be}))).filter(Boolean));break;default:t=x?[].concat(fe(ge(R,x,"book")),fe(ge(K,x,"group",{name:nt})),fe(ge(de,x,"doc",{key:"my-recent-edit-docs-title",name:__("编辑过的文档")})),fe(ge(_e,x,"doc",{key:"my-recent-view-docs-title",name:__("浏览过的文档")}))).filter(Boolean):[].concat(fe(ge(null==z?void 0:z.books,x,"book")),fe(ge(null==z?void 0:z.groups,x,"group",{name:nt}))).filter(Boolean)}if(t=[].concat(fe(ge(H,x,"page")),fe(t)),x){var n=Qe?"organization":"public";"book"===P?!Qe||g.b.can(a,"read")?t.unshift({key:"search-book",tab:"book"},he):t=t.filter((function(e){return"search-more"!==e.key})):"group"===P?t.unshift({key:"search-group",tab:"group",isUser:"User"===(null==c?void 0:c.type),isWiki:"Wiki"===(null==c?void 0:c.type),isPublicPage:"PublicPage"===(null==c?void 0:c.type)},he):(window.appData.isDesktopApp&&!Qe||t.unshift({key:"search-".concat(n),tab:n}),null==s||!s.id||Qe&&!g.b.can(a,"read")||t.unshift({key:"search-related",tab:"related"}),t.unshift(he))}}t=function(e){var t,n,r;for(null!==(t=e[0])&&void 0!==t&&t.isSep&&null!==(n=e[1])&&void 0!==n&&n.isSep&&e.shift(),e=e.reduce((function(t,n,r){var o;return 0===r&&"seperator"===n.key||"seperator"===(null===(o=t[t.length-1])||void 0===o?void 0:o.key)&&"seperator"===n.key||r===e.length-1&&"seperator"===n.key||t.push(n),t}),[]);null!==(o=e[e.length-1])&&void 0!==o&&o.isSep;){var o;e.pop()}return"seperator"===(null===(r=e[0])||void 0===r?void 0:r.key)&&e.shift(),e}(t),xe(t),o({list:t,mode:C,selected:null===(e=t.filter((function(e){return!e.isSep}))[0])||void 0===e?void 0:e.key})}),[P,C,x,z,R,K,$,ee,ie,ke,H,B]),{state:{tab:k,list:Ee,q:x,scope:P,mode:C},setMode:L,setScope:I,setQ:A}};function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function we(e,t,n){return t=function(e){var t=function(e,t){if("object"!==_e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){var t=e.onUpdateCurrentJumpTab,n=e.onItemJump,r=e.onHandleCancel,o=e.me,i=e.group,c=e.book,u=e.doc,s=e.organization,p=ve(e).state,f=Object(M.a)().isDarkMode,m=window.appData.isYuque,b=p.list,g=p.tab,y=p.mode,v=p.q,_=p.scope;if(!b.length){if("command"===y){var w=v?__("没有搜索到与“{content}”相关的快捷功能",{content:v}):__("没有搜索到可用的快捷功能");return l.a.createElement("div",{className:V.emptyWrapper},l.a.createElement(z.a,{text:w}))}return null}var j=m?__("公开语雀"):__("内网公开");return null!=s&&s.id&&(j=__("空间内")),l.a.createElement("div",{className:V.jumpMenu},l.a.createElement(a.a,{selectedKeys:[g],className:d()(V.jumpMenuList,we({},V.jumpMenuListDark,f))},b.map((function(p){var f;return"seperator"===p.key?l.a.createElement(a.a.Divider,null):l.a.createElement(a.a.Item,{disabled:p.isSep,selectable:!p.isSep,key:p.key,className:d()(V.menu,V[p.isSep?"title":"item"],(f={},we(f,V.menuActive,g===p.key),we(f,V.searchContent,/^doc-searchcontent-/.test(p.key)&&p.abstract),f)),onMouseEnter:function(){p.isSep||(p.hoverOn=!0,t(p.key))},onMouseLeave:function(){p.isSep||(p.hoverOn=!1)},onKeyDown:function(e){"Enter"===e.key&&(t(p.key),n(e))}},"search-related"===p.key&&l.a.createElement("div",{className:V.jumpItemWrapper,onClick:n},l.a.createElement("span",{className:V.jumpItemLabel},__("在 与我相关 搜索 “{content}”",{content:l.a.createElement("b",null,v)})),l.a.createElement("span",{className:V.jumpItemKey},l.a.createElement("em",null,"↵"),__("跳转"))),("search-public"===p.key||"search-organization"===p.key)&&l.a.createElement("div",{className:V.jumpItemWrapper,onClick:n},l.a.createElement("span",{className:V.jumpItemLabel},__("在 {scope} 搜索 “{content}”",{content:l.a.createElement("b",null,v),scope:j})),l.a.createElement("span",{className:V.jumpItemKey},l.a.createElement("em",null,"↵"),__("跳转"))),"search-group"===p.key&&l.a.createElement("div",{className:V.jumpItemWrapper,onClick:n},l.a.createElement("span",{className:V.jumpItemLabel},p.isPublicPage&&__("在公开页搜索 “{content}”",{content:l.a.createElement("b",null,v)}),p.isWiki&&__("在公共区搜索 “{content}”",{content:l.a.createElement("b",null,v)}),!(p.isWiki||p.isPublicPage)&&__("在 当前{scopeUser} 搜索 “{content}”",{content:l.a.createElement("b",null,v),scopeUser:p.isUser?"用户":"团队"})),l.a.createElement("span",{className:V.jumpItemKey},l.a.createElement("em",null,"↵"),__("跳转"))),"search-book"===p.key&&l.a.createElement("div",{className:V.jumpItemWrapper,onClick:n},l.a.createElement(h.b,{className:V.jumpItemIcon,name:"advanced-search",size:16}),l.a.createElement("span",{className:V.jumpItemLabel},__("高级搜索")),l.a.createElement("span",{className:V.jumpItemKey},l.a.createElement("em",null,"↵"),__("跳转"))),"search-more"===p.key&&l.a.createElement("div",{className:V.jumpItemWrapper,onClick:n},l.a.createElement("span",{className:V.jumpItemLabel},__("查看更多")),l.a.createElement("span",{className:V.jumpItemKey},l.a.createElement("em",null,"↵"),__("跳转"))),!/^search-/.test(p.key)&&l.a.createElement(ee,{item:p,scope:_,onItemJump:n,onHandleCancel:r,q:v,me:o,group:i,book:c,doc:u,organization:s,createDocBiz:e.createDocBiz,onHideScopedSearch:e.onCancel}))}))))};je.defaultProps={onUpdateCurrentJumpTab:function(){},onUpdateList:function(){},onLoading:function(){},onItemJump:function(){},onHandleCancel:function(){}},je.propTypes={onUpdateCurrentJumpTab:p.a.func,onItemJump:p.a.func,onUpdateList:p.a.func,onLoading:p.a.func,onHandleCancel:p.a.func};var ke=je,Se=(n(279),n(138));function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(e){var t=e.group,n=e.book,o=Oe(Object(u.useState)(e.scope),2),i=o[0],a=o[1],c=Oe(Object(u.useState)(e.loading),2),s=c[0],p=c[1];function f(e){return e?e.split("").reduce((function(e,t){return/a-z/i.test(t)?e+=.5:e+=1,e}),0)>11?l.a.createElement(r.a,{title:e,placement:"top"},"".concat(e.slice(0,4),"...").concat(e.slice(-4))):e:""}Object(u.useEffect)((function(){a(e.scope)}),[e.scope,t,n]),Object(u.useEffect)((function(){p(e.loading)}),[e.loading]);var d=s?l.a.createElement(Se.a,{className:V.jumpIconButton}):l.a.createElement(h.b,{className:V.jumpIconButton,size:18,name:"help-search"});return"book"===i?g.b.can(t,"read")?l.a.createElement(l.a.Fragment,null,d,l.a.createElement("span",{className:V.jumpScope},f(t.name),l.a.createElement("em",null,"/"),f(null==n?void 0:n.name),l.a.createElement("em",null,"/"))):l.a.createElement(l.a.Fragment,null,d,l.a.createElement("span",{className:V.jumpScope},f(null==n?void 0:n.name),l.a.createElement("em",null,"/"))):"group"===i?l.a.createElement(l.a.Fragment,null,d,l.a.createElement("span",{className:V.jumpScope},"Wiki"===t.type?__("公共区"):f(null==t?void 0:t.name),l.a.createElement("em",null,"/"))):d};xe.propTypes={scope:p.a.string,group:p.a.object,book:p.a.object,loading:p.a.bool};var Ae,Te=xe,Ce="index-module_wrapper_s12qp",Le="index-module_mini_wf4zr",Ne="index-module_focus_uZVhr",Pe="index-module_option_RE4I8",Ie="index-module_mobile_EbUYP",De="index-module_optionText_3+q2f",ze="index-module_optionScope_KR+io",Me="index-module_pageSearch_AvXFY",qe="index-module_input_U7ZlY",Re="index-module_themeGrey_Ua9SX",Fe="index-module_dropdown_SVXx9",Ue="index-module_inputBoxWrapper_Le-8d",Be="index-module_inputBoxIcon_EezCf",We="index-module_searchIcon_jJone",Ge="index-module_inputBox_IgU21",He="index-module_inputBoxWrapperActive_bvbyh",Ye="index-module_modalSearch_ypoIP",Ve="index-module_inputKeys_+w5se",Ke="index-module_upArrow_eoqSB";function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(){Xe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),c=new C(r||[]);return o(a,"_invoke",{value:E(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",m="executing",h="completed",b={};function g(){}function y(){}function v(){}var _={};l(_,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(L([])));j&&j!==n&&r.call(j,a)&&(_=j);var k=v.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Je(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=f;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?h:d,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Je(t)+" is not iterable")}return y.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(O.prototype),l(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(k),l(k,u,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function $e(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$e(i,r,o,a,c,"next",e)}function c(e){$e(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ut(r.key),r)}}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=at(e);if(t){var o=at(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}(this,n)}}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}function ct(e,t,n){return(t=ut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e){var t=function(e,t){if("object"!==Je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Je(t)?t:String(t)}function lt(e){var t=e.share,n=e.search,r=void 0===n?{}:n,o=t&&t.token,i={q:"",type:"content",scope:r.scope,tab:g.b.clacTabByScope(r.scope,o)};return o&&(i.token=o),g.b.isSinglePage()&&(i=g.b.getQueryByString(window.location.search,e)),i}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(p,e);var t,n,u,s=ot(p);function p(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),ct(it(n=s.call(this,e,t)),"handleChange",(function(e){var t=e.target.value;n.setState((function(e){return{inputValue:t,dropdownVisible:!0,tab:(e.options[0]||{}).key}}));var r=n.props,o=r.history,i=r.location,a=i.query,c=i.pathname;if(a.sence="","/search"===c){var u=new URLSearchParams(a);o.push("/search?".concat(u.toString()))}})),ct(it(n),"handleVisibleChange",(function(e){n.setState({dropdownVisible:e})})),ct(it(n),"handleSearch",(function(){var e=n.props,t=e.history,r=e.location,o=e.onSearch,i=e.embed,a=e.onCancel,u=e.sence,l=e.book,s=e.group,p=e.navTo,f=n.state,d=f.inputValue,m=f.tab,h=f.jumpTab,b=f.scope,y=m,v=f.jumpList.find((function(e){return e.key===h}));null!=v&&v.tab&&"modal"===u&&(y=v.tab);var _="/";b?("book"===b&&(_="".concat(s.login,"/").concat(l.slug)),"group"===b&&(_="".concat(s.login))):_=(Ae=lt(tt(tt({},window.appData),n.props))).scope,null==a||a(),n.props.isMiniType&&(n.toggleInput(!1),n.setState({inputValue:""}));var w=tt(tt({},Ae),{},{p:1,q:d,tab:y,scope:_});y===g.b.SEARCH_TABS.book&&w.token?w.scope="share":delete w.token;var k={forceOpen:y===g.b.SEARCH_TABS.group&&i};if(o)return o(w,k);if(window.appData.isDesktopApp&&p){if("group"===b&&!g.b.can(s,"update"))return void c.a.error(__("无权访问当前内容"));k.handleDesktopTabChange=p}if(g.b.isSinglePage(u)&&!window.h5&&(k.history=t),g.b.isSearchPage(u)&&!window.h5){var S=g.b.getQueryByString(r.search);w.type=S.type}k.sence=u,w.sence=u,k.isPublicPage=Object(j.g)(s),g.b.gotoSearchPage(w,k)})),ct(it(n),"handleClear",(function(){n.setState({inputValue:""}),g.b.isSinglePage()&&n.props.history.push("/search"),n.inputFocus()})),ct(it(n),"onClickOutside",(function(e){!e.target.closest(".scoped-search")&&!e.target.closest(".search-history")&&(n.setState({inputValue:""}),n.toggleInput(!1))})),ct(it(n),"handleKeyDown",(function(e){var t=e.keyCode||e.which,r=n.props,o=r.sence,i=r.group,a=r.book,c=r.organization,u=r.onCancel,l=n.state,s=l.inputValue,p=l.scope,f=l.options,d=l.jumpList,m=l.tab,h=l.jumpTab;if(document.activeElement){var b=document.activeElement.getAttribute("data-testid");if("jump-search-input"!==b&&"search-input"!==b)return}if(n.inputFocus(),e.repeat){if(e.repeat){if(n.repeatTimerRecorder+100>=Date.now())return;n.repeatTimerRecorder=Date.now()}}else n.repeatTimerRecorder=Date.now(),(e.ctrlKey||e.metaKey)&&74===e.keyCode&&(null==u||u());var y=!s&&"modal"===o;if(8===t&&y){if(e.preventDefault(),"book"===p)if(g.b.can(i,"read"))n.setState({scope:"group"});else{if(null!=c&&c.id&&!g.b.can(c,"read"))return;n.setState({scope:null})}else if("group"===p){if(null!=c&&c.id&&!g.b.can(c,"read"))return;n.setState({scope:null})}}else{if((!0===e.metaKey||!0===e.ctrlKey)&&90===t&&y)return e.preventDefault(),void("group"===p&&null!=a&&a.name?n.setState({scope:"book"}):null===p&&null!=i&&i.name&&(g.b.can(i,"read")?n.setState({scope:"group"}):n.setState({scope:null})));if([9,38,40].includes(t)){e.preventDefault();var v=t;if(9===v&&(v=e.shiftKey?38:40),"modal"===o){var _=d.filter((function(e){return!(null!=e&&e.isSep)})),w=_.findIndex((function(e){return e.key===(h||_[0].key)}));(w+=38===v?-1:1)>=_.length&&(w=0),w<0&&(w=_.length-1),null===h&&(w=0);var j=_[w].key;n.setState({jumpTab:j},(function(){var e=document.querySelector('.search-dropdown li[data-menu-id$="'.concat(j,'"]'));null==e||e.scrollIntoView({behavior:"smooth",block:"nearest"}),n.inputFocus()}))}else{var k=f.findIndex((function(e){return e.key===m}));(k+=38===v?-1:1)>=f.length&&(k=0),k<0&&(k=f.length-1),n.setState({tab:f[k].key})}}}})),ct(it(n),"onUpdateList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.list,r=e.type,o=void 0===r?"normal":r,i=e.selected;t&&o&&n.setState({jumpList:t,jumpTab:i},(function(){n.inputFocus()}))})),ct(it(n),"inputFocus",(function(){var e,t,r;null===(e=n.inputRef)||void 0===e||null===(t=e.input)||void 0===t||null===(r=t.focus)||void 0===r||r.call(t)})),ct(it(n),"onUpdateCurrentJumpTab",(function(e){var t,r=n.state.jumpList,o=r.find((function(t){return t.key===e}));o?n.setState({jumpTab:o.key},(function(){n.inputFocus()})):n.setState({jumpTab:null===(t=r.filter((function(e){return!(null!=e&&e.isSep)}))[0])||void 0===t?void 0:t.key},(function(){n.inputFocus()}))})),ct(it(n),"onLoading",(function(e){n.setState({loading:e})})),ct(it(n),"toggleInput",(function(e,t){var r,o,i;(n.setState({active:e}),e&&n.inputRef)&&(n.inputFocus(),t&&(null===(r=n.inputRef)||void 0===r||null===(o=r.input)||void 0===o||null===(i=o.select)||void 0===i||i.call(o)))})),ct(it(n),"onItemJump",(function(e){var t=n.props,r=t.me,o=t.onCancel,i=t.group,a=t.book,c=t.doc,u=n.state,l=u.jumpTab,s=u.jumpList,p=window.appData.isDesktopApp,f=window.yuqueThemeManager;if(null==e||e.preventDefault(),l&&r){var d=s.find((function(e){return e.key===l}));if(/^doc-searchcontent-/.test(null==d?void 0:d.key)&&Object(_.spmClick)("ca38353.da21180"),"page"===(null==d?void 0:d.type)&&Object(_.spmClick)("ca38353.da21470"),"command"===(null==d?void 0:d.type)&&Object(_.spmClick)("ca38353.da21471"),"group"===(null==d?void 0:d.type)&&Object(_.spmClick)("ca38353.da21474"),"book"===(null==d?void 0:d.type)&&Object(_.spmClick)("ca38353.da21475"),"switch_theme"===l)if(f){var h=f.current===m.Theme.dark?m.Theme.default:m.Theme.dark;y.a.switchTheme(f,r.id,h)}else{var b=document.querySelector('[data-testid="jump-vip"]');b&&window.open(b.href)}else if("notification"===l)document.querySelector('[data-testid="notification-modal"]')?null==o||o():n.setState({showNotification:!0,dropdownVisible:!1});else if("enter_ppt"===l){var v;null===(v=document.getElementById("present-btn"))||void 0===v||v.click(),null==o||o()}else if("publish_doc"===l){var w;null===(w=document.getElementById("lake-doc-publish-button"))||void 0===w||w.click(),null==o||o()}else if(/^create_/.test(l)){var j,k,S=null==e||null===(j=e.nativeEvent)||void 0===j?void 0:j.target;if((null==S||!S.closest("li"))&&"jump-search-input"!==(null==S?void 0:S.getAttribute("data-testid")))return;null===(k=document.querySelector(".jump-".concat(l)))||void 0===k||k.click()}else if(/^search-/.test(l))n.handleSearch();else if(d.url){var O,E,x,A,T;if("group"===d.type&&null!==(O=d.raw)&&void 0!==O&&O.login)return void(null!=c&&c.id||null!=a&&a.id||p?n.jumpToUrl(d):(setTimeout((function(){null==o||o()}),10),n.props.history.push("/".concat(d.raw.login))));if("doc"===d.type&&null!==(E=d.raw)&&void 0!==E&&E.slug){var C,L,N,P,I=(null===(C=d.book)||void 0===C?void 0:C.id)||d.book_id,D="/".concat(null==i?void 0:i.login,"/").concat(null==a?void 0:a.slug,"/").concat(null===(L=d.raw)||void 0===L?void 0:L.slug),z=g.d.eventNames(),M=!!I&&I===(null==a?void 0:a.id),q=!(null===(N=d.raw)||void 0===N||!N.url)&&(null===(P=d.raw)||void 0===P?void 0:P.url)===D;return void((M||q)&&z.includes(g.a.DOC_SELECT)?(setTimeout((function(){null==o||o()}),10),g.d.emit(g.a.DOC_SELECT,{doc:d.raw,path:D})):n.jumpToUrl(d))}var R="dashboard"===(null===(x=window)||void 0===x||null===(A=x.appData)||void 0===A||null===(T=A.matchCondition)||void 0===T?void 0:T.page);if(!window.appData.isDesktopApp&&"page"===d.type&&R&&d.url.includes("/dashboard"))return null==o||o(),void n.props.history.push("".concat(d.url));n.jumpToUrl(d)}}})),ct(it(n),"jumpToUrl",(function(e){var t=n.props,r=t.group,o=t.book,i=t.doc,a=t.jumpToNewPage,c=e.url.replace(/:([\w_]+)/g,(function(e,t){return{group_login:null==r?void 0:r.login,book_slug:null==o?void 0:o.slug,doc_slug:null==i?void 0:i.slug}[t]}));a||S.g&&null!=c&&c.endsWith("/settings/basic")?Object(k.b)({targetUrl:c,isNewWindow:!0,forceBrowserOpen:!1},window.open):window.location.href=c}));var r=tt(tt({},window.appData),e);Ae=lt(r);var o=null,i=e.group,a=e.book;return null!=i&&i.name&&null!=a&&a.name&&g.b.can(a,"read")?o="book":null!=i&&i.name&&(o=g.b.can(i,"read")?"group":null),n.state={active:!1,options:g.b.getShowTabs(Ae.tab,r),inputValue:Ae.q,tab:Ae.tab,dropdownVisible:!1,jumpTab:null,jumpList:[],scope:o,loading:!1,showNotification:!1},n}return t=p,u=[{key:"getDerivedStateFromProps",value:function(e,t){return t.dropdownVisible||"searchPage"!==e.sence?null:e.location.query.sence?e.location.query.q?{inputValue:e.location.query.q}:void 0:null}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.sence;e.isMiniType&&document.addEventListener("click",this.onClickOutside),"modal"===t&&(this.toggleInput(!0,!0),Object(_.spmClick)("ca38353.da21179"))}},{key:"componentDidUpdate",value:function(e){if(e.search.scope!==this.props.search.scope){var t=tt(tt({},window.appData),this.props);Ae=lt(t),this.setState({options:g.b.getShowTabs(Ae.tab,tt(tt({},window.appData),this.props))})}}},{key:"componentWillUnmount",value:function(){this.props.isMiniType&&document.removeEventListener("click",this.onClickOutside)}},{key:"renderMenu",value:function(){var e=this,t=this.state,n=t.inputValue,r=t.tab,o=t.options,i=t.jumpTab,c=t.scope,u=this.props,s=u.isMobile,p=u.sence,f=u.group,m=u.book;if("modal"===p)return l.a.createElement(ke,Qe({scope:c,inputValue:null==n?void 0:n.trim(),jumpTab:i,onUpdateList:this.onUpdateList,onUpdateCurrentJumpTab:this.onUpdateCurrentJumpTab,onLoading:this.onLoading,onItemJump:this.onItemJump,onHandleCancel:function(){setTimeout((function(){e.inputFocus()}),300)}},this.props));if(!n)return l.a.createElement(D,{sence:p,onItemClick:function(t){e.setState({inputValue:t},(function(){e.inputFocus()}))}});var h=o.filter((function(e){return!("group"===e.key&&!g.b.can(f,"read")||"book"===e.key&&!g.b.can(m,"read"))}));return l.a.createElement(a.a,{selectedKeys:[r],style:{opacity:h.length?1:0}},h.map((function(t){return l.a.createElement(a.a.Item,{"data-testid":"scope",key:t.key,onClick:e.handleSearch,onMouseOver:function(){e.setState({tab:t.key})},className:d()(Pe,ct({},Ie,s))},l.a.createElement("span",{className:De},n),l.a.createElement("span",{className:ze},__("搜索#search"),t.label))})))}},{key:"renderInputBox",value:function(){var e,t=this,n=this.props,r=n.sence,o=n.theme,a=n.isMobile,c=n.searchInputProps,u=n.book,s=n.group,p=this.state,f=p.inputValue,m=p.scope,b=p.loading,y=p.jumpList;if("modal"===r){var v,_=g.b.generateMenuList(this.props,"command",m),w=null!==(v=_=(_||[]).filter((function(e){return!(null!=e&&e.isSep)})))&&void 0!==v&&v.length?__("搜索内容，或输入 > 唤醒更多"):"";return l.a.createElement(i.a,Qe({bordered:!1,"data-searchsence":"modal",ref:function(e){t.inputRef=e},"data-testid":"jump-search-input",prefix:l.a.createElement(Te,{scope:m,loading:b,book:u,group:s}),suffix:!f&&(null==y?void 0:y.length)&&l.a.createElement("span",{className:Ve},l.a.createElement("em",null,l.a.createElement(h.b,{name:"down-miniarrow",size:14,className:Ke})),l.a.createElement("em",null,l.a.createElement(h.b,{name:"down-miniarrow",size:14})),__("切换内容")),value:f,maxLength:250,onChange:this.handleChange,onPressEnter:this.onItemJump},c,{placeholder:w,allowClear:!!f,autoFocus:!0}))}return l.a.createElement(i.a.Search,Qe({bordered:"modal"!==r,placeholder:__("搜索"),"data-searchsence":r,ref:function(e){t.inputRef=e},"data-testid":"search-input",className:d()(qe,(e={},ct(e,Re,"grey"===o),ct(e,Ie,a),e)),value:f,maxLength:250,onChange:this.handleChange,onSearch:function(){var e,n,r;null===(e=t.inputRef)||void 0===e||null===(n=e.input)||void 0===n||null===(r=n.blur)||void 0===r||r.call(n),setTimeout((function(){t.handleSearch()}),200)},onPressEnter:function(){t.handleVisibleChange(!1),t.handleSearch()},onClear:this.handleClear,autoComplete:"nope",allowClear:!0},c))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.forceDisplay,a=n.sence,c=n.history,u=g.b.getQueryByString(c.location.search);if(!g.b.isSearchEnabled(this.props,u.tab)&&!i)return null;var s=this.props,p=s.isMiniType,f=s.isMobile,m=s.placement,b=void 0===m?"bottomLeft":m,y=this.state,_=y.inputValue,j=y.active,k=y.dropdownVisible,S=y.showNotification;this.props.onHistroyChange&&this.props.onHistroyChange(k&&!_);var O="";"modal"!==a&&"searchPage"!==a&&(O=k?d()(Ce,Ne):Ce,p&&(O=d()(Ce,Le)));var E=l.a.createElement(l.a.Fragment,null,S&&l.a.createElement(w.a,{onCancel:Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(500);case 2:t.setState({showNotification:!1});case 3:case"end":return e.stop()}}),e)}))),visible:S}),l.a.createElement("div",{className:d()((e={},ct(e,O,!f),ct(e,Ye,"modal"===a),ct(e,Me,"searchPage"===a),e)),onKeyDown:function(e){var n;null!=e&&e.defaultPrevented||null!=e&&null!==(n=e.nativeEvent)&&void 0!==n&&n.defaultPrevented||t.handleKeyDown(e)}},l.a.createElement(o.a,{overlayClassName:d()(Fe,"search-dropdown"),placement:b,overlay:this.renderMenu(),visible:"modal"===a||k,overlayStyle:{position:"relative"},onVisibleChange:this.handleVisibleChange,getPopupContainer:function(e){return e.parentNode}},this.renderInputBox())));return p?l.a.createElement("div",{className:d()(Ue,"scoped-search",[j?He:""])},l.a.createElement(r.a,{title:__("搜索"),placement:"bottom"},l.a.createElement("span",{onClick:function(){return t.toggleInput(!0)},className:Be},l.a.createElement(h.b,{name:"help-search",width:20,className:We}))),l.a.createElement("div",{className:Ge},E)):E}}])&&nt(t.prototype,n),u&&nt(t,u),Object.defineProperty(t,"prototype",{writable:!1}),p}(u.PureComponent);st.defaultProps={isMobile:window.h5,forceDisplay:!1,onCancel:function(){}},st.propTypes={onHistroyChange:p.a.func,onCancel:p.a.func,theme:p.a.string,embed:p.a.bool,isMiniType:p.a.bool,onSearch:p.a.func,location:p.a.object,search:p.a.object,onClose:p.a.func,isMobile:p.a.bool,sence:p.a.string,subSence:p.a.string,forceDisplay:p.a.bool,history:p.a.object,organization:p.a.object,group:p.a.object,book:p.a.object,doc:p.a.object,me:p.a.object,navTo:p.a.func,jumpToNewPage:p.a.bool};t.default=Object(b.b)(st)},3765:function(e,t,n){},3810:function(e,t,n){"use strict";var r=n(12),o=n(78),i=n(1472).getResourceName,a=n(3328).extractSummary;function c(e,t){return{ArtboardComment:e.__("图集#lower_case"),Doc:e.__("文档#lower_case"),Resource:e.__("资源"),Note:e.__("小记"),feedback:e.__("反馈"),Issue:e.__("任务")}[t]||e.__("评论")}function u(e,t){var n,c,u=t.subject,l=t.second_subject,s=t.second_subject_type,p=t.third_subject;if("ArtboardComment"===s)return p?p.title||p.name:"";if("Doc"===s||"Thing"===s)return l?l.title||l.name:"";if("Resource"===s)return l?i(l):"";if("Note"===s){var f="";return l&&l.description&&(f=a(l.description)),f||(f=e.__("创建于 {time}",{time:r(o(l.created_at)).format("YYYY-MM-DD HH:mm:ss")})),f}return["Issue","IssueComment"].includes(null===(n=t.params)||void 0===n?void 0:n.type)?null===(c=t.params)||void 0===c?void 0:c.issueName:u?u.title||u.name:""}e.exports=function(e,t){var n=t.actor,r=t.second_subject,o=t.second_subject_type;return e.__("{name} 评论了{type} {targetTitle}",{name:e.buildActor({item:t,actor:n}),type:c(e,"Thing"===o?r.type:o),targetTitle:e.buildSubject({item:t,subject:u(e,t)})})},e.exports.getCommentAndMentionTargetTitle=u,e.exports.getCommentAndMentionType=c},3971:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}var i=n(828).SETTING_VALUES,a=n(12),c=function(e){return e};"undefined"!=typeof window&&"function"==typeof window.__&&(c=window.__);var u=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._val=t,this._key=n,this.priorityMap=r}var t,n,r;return t=e,(n=[{key:"priority",get:function(){return this.priorityMap[this._val]}},{key:"dueTime",get:function(){return a(this._val).format("YYYY-MM-DD")}},{key:"packet",get:function(){return this._val.name}},{key:"value",get:function(){return this[this._key]||this._val}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports={IssueNotificationValue:u,isTargetExist:function(e){var t,n=e.subject,r=e.second_subject,o=e.third_subject,i=e.notify_type,a=e.second_subject_type;if(!(t=i,["issue_comment","issue_assignee","issue_update","issue_mention","issue_relationship"].includes(t)||n))return!1;switch(i){case"mention":case"comment":return"ArtboardComment"===a?o:!["Doc","Note"].includes(a)||r;case"area_assign":case"new_book":case"update_doc":case"joined_collaboration":case"invite_collaborator":case"apply_collaborator":case"join_collaborator":case"access_token_created":case"invite_organization_user":case"join_organization_user":case"joined_a_organization":case"apply_organization_user":case"new_resource":case"new_review":case"update_review_status":case"invite_list_user":case"apply_list_user":case"approve_list_user":case"issue_update":case"issue_relationship":case"issue_comment":case"issue_assignee":case"issue_mention":return r;case"joined_a_group":case"new_group_member":case"new_group_user_from_department":case"joined_a_group_from_department":case"join_group_user":return n.group;default:return!0}},hasDetailLink:function(e){var t=e.notify_type;return!["app_acquisition","wechat_follow_bind"].includes(t)&&("system"!==t||!e.params||!["infosec_audit_entity_field","infosec_audit_entity"].includes(e.params.type))},getSettingTypes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c(e?"团队或知识小组":"团队"),r=[{key:"follow",title:c("关注"),desc:c("当他人关注我时"),defaultValue:e?i.ALL_PLUS_DINGTALK:i.ALL},{key:"like",title:c("点赞"),desc:c("当他人给我的文档点赞时"),defaultValue:e?i.ALL_PLUS_DINGTALK:i.ALL},{key:"mention",title:c("@ 和评论"),desc:c("当他人@我，或者评论我的主题和文档时"),defaultValue:i.ALL_PLUS_DINGTALK},{key:"action",title:c("待处理"),desc:c("需要我审批的申请"),defaultValue:i.ALL_PLUS_DINGTALK},{key:"system",title:c("系统通知"),desc:c("风险提示，功能变更，运营活动"),defaultValue:i.ALL},{key:"normal",title:c("其他消息"),desc:c("加入{entity}，加入协作，创建话题等",{entity:n}),defaultValue:i.NOTIFICATION_ONLY}];return t?r.filter((function(e){return"follow"!==e.key})):r},getNavSettingTypes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[{key:"show_explore",title:c("在左侧导航栏上显示「逛逛」入口"),desc:c("关闭后，你仍然可以通过链接访问逛逛内容或把内容分享至你的花园"),defaultValue:!1,enable:!t}].filter((function(e){return e.enable}))},getReminSettingTypes:function(){return[{key:"dynamic_notify",title:c("在左侧导航栏上显示动态提醒"),desc:c("关闭后，当左侧导航栏有新动态时，不展示相应位置的蓝点提示"),defaultValue:!1,enable:!0},{key:"message_notify",title:c("有新消息时，展示蓝点提醒"),desc:c("关闭后，当有新消息时，不展示相应位置的蓝点提示"),defaultValue:!1,enable:!0}].filter((function(e){return e.enable}))}}},3998:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.params;return e.__("{actor} 在 {book} 知识库更新了 {count} 张设计稿",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:r.name}),count:e.buildSubject({item:t,subject:o&&o.count})})}},4142:function(e,t,n){"use strict";n(73);var r=n(31),o=n(0),i=n.n(o),a=n(2),c=n.n(a),u=(n(143),n(67)),l=(n(793),n(296)),s=n(480),p=n(35),f=n(1723),d=(n(77),n(33)),m=(n(1196),n(954)),h=(n(37),n(10)),b=n(5),g=n.n(b),y=n(828),v=n(50),_=n(3609),w=n(1890),j=n(3662),k=n(324),S=n(1472),O=n(3971),E=n(457),x=n(1014),A=n(824),T=n(281),C=n(320),L=n(1518),N=n(499),P={content:"NotificationItem-module_content_XeuM0",mobile:"NotificationItem-module_mobile_77e-m",item:"NotificationItem-module_item_T8nNI",itemRead:"NotificationItem-module_itemRead_hJQML",actor:"NotificationItem-module_actor_n5+y-",subject:"NotificationItem-module_subject_DpAt3",itemDeleted:"NotificationItem-module_itemDeleted_d2M2z",itemSystem:"NotificationItem-module_itemSystem_5zHlV",gallary:"NotificationItem-module_gallary_Q6-bs",artboard:"NotificationItem-module_artboard_ln6q3",asset:"NotificationItem-module_asset_Yvf7u",title:"NotificationItem-module_title_9tpK8",resource:"NotificationItem-module_resource_IE846",listAvatar:"NotificationItem-module_listAvatar_i95DX",transferGroupList:"NotificationItem-module_transferGroupList_oc7BE",group:"NotificationItem-module_group_nPupO",groupName:"NotificationItem-module_groupName_8YrGV"},I=(n(41),n(9)),D="context-module_actor_n76K5",z="context-module_subject_0TOZC",M="context-module_actions_b-TCi",q="context-module_upgrade_odBAm";function R(e,t){var n;null!==(n=window.yqWebApp)&&void 0!==n&&n.isWebApp?A.a.relocate(e):window.open(e,t)}var F=window.appData.isAlipayWebApp?function(e){e.preventDefault(),e.stopPropagation(),window.AlipayJSBridge.call("toast",{content:__("不支持在客户端操作"),duration:3e3})}:null,U=["user_member_expired","user_member_will_expire","group_member_will_expire","group_member_expired"],B=n(4150),W=n.n(B),G={};W.a.keys().forEach((function(e){var t=W()(e),n=e.split("/"),r=n[n.length-1].slice(0,-3);G[r]=function(e,n){return i.a.createElement(i.a.Fragment,null,t(e,n))}}));var H=function(e){var t=e.item,n=e.withBtn,r=e.btnText,o=t.notify_type,a=G[o],c={__:window.__,me:window.appData.me,isYuque:window.appData.isYuque,organization:window.appData.organization,buildUser:function(e){var t=e.user;return t?window.yqWebApp?i.a.createElement("span",{className:g()(D,"webapp-notification-item-link"),onClick:function(e){e.stopPropagation(),R("/".concat(t.login))}},t.name):i.a.createElement("a",{href:"/".concat(t.login),target:"_blank",className:D},t.name):null},buildActor:function(e){var t=e.actor;return t?window.yqWebApp?i.a.createElement("span",{className:g()(D,"webapp-notification-item-link"),onClick:function(e){e.stopPropagation(),R("/".concat(t.login))}},t.name):i.a.createElement("a",{href:"/".concat(t.login),target:"_blank",className:D},t.name):null},buildSubject:function(e){var t=e.item,n=e.subject,r=e.url;if(!n)return null;var o=t.onClick;return window.yqWebApp?i.a.createElement("span",{className:g()(z,"webapp-notification-item-link"),onClick:function(e){e.stopPropagation(),R(r||"/go/notification/".concat(t.id)),o&&o()}},n):i.a.createElement("a",{href:r||"/go/notification/".concat(t.id),onClick:o,target:"_blank"},i.a.createElement("span",{className:z},n))},buildLink:function(e){var t=e.item,n=e.text,r=e.url,o=e.blank,a=void 0===o||o;return U.includes(t.notify_type)?i.a.createElement("a",{className:q,href:r,target:a,onClick:F},n):i.a.createElement("a",{href:r,target:a},n)},buildViewBtn:function(e){var t=e.item,n=e.text,r=t.onClick;return i.a.createElement(I.a,{onClick:r,href:"/go/notification/".concat(t.id),target:"_blank",size:"middle",className:M},n||__("查看"))}};if(!a)return console.info("cannot find template for notification: ".concat(o)),i.a.createElement(i.a.Fragment,null);try{return i.a.createElement("p",null,a(c,t),n&&c.buildViewBtn({item:t,text:r}))}catch(e){console.error("rend notification template error: ".concat(e))}return null};function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}(this,n)}}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function Z(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}var ee=window.appData.isAlipayWebApp?function(e){e.preventDefault(),e.stopPropagation(),window.AlipayJSBridge.call("toast",{content:__("不支持在客户端操作"),duration:3e3})}:null;function te(e,t){var n;null!==(n=window.yqWebApp)&&void 0!==n&&n.isWebApp?A.a.relocate(e):window.open(e,t)}var ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,n,r,o=J(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(X(e=o.call.apply(o,[this].concat(n))),"onClick",(function(){var t=e.props.item,n=t.id;!t.read_at&&e.props.onClick&&e.props.onClick(n)})),Z(X(e),"mobileClick",(function(t){var n=t.target,r=window.yqWebApp&&n.classList.contains("webapp-notification-item-link");if("A"!==n.tagName&&!n.closest("a")&&!r&&!!Object(O.isTargetExist)(e.props.item)){var o=e.props.item.id;document.querySelector(".m-notifications")&&(te("/go/notification/".concat(o)),e.onClick(o))}})),e}return t=a,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.item,o=n.isMobile,a=r.id,c=r.notify_type,u=r.subject,l=r.second_subject,s=r.third_subject,p=r.third_subject_type,f=r.created_at,d=r.read_at,m=r.params;if("remove_from_a_organization"===c)return null;r.onClick=this.onClick;var h=r.actor;h||(h={id:0,login:"help",name:"语雀",avatar_url:"https://cdn.nlark.com/yuque/0/2022/png/303152/1665994257081-avatar/dcb74862-1409-4691-b9ce-8173b4f6e037.png"});var b=!Object(O.isTargetExist)(r),y=g()([P.item],(Z(e={},P.itemRead,d),Z(e,P.itemDeleted,b),Z(e,P.mobile,o),e),"notification-item"),v="",_="",w={name:h.name,href:"/".concat(h.login),src:h.avatar_url},j="";if("system"===c){var k=(m.html||"").replace(/<meta[^>]{1,200}>/gim,"");return i.a.createElement("div",{className:g()([P.item],[P.itemSystem],"notification-item",Z({},P.mobile,o)),onClick:function(e){return function(e,n){if(e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName){var r,o=e.target.href;if(null!==(r=e.target)&&void 0!==r&&r.closest(".credible-url"))return te(o,e.target.target),void t.onClick(e);te(o="/go/notification/".concat(a,"?redirect=").concat(encodeURIComponent(o)),e.target.target),t.onClick(e)}}(e)}},i.a.createElement("div",{className:P.user},i.a.createElement(N.a,{src:h.avatar_url,size:"sm",name:h.name})),i.a.createElement("div",{className:g()(P.content)},i.a.createElement("p",{"data-testid":"content",onClick:ee,dangerouslySetInnerHTML:{__html:k}}),i.a.createElement("time",{"data-testid":"time"},i.a.createElement(T.a,{time:f}))))}if(b)v=i.a.createElement("div",{className:g()(P.content,Z({},P.mobile,o))},i.a.createElement("p",{"data-testid":"content"},__("相关内容已删除")),i.a.createElement("time",{"data-testid":"time"},i.a.createElement(T.a,{time:f})));else{switch(c){case"publish_doc":case"update_doc":case"mention":case"comment":case"submit_comment":case"comment_reaction":case"feedback_assign":case"thing_comment":case"feedback_comment":case"feedback_remark":case"apply_join_group":case"area_assign":case"invite_collaborator":case"apply_collaborator":case"join_collaborator":case"like_note":case"follow_user":case"invite_organization_user":case"join_organization_user":case"apply_organization_user":case"new_review":case"invite_list_user":case"apply_list_user":case"approve_list_user":_=H({item:r,withBtn:!0});break;case"upload_artboard":case"upload_artboards":_=H({item:r,withBtn:!0}),j=i.a.createElement("div",{className:P.gallary},m.artboards&&m.artboards.slice(0,o?2:4).map((function(e){return e.id&&e.image?i.a.createElement("div",{className:P.artboard,key:e.id},i.a.createElement("img",{src:Object(x.a)(e.image,{width:288,height:208,fill:!0}),alt:e.name})):null})));break;case"upload_asset":case"update_asset":_=H({item:r,withBtn:!0}),j=i.a.createElement("div",{className:P.asset},i.a.createElement("span",{className:"larkicon-svg-asset"}),i.a.createElement("a",{className:P.title},u.name));break;case"doc_audit":case"joined_a_group":case"remove_from_a_group":case"new_group_member":case"join_group_user":case"auto_new_group_owner":case"joined_collaboration":case"rename_book":case"move_book":case"private_book":case"public_book":case"new_book":case"delete_book":case"like_doc":case"access_token_created":case"like_artboard":case"joined_a_organization":case"new_resource":case"member_paid":case"user_member_expired":case"user_member_will_expire":case"group_member_will_expire":case"group_member_expired":case"organization_owner_own_group":case"deactivate_share":case"use_gift_promo":case"app_acquisition":case"wechat_follow_bind":case"submit_opinion":case"complete_review":case"cancel_review":case"update_review_status":case"group_upgrade_to_organization":case"group_migrate_to_organization":case"delete_group":case"approve_welfare":case"reject_welfare":case"issue_update":case"issue_comment":case"issue_mention":case"issue_assignee":case"issue_relationship":case"book_automation_on":case"book_automation_off":_=H({item:r});break;case"new_group_user_from_department":_=H({item:r}),w={name:u.user.name,src:u.user.avatar_url,href:"/".concat(u.user.login)};break;case"joined_a_group_from_department":_=H({item:r}),w={name:l.name,href:"/".concat(l.login),src:l.avatar_url};break;case"group_invitation":_=H({item:r,withBtn:!0,btnText:!d&&__("确定加入")});break;case"upload_resources":_=H({item:r}),j=i.a.createElement("div",null,m.resources&&m.resources.slice(0,3).map((function(e){return i.a.createElement("div",{key:e.id,className:P.resource},i.a.createElement(L.a.Icon,{item:e,size:20})," ",Object(S.getResourceName)(e))})));break;case"user_job_transfer":_=H({item:r}),j=i.a.createElement("div",{className:P.transferGroupList},m.groups&&m.groups.map((function(e){return i.a.createElement("a",{key:e.id,href:"/go/group/".concat(e.id),className:P.group,target:"_blank"},i.a.createElement(N.a,{src:e.avatar||E.avatar.group,size:20,name:e.name}),i.a.createElement("span",{className:P.groupName},e.name))}))),w={name:u.name,href:"/".concat(u.login),src:u.avatar_url};break;case"user_job_leave":case"user_job_leave_auto_assigned":_=H({item:r}),w={name:u.name,href:"/".concat(u.login),src:u.avatar_url};break;case"book_commit_review":_=H({item:r,withBtn:!!s,btnText:__("评审")});break;default:_=""}v=i.a.createElement("div",{className:g()(P.content,Z({},P.mobile,o))},_,i.a.createElement("time",null,i.a.createElement(T.a,{time:f})),j)}return i.a.createElement("div",{"data-testid":"notification-item",className:y,onClick:function(e){return t.mobileClick(e)}},s&&"List"===p?i.a.createElement("a",{href:"/r/list/".concat(s.id),target:"_blank",className:P.user},i.a.createElement("img",{src:s.logo,size:"sm",name:s.name,className:P.listAvatar})):i.a.createElement("a",{href:w.href,target:"_blank",className:P.user},i.a.createElement(N.a,{src:w.src,size:"sm",name:w.name})),v)}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);ne.defaultProps={isMobile:window.h5},ne.propTypes={item:c.a.object,onClick:c.a.func,isMobile:c.a.bool};var re=Object(C.b)(ne),oe={header:"Notifications-module_header_STB3-",num:"Notifications-module_num_Gsr4A",action:"Notifications-module_action_JP+m1",list:"Notifications-module_list_qCvTE","ant-list":"Notifications-module_ant-list_Z9sHe",popMenu:"Notifications-module_popMenu_kxa+3",tips:"Notifications-module_tips_PBC5H",emptyWrapper:"Notifications-module_emptyWrapper_OnwXY",extraLinkWrapper:"Notifications-module_extraLinkWrapper_CV4OS",disabledButton:"Notifications-module_disabledButton_5uDDM",iconActionRead:"Notifications-module_iconActionRead_55WNa",iconActionDelete:"Notifications-module_iconActionDelete_PVcOx",setting:"Notifications-module_setting_qVm6t",settingIcon:"Notifications-module_settingIcon_dLIc4",mButton:"Notifications-module_mButton_Ai9DS",mHeaderUnread:"Notifications-module_mHeaderUnread_SsQUk",mHeaderReaded:"Notifications-module_mHeaderReaded_eUdT1",mHeaderActive:"Notifications-module_mHeaderActive_nyNrW",webappChannel:"Notifications-module_webappChannel_ZA4Sr",selectType:"Notifications-module_selectType_sfCA8",active:"Notifications-module_active_Azaid",leftSelect:"Notifications-module_leftSelect_j4iaj"};function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}(this,n)}}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}function he(e,t,n){return(t=be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){var t=function(e,t){if("object"!==ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ie(t)?t:String(t)}var ge=null;function ye(e){if(ge&&window.yqWebApp)return ge;var t=e.location;return!t&&window.yqWebApp&&(t=window.yqWebApp.history.location),"unread"}function ve(e){!e&&window.yqWebApp&&(e=window.yqWebApp.history.location);var t=(e.query||{}).list_type;return Object.keys(y.NOTIFY_GROUP).includes(t)?t:""}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(a,e);var t,n,r,o=fe(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),he(de(n=o.call(this,e,t)),"loadingRef",i.a.createRef()),he(de(n),"resetAndFetchData",(function(){n.page=0,n.getNotificationList({noLoading:!0})})),he(de(n),"updateNotificationCount",(function(e){if(e){var t=n.state.notification;n.setState({notification:le(le({},t),{},{unreadCountOrganization:e})})}})),he(de(n),"getNotificationList",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.noLoading,r=void 0!==t&&t,o=e.noScroll,i=void 0!==o&&o;r||n.setState({loading:!0});var a=n.props.isMobile,c=n.state.list_type;if("all"===c&&(c=""),!a||c){var u=de(n).PAGE_SIZE;v.a.notifications.find({offset:n.page*u,limit:u,type:n.state.type,list_type:c}).then((function(e){var t=e.normalCount,r=e.notifications,o=n.state.notifications;if(n.setState({loading:!1,notifications:0===n.page?r:[].concat(ae(o),ae(r)),shouldLoadMore:r.length===u}),"seen"!==n.state.type)if(window.yqWebApp)r.length&&window.yqWebApp.getUnreadNotificationCount(),0!==n.page||i||window.yqWebApp.emitter.emit(k.b.SCROLL_TO_TOP);else{var a=n.state.notification,l=a.unreadCountOrganization,s=void 0===l?{}:l,p=c||"all";s[p]!==t&&n.setState({notification:le(le({},a),{},{unreadCountOrganization:le(le({},s),{},he({},p,t))})})}})).catch((function(e){n.setState({loading:!1}),h.a.error(__("请求失败，请刷新重试"))}))}})),he(de(n),"markAsRead",(function(e){n.state.loading||setTimeout((function(){n.getUnreadCount(),n.getUnreadCountOrganization(),n.getNotificationList({noScroll:!0})}),500)})),he(de(n),"clearAll",(function(){var e=n.state,t=e.notifications,r=e.list_type,o=e.loading;t.length&&!o&&v.a.notifications.destroyMulti({ids:r||"all"}).then((function(e){n.page=0,n.setState({loading:!0}),setTimeout((function(){n.getNotificationList()}),200)})).catch((function(e){h.a.error(__("操作失败"))}))})),he(de(n),"readAll",(function(){var e=n.state,t=e.notifications,r=e.list_type,o=e.loading;t.length&&!o&&v.a.notifications.updateMulti({ids:r||"all"}).then((function(e){n.page=0,n.getNotificationList(),n.getUnreadCount(),n.getUnreadCountOrganization()})).catch((function(e){h.a.error(__("操作失败"))}))})),he(de(n),"getUnreadCountOrganization",(function(){window.yqWebApp||n.props.dispatch({type:"notification/getUnreadCountOrganization"})})),he(de(n),"updateUnreadCountOrganization",(function(e){window.yqWebApp||n.props.dispatch({type:"notification/updateUnreadCountOrganization",payload:e})})),he(de(n),"getUnreadCount",(function(){window.yqWebApp?window.yqWebApp.getUnreadNotificationCount():n.props.dispatch({type:"notification/getUnreadCount"})})),he(de(n),"changeListType",(function(e){n.setState({list_type:e},(function(){n.getNotificationList()}))})),he(de(n),"loadMore",(function(){n.page++;var e=n.page*n.PAGE_SIZE;n.getNotificationList(e)})),he(de(n),"renderList",(function(){var e=n.state.notifications,t=n.props,r=t.me,o=t.isMobile;return i.a.createElement(m.a,{justify:"block",className:"notification-list scrollbar-custom",loading:n.state.loading,showLoadingMore:n.state.shouldLoadMore,loadMoreText:i.a.createElement("span",{ref:n.loadingRef},__("查看更多")),onLoadMore:n.loadMore,dataSource:e,renderItem:function(e){return i.a.createElement(re,{me:r,item:e,onClick:n.markAsRead,isMobile:o})},emptyView:i.a.createElement("div",null,i.a.createElement("div",{className:"notification-list-empty-icon"}),i.a.createElement("div",{className:oe.emptyWrapper},i.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*QTtWSoY6XucAAAAAAAAAAAAAARQnAQ",height:70,className:oe.empty}),i.a.createElement("p",null,__("暂无数据"))))})})),he(de(n),"onChangeNotificationTab",(function(e){ge=e,n.setState({type:e},(function(){n.getNotificationList()}))})),he(de(n),"handleChangeType",(function(e){n.onChangeNotificationTab(e)}));var r=e.location,c=e.isMobile,u=e.listType;return n.state={loading:!1,shouldLoadMore:!1,type:ye(e),notifications:[],notification:e.notification||window.appData.notification||{},list_type:u||ve(r)},n.page=0,n.PAGE_SIZE=c?50:100,n}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.listType!==t.list_type?{list_type:e.listType}:null}}],(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;!t&&window.yqWebApp&&(t=window.yqWebApp.history),t.listen((function(t){var n=ye({location:t}),r=ve(t);n===e.state.type&&r===e.state.list_type||e.setState({type:n,list_type:r},(function(){e.page=0,e.getNotificationList()}))})),window.yqWebApp&&(window.IntersectionObserver&&(this.observer=new IntersectionObserver((function(t){var n;t&&null!==(n=t[0])&&void 0!==n&&n.isIntersecting&&e.loadMore()}),{threshold:.1})),window.yqWebApp.emitter.on(k.a.UPDATE_NOTIFICATION_CHANNELS,this.updateNotificationCount),window.yqWebApp.emitter.on(k.a.UPDATE_NOTIFICATION_LIST,this.resetAndFetchData)),this.getNotificationList(),window.yqWebApp||this.getUnreadCountOrganization()}},{key:"componentWillUnmount",value:function(){window.yqWebApp&&(window.yqWebApp.emitter.removeListener(k.a.UPDATE_NOTIFICATION_CHANNELS,this.updateNotificationCount),window.yqWebApp.emitter.removeListener(k.a.UPDATE_NOTIFICATION_LIST,this.resetAndFetchData))}},{key:"componentDidUpdate",value:function(e,t){var n;t.type!==this.state.type&&(this.page=0,this.getNotificationList()),this.observer&&null!==(n=this.loadingRef)&&void 0!==n&&n.current&&this.observer.observe(this.loadingRef.current)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.type,o=n.notifications,a=n.notification,c=void 0===a?{}:a,u=n.list_type,l=void 0===u?"":u,s=this.props.isMobile,p=c.unreadCountOrganization,f=(void 0===p?{}:p)[l||"all"]||0;return f=f>99?"99+":f,s?l?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:g()(oe.header,he({},oe.webappChannel,(null===(e=window.yqWebApp)||void 0===e?void 0:e.isWebApp)&&Object.keys(y.NOTIFY_GROUP).includes(l)))},i.a.createElement("div",null,"unread"===r?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:g()(oe.mHeaderUnread,oe.mHeaderActive)},i.a.createElement("span",{className:g()("text","active")},__("未读消息")),i.a.createElement("span",{className:"num"},f)),i.a.createElement("span",{onClick:function(){return t.onChangeNotificationTab("seen")}},i.a.createElement("span",{className:g()("text","readed",oe.mHeaderReaded)},__("已读消息")))):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:oe.mHeaderUnread},i.a.createElement("span",{onClick:function(){return t.onChangeNotificationTab("unread")}},i.a.createElement("span",{className:"text"},__("未读消息"))),i.a.createElement("span",{className:"num"},f)),i.a.createElement("span",{className:g()("text","active","readed",oe.mHeaderReaded,oe.mHeaderActive)},__("已读消息")))),o.length?i.a.createElement("div",{className:oe.action},i.a.createElement("div",null,"seen"===r&&i.a.createElement(_.a,{menuItems:[{name:i.a.createElement("span",{className:oe.tips},__("将所有已读消息删除？")),className:oe.popMenu},{name:__("全部删除"),onClick:function(){j.a.confirm({message:__("确定要删除所有的消息吗？"),onOk:function(){return t.clearAll()}})}}]},i.a.createElement("span",{className:g()(oe.button,oe.mButton,he({},oe.disabledButton,!o.length))},__("全部删除"))),"unread"===r&&i.a.createElement(_.a,{menuItems:[{name:i.a.createElement("span",{className:oe.tips},__("将所有未读消息标记已读？")),className:oe.popMenu},{name:__("全部已读"),onClick:function(){return t.readAll()}}]},i.a.createElement("span",{className:g()(oe.button,oe.mButton,he({},oe.disabledButton,!o.length))},__("全部已读"))))):null),i.a.createElement("div",{className:oe.list},this.renderList())):null:i.a.createElement(d.a,{className:"card-notifications",contentType:"list",bordered:!1,title:i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:g()(oe.selectType,oe.leftSelect,he({},oe.active,"unread"===r)),onClick:function(){t.handleChangeType("unread")}},__("未读")),i.a.createElement("span",{className:g()(oe.selectType,he({},oe.active,"seen"===r)),onClick:function(){t.handleChangeType("seen")}},__("已读"))),extra:i.a.createElement("div",null,i.a.createElement("div",{className:oe.extraLinkWrapper},"unread"===r&&i.a.createElement("a",{className:g()(he({},oe.disabledButton,!o.length)),onClick:function(){return t.readAll()}},i.a.createElement(w.default,{className:oe.iconActionRead})," ",__("全部已读"))))},this.renderList())}}])&&se(t.prototype,n),r&&se(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);_e.defaultProps={isMobile:window.h5,me:window.appData.me,notification:window.appData.notification},_e.propTypes={isMobile:c.a.bool,history:c.a.object,notification:c.a.object,location:c.a.object,me:c.a.object,dispatch:c.a.func,listType:c.a.string};var we=Object(s.d)((function(e){return e}))(Object(p.withRouter)(_e)),je=(n(3765),{nav:"Nav-module_nav_iFpRT",dot:"Nav-module_dot_w2N16",tabsWrapper:"Nav-module_tabsWrapper_KmVeN",notificationsWrapper:"Nav-module_notificationsWrapper_Uflnw",tabTitle:"Nav-module_tabTitle_d9DlL",setting:"Nav-module_setting_M8Bx8"});function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe=[{key:"all",label:__("全部消息")},{key:"follow",label:__("关注")},{key:"like",label:__("点赞")},{key:"mention",label:__("@ 和评论")},{key:"action",label:__("待处理")},{key:"system",label:__("系统通知")},{key:"normal",label:__("其他消息")}];function Ee(e){var t=e.dispatch,n=ke(Object(o.useState)(e.notification||window.appData.notification||{}),2),r=n[0],a=n[1],c=ke(Object(o.useState)("all"),2),s=c[0],d=c[1],m=r.unreadCountOrganization,h=void 0===m?{}:m;Object(o.useEffect)((function(){t({type:"notification/getUnreadCountOrganization"})}),[]),Object(o.useEffect)((function(){a(e.notification)}),[e.notification]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:je.tabsWrapper,activeKey:s,destroyInactiveTabPane:!0,tabPosition:"left",onChange:function(e){d(e)}},Oe.map((function(e){return i.a.createElement(l.a.TabPane,{className:je.navTabPane,tab:i.a.createElement("div",{className:je.tabTitle},i.a.createElement("span",null,e.label),(t=h[e.key],t?i.a.createElement("span",{className:je.nav},t>99?"99+":t):"")),key:e.key},i.a.createElement("div",{className:je.notificationsWrapper},i.a.createElement(we,{listType:s})));var t}))),i.a.createElement(u.a,{title:__("消息设置")},i.a.createElement(p.NavLink,{to:"/settings/notifications",target:"_blank",className:je.setting},i.a.createElement(f.default,null))))}Ee.propTypes={mode:c.a.string,location:c.a.object,notification:c.a.object,dispatch:c.a.func};var xe=Object(s.d)((function(e){return{location:e.location,notification:e.notification,dispatch:e.dispatch}}))(Object(p.withRouter)(Ee)),Ae="index-module_wrapper_pEEnH";function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e){var t=e.visible,n=Te(Object(o.useState)(t),2),a=n[0],c=n[1];return i.a.createElement(r.a,{wrapClassName:Ae,visible:a,"data-testid":"notification-modal",title:__("消息中心"),onCancel:function(){c(!1),e.onCancel()},footer:null,width:880},i.a.createElement(xe,null))}Le.propTypes={visible:c.a.bool,onCancel:c.a.func};t.a=Le},4150:function(e,t,n){(function(t){var r,o;e.exports=null!==(r=t)&&void 0!==r&&null!==(o=r.require)&&void 0!==o&&o.context?t.require.context("Isomorphic/notification/notify_type",!1,/\.js$/):n(4151)}).call(this,n(92))},4151:function(e,t,n){var r={"./access_token_created.js":4152,"./app_acquisition.js":4153,"./apply_collaborator.js":4154,"./apply_join_group.js":4155,"./apply_list_user.js":4156,"./apply_organization_user.js":4157,"./approve_list_user.js":4158,"./approve_welfare.js":4159,"./area_assign.js":4160,"./auto_new_group_owner.js":4161,"./book_automation_off.js":4162,"./book_automation_on.js":4163,"./book_commit_review.js":4164,"./cancel_review.js":4165,"./comment.js":3810,"./comment_reaction.js":4166,"./complete_review.js":4167,"./deactivate_share.js":4168,"./delete_book.js":4169,"./delete_group.js":4170,"./doc_audit.js":4171,"./feedback_assign.js":4172,"./feedback_comment.js":4173,"./feedback_remark.js":4174,"./follow_user.js":4175,"./group_invitation.js":4176,"./group_member_expired.js":4177,"./group_member_will_expire.js":4178,"./group_migrate_to_organization.js":4179,"./group_upgrade_to_organization.js":4180,"./invite_collaborator.js":4181,"./invite_list_user.js":4182,"./invite_organization_user.js":4183,"./issue_assignee.js":4184,"./issue_comment.js":4185,"./issue_mention.js":4186,"./issue_relationship.js":4187,"./issue_update.js":4188,"./join_collaborator.js":4189,"./join_group_user.js":4190,"./join_organization_user.js":4191,"./joined_a_group.js":4192,"./joined_a_group_from_department.js":4193,"./joined_a_organization.js":4194,"./joined_collaboration.js":4195,"./like_artboard.js":4196,"./like_doc.js":4197,"./like_note.js":4198,"./member_paid.js":4199,"./mention.js":4200,"./move_book.js":4201,"./new_book.js":4202,"./new_group_member.js":4203,"./new_group_user_from_department.js":4204,"./new_resource.js":4205,"./new_review.js":4206,"./organization_owner_own_group.js":4207,"./premium_doc.js":4208,"./private_book.js":4209,"./public_book.js":4210,"./publish_doc.js":4211,"./reject_welfare.js":4212,"./remove_from_a_group.js":4213,"./rename_book.js":4214,"./submit_comment.js":4215,"./submit_opinion.js":4216,"./thing_comment.js":4217,"./update_asset.js":4218,"./update_doc.js":4219,"./update_review_status.js":4220,"./upload_artboard.js":3998,"./upload_artboards.js":4221,"./upload_asset.js":4222,"./upload_resources.js":4223,"./use_gift_promo.js":4224,"./user_job_leave.js":4225,"./user_job_leave_auto_assigned.js":4226,"./user_job_transfer.js":4227,"./user_member_expired.js":4228,"./user_member_will_expire.js":4229,"./wechat_follow_bind.js":4230};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=4151},4152:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o=t.subject,i=t.second_subject;switch(i.type){case"group":n="".concat(e.__("你的团队"),": ").concat(o.name),r="/".concat(o.login,"/settings/tokens/").concat(i.id);break;case"organization":n="".concat(e.__("你的空间"),": ").concat(o.name),r="/r/organizations/dashboard/settings/tokens/".concat(i.id);break;default:n=e.__("你的账号"),r="/settings/tokens/".concat(i.id)}return e.__("有一个 access token ({description}) 最近被添加到了{name}中，拥有的 scope 为 ({scope})",{name:e.buildSubject({item:t,subject:n}),description:e.buildSubject({item:t,subject:i.description,url:r}),scope:e.buildSubject({item:t,subject:i.scope})})}},4153:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor;return e.__("{name} 填写了你的邀请码，开始使用语雀 App",{name:e.buildActor({item:t,actor:n})})}},4154:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return"Book"===r.target_type?e.__("{actor} 申请访问知识库 {name}",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.name})}):"Doc"===r.target_type?e.__("{actor} 申请访问文档 {name}",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.title})}):void 0}},4155:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{name} 申请加入 {group}",{name:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:r.name})})}},4156:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.third_subject;return e.__("{actor} 申请加入 {name} 知识清单",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:r.name,url:"/r/list/".concat(r.id)})})}},4157:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{user} 申请加入 {subject} 空间",{user:e.buildActor({item:t,actor:n}),subject:e.buildSubject({item:t,subject:r.name})})}},4158:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.third_subject;return e.__("{actor} 通过了你的申请，你已成为 {name} 知识清单成员",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:r.name,url:"/r/list/".concat(r.id)})})}},4159:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject;return e.__("你的空间 {org} 已认证为公益空间，即日起可免费享受一年付费权益。",{org:n.name})}},4160:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{name} 邀请你一起编写文档 {docTitle}",{name:e.buildActor({item:t,actor:n}),docTitle:e.buildSubject({item:t,subject:r.title})})}},4161:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject;return e.__("由于 {group} 原管理员已经离职，系统自动将 {user} 设置为新管理员",{user:e.buildUser({user:n.user}),group:e.buildSubject({item:t,subject:n.group.name})})}},4162:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject;return e.__("知识库 {book} 已关闭自动化",{book:e.buildSubject({item:t,subject:n.name,url:"/go/book/".concat(n.id)})})}},4163:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject;return e.__("知识库 {book} 已启用自动化, 支持使用 ACI 编排自动化流程, 点击 {link} 查看使用方法",{book:e.buildSubject({item:t,subject:n.name,url:"/go/book/".concat(n.id)}),link:e.buildSubject({item:t,subject:e.__("详情"),url:"https://yuque.antfin-inc.com/lark/hv54ti/afmr2uqxn2xzr42f"})})}},4164:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return e.__("{actor} 即将发布知识库 {book} 的新版本 {version}, 邀请你进行评审",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:r.name,url:"/go/book/".concat(r.id)}),version:e.buildSubject({item:t,subject:o.name,url:"/go/book_commit/".concat(o.id)})})}},4165:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{name} 取消了 {doc} 评审",{name:e.buildActor({item:t,actor:n}),doc:e.buildSubject({item:t,subject:r.title||r.name})})}},4166:function(e,t,n){"use strict";var r=n(3810),o=r.getCommentAndMentionType,i=r.getCommentAndMentionTargetTitle;e.exports=function(e,t){var n=t.actor,r=t.second_subject_type;return e.__("{name} 在{type} {targetTitle} 的{area}中回复了表情",{name:e.buildActor({item:t,actor:n}),type:o(e,r),area:e.__("评论"),targetTitle:e.buildSubject({item:t,subject:i(e,t)})})}},4167:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.second_subject;return e.__("{doc} 完成了评审",{doc:e.buildSubject({item:t,subject:n.title||n.name})})}},4168:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("空间管理员 {name} 停止《{title}》对外分享。",{name:e.buildUser({user:n}),title:e.buildSubject({item:t,subject:r.title||r.name})})}},4169:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.params;return e.__("{actor} 在 {group} 里删除了知识库 {bookName}",{actor:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:r.name}),bookName:e.buildSubject({item:t,subject:o.name})})}},4170:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.params,r=t.actor;return e.__("{group} {type}已被管理员 {admin} 删除",{admin:e.buildUser({user:r}),group:null==n?void 0:n.name,type:null==n?void 0:n.typeName})}},4171:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject;return e.__("“{docTitle}” {suspected}, 当前文档其他人无法查看，请检查并修正后再发布。",{docTitle:e.buildSubject({item:t,subject:n.title}),suspected:98===n.read_status?e.__("可能存在疑似违规内容"):e.__("发现违规内容")})}},4172:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{name} 将反馈 {title} 指派给了 {who}",{name:e.buildActor({item:t,actor:n}),title:e.buildSubject({item:t,subject:r.name}),who:e.__("你")})}},4173:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.second_subject.name;return n.length>25&&(n=n.slice(0,25)+"..."),e.__("反馈 {title} 有新的答复",{title:e.buildSubject({item:t,subject:n})})}},4174:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject,r=t.actor;return e.__("{name} 给反馈 {title} 做了新的备注，请点击查看",{name:e.buildActor({item:t,actor:r}),title:e.buildSubject({item:t,subject:n.name})})}},4175:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor;return e.__("{name} 关注了你",{name:e.buildActor({item:t,actor:n})})}},4176:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.actor,o=t.subject;if(!o)return null;var i=r.title(e,o.group);return e.__("{name} 邀请你加入 {group} {groupTitle}",{name:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:o.group.name}),groupTitle:i})}},4177:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject,r=t.id;return e.__("你的高级版团队 “{group}” 已到期，为了不影响功能使用，请及时续费。 {btn}",{group:e.buildSubject({item:t,subject:n.name,url:"/".concat(n.login)}),btn:e.buildLink({item:t,text:e.__("立即续费"),url:"/go/notification/".concat(r)})})}},4178:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject,r=t.params,o=t.id;return e.__("你的高级版团队 “{group}” 将在 {countdown} 天后到期，为了不影响功能使用，请及时续费。 {btn}",{group:e.buildSubject({item:t,subject:n.name,url:"/".concat(n.login)}),countdown:r.countdown,btn:e.buildLink({item:t,text:e.__("立即续费"),url:"/go/notification/".concat(o)})})}},4179:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.params;return e.__("{actor} 将团队 {item} 迁入空间 {org}",{actor:e.buildActor({item:t,actor:n}),item:e.buildSubject({item:t,subject:r.name}),org:o&&o.to&&e.buildSubject({item:t,subject:o.to.name,url:o.to.host})})}},4180:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.params;return n?e.__("{actor} 将团队 {item} 升级为空间 {org}",{actor:n&&e.buildActor({item:t,actor:n}),item:e.buildSubject({item:t,subject:r.name}),org:o&&o.to&&e.buildSubject({item:t,subject:o.to.name,url:o.to.host})}):e.__("团队 {item} 已自动升级为空间 {org}",{actor:n&&e.buildActor({item:t,actor:n}),item:e.buildSubject({item:t,subject:r.name}),org:o&&o.to&&e.buildSubject({item:t,subject:o.to.name,url:o.to.host})})}},4181:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return"Book"===r.target_type?e.__("{actor} 邀请你加入 {name} 知识库",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.name})}):"Doc"===r.target_type?e.__("{actor} 邀请你参与 {name} {type}",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.title}),type:"Thread"===o.type?e.__("话题发言"):e.__("文档协作")}):void 0}},4182:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.third_subject;return e.__("{actor} 邀请你加入 {name} 知识清单",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:r.name,url:"/r/list/".concat(r.id)})})}},4183:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{user} 邀请你加入 {subject} 空间",{user:e.buildActor({item:t,actor:n}),subject:e.buildSubject({item:t,subject:r.name})})}},4184:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i;return e.__("{actor} 将 {issueName} 指派给了{assignee}",{actor:t.actor.name,assignee:null!==(n=t.third_subject)&&void 0!==n&&n.id&&(null===(r=t.third_subject)||void 0===r?void 0:r.id)===(null===(o=e.currentUser)||void 0===o?void 0:o.id)?e.__("你"):null===(i=t.third_subject)||void 0===i?void 0:i.name,issueName:e.buildSubject({item:t,subject:t.params.issueName})})}},4185:function(e,t,n){"use strict";var r=n(3810).getCommentAndMentionTargetTitle;e.exports=function(e,t){var n,o=t.actor;return e.__("{actor} 在 {targetTitle} 中评论：{abstract}",{actor:o.name,targetTitle:e.buildSubject({item:t,subject:r(e,t)}),abstract:null===(n=t.params)||void 0===n?void 0:n.abstract})}},4186:function(e,t,n){"use strict";var r=n(3810).getCommentAndMentionTargetTitle;e.exports=function(e,t){var n,o,i=t.actor;return"Issue"===(null===(n=t.params)||void 0===n?void 0:n.type)?e.__("{actor} 在 {targetTitle} 中提到了你",{actor:e.buildActor({item:t,actor:i}),targetTitle:e.buildSubject({item:t,subject:r(e,t)})}):e.__("{actor} 在 {targetTitle} 中评论：{abstract}",{actor:t.actor.name,targetTitle:e.buildSubject({item:t,subject:r(e,t)}),abstract:null===(o=t.params)||void 0===o?void 0:o.abstract})}},4187:function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a={children:e.__("子任务"),parent:e.__("父任务")},c={ADD:e.__("关联了"),REMOVE:e.__("移除了")};return e.__("{actor} 为 {issueName} {operateName} {key} {title}",{actor:t.actor.name,key:a[t.params.key]||t.params.key,title:e.buildSubject({item:t.params.newVal,subject:t.params.newVal.title,url:"/r/".concat(null===(n=t.params)||void 0===n||null===(r=n.group)||void 0===r?void 0:r.login,"/issues/").concat(null===(o=t.params.newVal)||void 0===o||null===(i=o.value)||void 0===i?void 0:i.id)}),issueName:e.buildSubject({item:t,subject:t.params.issueName}),operateName:c[t.params.type]||t.params.type})}},4188:function(e,t,n){"use strict";var r=n(3971).IssueNotificationValue;e.exports=function(e,t){var n={priority:e.__("优先级"),dueTime:e.__("截止时间"),packet:e.__("任务组"),"状态":e.__("状态")},o={urgent:e.__("紧急"),high:e.__("高"),medium:e.__("中"),low:e.__("低")},i=new r(t.params.newVal,t.params.key,o);return e.__("{actor} 将 {issueName} 的 {key} 改为 {newVal}",{actor:t.actor.name,key:n[t.params.key]||t.params.key,newVal:null==i?void 0:i.value,issueName:e.buildSubject({item:t,subject:t.params.issueName})})}},4189:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return"Book"===r.target_type?e.__("{actor} 加入了 {name} 知识库",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.name})}):"Doc"===r.target_type?e.__("{actor} 获得了文档 {name} 的访问权限",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.title})}):void 0}},4190:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.actor,o=t.subject,i=r.title(e,o.group);return e.__("{actor} 加入了 {group} {groupTitle}",{actor:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:o.group.name}),groupTitle:i})}},4191:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{user} 已加入 {subject} 空间",{user:e.buildActor({item:t,actor:n}),subject:e.buildSubject({item:t,subject:r.name})})}},4192:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.actor,o=t.subject,i=r.title(e,o.group);return e.__("{name} 将你加入到 {group} {groupTitle}",{name:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:o.group.name}),groupTitle:i})}},4193:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.subject,o=r.title(e,n.group);return e.__("你已经成功加入 {group} {groupTitle}",{group:e.buildSubject({item:t,subject:n.group.name}),groupTitle:o})}},4194:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{name} 将你加入到 {subject} 空间",{name:e.buildActor({item:t,actor:n}),subject:e.buildSubject({item:t,subject:r.name})})}},4195:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return"Book"===r.target_type?e.__("{actor} 邀请你加入 {name} 知识库",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.name})}):"Doc"===r.target_type?e.__("{actor} 邀请你访问文档 {name}",{actor:e.buildActor({item:t,actor:n}),name:e.buildSubject({item:t,subject:o.title})}):e.__("{actor} 邀请你一起{action} {title}",{action:1===r.role?e.__("编辑#lowercase"):e.__("阅读"),actor:e.buildActor({item:t,actor:n}),title:e.buildSubject({item:t,subject:o.title})})}},4196:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{actor} 给你的图集 {docTitle} 点了赞",{actor:e.buildActor({item:t,actor:n}),docTitle:e.buildSubject({item:t,subject:r.name})})}},4197:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{actor} 给你的文档 {docTitle} 点了赞",{actor:e.buildActor({item:t,actor:n}),docTitle:e.buildSubject({item:t,subject:r.title})})}},4198:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor;return e.__("{actor} 给你的小记 点了赞",{actor:e.buildActor({item:t,actor:n})})}},4199:function(e,t,n){"use strict";var r=n(12),o=n(2903).getSizeValue,i=n(520),a=n(32).LINKS;function c(e,t){var n=t.actor,r=t.params;if(r.uploadSize){var i="".concat(o(r.uploadSize).value).concat(o(r.uploadSize).unit);return 0!==n.id?e.__("已被 {name} 成功购买上传流量{uploadSize}",{name:e.buildUser({user:n}),uploadSize:i}):e.__("已被你成功购买上传流量{uploadSize}",{uploadSize:i})}return 0!==n.id?e.__("已被 {name} 成功购买上传流量",{name:e.buildUser({user:n})}):e.__("已被你成功购买上传流量")}function u(e,t){var n=t.actor,r=t.params;return 0!==n.id?e.__("已被 {name} {isRenew}高级版团队",{name:e.buildUser({user:n}),isRenew:r.isRenew?e.__("成功续费"):e.__("升级为")}):e.__("已{isRenew}高级版团队",{isRenew:r.isRenew?e.__("成功续费"):e.__("升级为")})}function l(e,t){var n=t.subject,o=e.__("，有效期至"),i=r(n.expired_at).format("YYYY-MM-DD");return"".concat(o," ").concat(i)}e.exports=function(e,t){var n=t.actor,r=t.params,o=t.subject;if(r.isBuyUpload){var s=i.title(e,o);return e.__("你的{groupTitle}”{subject}”{action}",{groupTitle:s,subject:e.buildSubject({item:t,subject:o.name}),action:c(e,t)})}return e.__("你的团队“{groupTitle}”{action}{expiredTime} {more}",{groupTitle:e.buildSubject({item:t,subject:o.name}),action:u(e,t),expiredTime:l(e,t),more:0!==n.id?e.buildLink({item:t,text:e.__("了解高级版团队"),url:a.EXTERNAL_GROUP_INTRO_LINK}):" "})}},4200:function(e,t,n){"use strict";var r=n(3810),o=r.getCommentAndMentionType,i=r.getCommentAndMentionTargetTitle;e.exports=function(e,t){var n=t.actor,r=t.subject,a=t.subject_type,c=t.second_subject_type;return"Doc"===a?e.__("{name} 在{type} {targetTitle} 中提到了你",{name:e.buildActor({item:t,actor:n}),type:o(e,c),targetTitle:e.buildSubject({item:t,subject:i(e,t)})}):"Thing"===a?e.__("{name} 在{type} {targetTitle} 中提到了你",{name:e.buildActor({item:t,actor:n}),type:o(e,r.type),targetTitle:e.buildSubject({item:t,subject:i(e,t)})}):e.__("{name} 在{type} {targetTitle} 的{area}中提到了你",{name:e.buildActor({item:t,actor:n}),type:o(e,c),area:e.__("评论"),targetTitle:e.buildSubject({item:t,subject:i(e,t)})})}},4201:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.params;return e.__("{actor} 将知识库 {targetTitle} 迁移到 {group} 团队",{actor:e.buildActor({item:t,actor:n}),targetTitle:e.buildSubject({item:t,subject:r.name}),group:e.buildSubject({item:t,subject:o.to})})}},4202:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return e.__("{actor} 在 {group} 里添加了知识库 {bookName}",{actor:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:o.name}),bookName:e.buildSubject({item:t,subject:r.name})})}},4203:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.actor,o=t.subject,i=r.title(e,o.group);return e.__("{name} 将 {user} 加入到 {group} {groupTitle}",{name:e.buildActor({item:t,actor:n}),user:e.buildUser({user:o.user}),group:e.buildSubject({item:t,subject:o.group.name}),groupTitle:i})}},4204:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.subject,o=r.title(e,n.group);return e.__("{user} 已通过绑定部门 {department} 成为 {group} {groupTitle} 成员",{user:e.buildActor({item:t,actor:n.user}),group:e.buildSubject({item:t,subject:n.group.name}),department:n.department_name,groupTitle:o})}},4205:function(e,t,n){"use strict";var r=n(1472).getResourceName;e.exports=function(e,t){var n=t.actor,o=t.subject,i=t.second_subject;return"folder"===o.type?e.__("{name} 在知识库 {book} 中新增了文件夹 {resource}",{name:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:i.name}),resource:e.buildSubject({item:t,subject:r(o)})}):e.__("{name} 在知识库 {book} 中上传了资源 {resource}",{name:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:i.name}),resource:e.buildSubject({item:t,subject:r(o)})})}},4206:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject_type,o=t.second_subject;return e.__("{name} 邀请你参与{type} {doc} 的评审",{name:e.buildActor({item:t,actor:n}),type:"Resource"===r?e.__("资源"):e.__("文档"),doc:e.buildSubject({item:t,subject:o.title||o.name})})}},4207:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("空间管理员 {name} 将自己设置为 {group} 团队的管理员",{name:e.buildUser({user:n}),group:e.buildSubject({item:t,subject:r.name})})}},4208:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{name} 已购买 {docTitle}",{name:e.buildActor({item:t,actor:n}),docTitle:e.buildLink({item:t,url:"/go/doc/".concat(r.id),text:r.title})})}},4209:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{actor} 将知识库 {targetTitle} 设置为私密",{actor:e.buildActor({item:t,actor:n}),targetTitle:e.buildSubject({item:t,subject:r.name})})}},4210:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{actor} 将知识库 {targetTitle} 设置为公开",{actor:e.buildActor({item:t,actor:n}),targetTitle:e.buildSubject({item:t,subject:r.name})})}},4211:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return e.__("{actor} 在 {book} {action}了文档 {doc}",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:o.name}),action:e.__("发布#event"),doc:e.buildSubject({item:t,subject:r.title})})}},4212:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject,r=t.second_subject;return e.__("你的空间 {org} 的公益认证申请未通过，{msg}",{org:n.name,msg:r.reason?e.__("原因：{reason}",{reason:r.reason}):e.__("请核实资料重新填写提交。")})}},4213:function(e,t,n){"use strict";var r=n(520);e.exports=function(e,t){var n=t.actor,o=t.subject,i=r.title(e,o.group);return e.__("{name} 将你移除出 {group} {groupTitle}",{name:e.buildActor({item:t,actor:n}),group:e.buildSubject({item:t,subject:o.group&&o.group.name||o.name}),groupTitle:i})}},4214:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.params;return e.__("{actor} 将知识库 {oldName} 重命名为 {newName}",{actor:e.buildActor({item:t,actor:n}),oldName:e.buildSubject({item:t,subject:r.from}),newName:e.buildSubject({item:t,subject:r.to})})}},4215:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{name} 评论了处于评审中的文档 {doc}",{name:e.buildActor({item:t,actor:n}),doc:e.buildSubject({item:t,subject:r.title||r.name})})}},4216:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject;return e.__("{name} 给文档 {doc} 提交了评审意见",{name:e.buildActor({item:t,actor:n}),doc:e.buildSubject({item:t,subject:r.title||r.name})})}},4217:function(e,t,n){"use strict";var r=n(841).THING_TYPE;e.exports=function(e,t){var n=t.second_subject,o=n.name;return o.length>25&&(o=o.slice(0,25)+"..."),e.__("{subject} {title} 有新的答复",{subject:r[n.type]||"",title:e.buildSubject({item:t,subject:o})})}},4218:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{actor} 在 {book} 知识库 {action}",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:r.name}),action:e.__("更新了资源")})}},4219:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.second_subject;return e.__("{actor} 在 {book} {action}了文档 {doc}",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:o.name}),action:e.__("更新#event"),doc:e.buildSubject({item:t,subject:r.title})})}},4220:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.second_subject_type,o=t.subject,i=t.second_subject;return e.__("{name} {action}了{type} {doc} 的评审",{name:e.buildActor({item:t,actor:n}),type:"Resource"===r?e.__("资源"):e.__("文档"),action:2===o.status?e.__("取消"):e.__("完成"),doc:e.buildSubject({item:t,subject:i.title||i.name})})}},4221:function(e,t,n){"use strict";var r=n(3998);e.exports=r},4222:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject;return e.__("{actor} 在 {book} 知识库 {action}",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:r.name}),action:e.__("上传了一个新的资源")})}},4223:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.actor,r=t.subject,o=t.params;return e.__("{actor} 在 {book} 知识库上传了 {count} 个资源",{actor:e.buildActor({item:t,actor:n}),book:e.buildSubject({item:t,subject:r.name}),count:e.buildSubject({item:t,subject:o&&o.count})})}},4224:function(e,t,n){"use strict";var r=n(12),o=n(78),i=n(63).MEMBER_USER_AMOUNT_MAP;function a(e,t){var n=t.params;return o({member:e.__("账户"),group:e.__("团队"),organization:e.__("空间")},n.type)}function c(e,t){var n,r=t.params,a=r.type,c=r.level;return"member"===a?c&&(null===(n=i[c])||void 0===n?void 0:n.name)||e.__("语雀会员"):"group"===a?e.__("高级版团队"):"organization"===a?e.__("{pay_package}空间",{pay_package:o([e.__("标准版"),e.__("标准版"),e.__("高级版"),e.__("旗舰版")],r.pay_package)}):void 0}function u(e,t){var n=t.params,o=n.isRenew?e.__("，有效期延长至 "):e.__("，有效期至 "),i=r(n.expiredTime).format("YYYY-MM-DD");return"".concat(o).concat(i)}function l(e,t){var n=t.params;return o({member:e.buildLink({item:t,url:"https://www.yuque.com/yuque/ng1qth/member-privilege",text:e.__("语雀会员")}),group:e.buildLink({item:t,url:"https://www.yuque.com/yuque/help/group#gbwZ7",text:e.__("高级版团队")}),organization:e.buildLink({item:t,url:"https://www.yuque.com/yuque/rvzzxz/rfwopm",text:e.__("空间")})},n.type)}e.exports=function(e,t){return e.__("你的{accountType}已经成功兑换赠送权益：当前为{promo}{expiredTime}，了解{more}",{accountType:a(e,t),promo:c(e,t),expiredTime:u(e,t),more:l(e,t)})}},4225:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject,r=t.second_subject,o=e.__("团队");return e.__("{user} 已退隐江湖，系统已自动移除其在{typeName} {subject} 的权限",{user:e.buildSubject({item:t,subject:n.name}),typeName:o,subject:e.buildSubject({item:t,subject:r.name,url:"/go/group/".concat(r.id)})})}},4226:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject,r=t.second_subject,o=e.__("团队");return e.__("{user} 已退隐江湖，你已经自动成为 {subject} {typeName}的管理员",{user:e.buildSubject({item:t,subject:n.name}),typeName:o,subject:e.buildSubject({item:t,subject:r.name,url:"/go/group/".concat(r.id)})})}},4227:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.subject;return e.__("{user} 已发生岗位变动，请基于安全权限最小够用原则，判断是否收回其在以下团队的权限",{user:e.buildSubject({item:t,subject:n.name})})}},4228:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.id;return e.__("你的语雀会员已到期，为了不影响功能使用，请及时续费。 {btn}",{btn:e.buildLink({item:t,text:e.__("立即续费"),url:"/go/notification/".concat(n)})})}},4229:function(e,t,n){"use strict";e.exports=function(e,t){var n=t.params,r=t.id;return 0===n.countdown?e.__("你的语雀会员即将到期，为了不影响功能使用，请及时续费。 {btn}",{btn:e.buildLink({item:t,text:e.__("立即续费"),url:"/go/notification/".concat(r)})}):e.__("你的语雀会员将在 {countdown} 天后到期，为了不影响功能使用，请及时续费。 {btn}",{countdown:n.countdown,btn:e.buildLink({item:t,text:e.__("立即续费"),url:"/go/notification/".concat(r)})})}},4230:function(e,t,n){"use strict";e.exports=function(e){return e.__("感谢关注并绑定「语雀」公众号，3个月会员已送达，请注意查收~")}},4709:function(e,t,n){"use strict";const r=function(e){let t,n={};for(let r in e){t=e[r];for(let e,o=0,i=t.length;o<i;o++)e=t.charCodeAt(o),n.hasOwnProperty(e)?n[e]+=","+r:n[e]=r}return n}(n(4710)),o=n(4711),i=new o(r);e.exports=i.convert.bind(i),e.exports.compare=i.compare.bind(i),e.exports.STYLE_NORMAL=o.STYLE_NORMAL,e.exports.STYLE_TONE=o.STYLE_TONE,e.exports.STYLE_TONE2=o.STYLE_TONE2,e.exports.STYLE_TO3NE=o.STYLE_TO3NE,e.exports.STYLE_INITIALS=o.STYLE_INITIALS,e.exports.STYLE_FIRST_LETTER=o.STYLE_FIRST_LETTER},4710:function(e,t){e.exports={"èr":"二贰","shí":"十时实蚀","yǐ":"乙已以蚁倚","yī":"一衣医依伊揖壹","chǎng,ān,hàn":"厂","dīng,zhēng":"丁","qī":"七戚欺漆柒凄嘁","bǔ,bo":"卜","rén":"人仁","rù":"入褥","jiǔ":"九久酒玖灸韭","ér":"儿而","bā":"八巴疤叭芭捌笆","jǐ,jī":"几","le,liǎo":"了","lì":"力历厉立励利例栗粒吏沥荔俐莉砾雳痢","dāo":"刀","nǎi":"乃奶","sān":"三叁","yòu":"又右幼诱佑","yú":"于余鱼娱渔榆愚隅逾舆","shì":"士示世市式势事侍饰试视柿是适室逝释誓拭恃嗜","gān,gàn":"干","gōng":"工弓公功攻宫恭躬","kuī":"亏盔窥","tǔ":"土","cùn":"寸","dà,dài,tài":"大","cái":"才材财裁","xià":"下夏","zhàng":"丈仗帐胀障杖账","yǔ,yù,yú":"与","shàng,shǎng":"上","wàn,mò":"万","kǒu":"口","xiǎo":"小晓","jīn":"巾斤今金津筋襟","shān":"山删衫珊","qiān":"千迁牵谦签","qǐ":"乞企启起","chuān":"川穿","gè,gě":"个各","sháo":"勺芍","yì":"亿义艺忆议亦异役译易疫益谊意毅翼屹抑邑绎奕逸肄溢","jí":"及吉级极即急疾集籍棘辑嫉","fán":"凡烦矾樊","xī":"夕西吸希析牺息悉惜稀锡溪熄膝昔晰犀熙嬉蟋","wán":"丸完玩顽","me,mó,ma,yāo":"么","guǎng,ān":"广","wáng,wú":"亡","mén":"门们","shī":"尸失师诗狮施湿虱","zhī":"之支汁芝肢脂蜘","jǐ":"己挤脊","zǐ":"子紫姊籽滓","wèi":"卫未位味畏胃喂慰谓猬蔚魏","yě":"也冶野","nǚ,rǔ":"女","rèn":"刃认韧纫","fēi":"飞非啡","xí":"习席袭媳","mǎ":"马码玛","chā,chá,chǎ":"叉","fēng":"丰封疯峰锋蜂枫","xiāng":"乡香箱厢湘镶","jǐng":"井警阱","wáng,wàng":"王","kāi":"开揩","tiān":"天添","wú":"无吴芜梧蜈","fū,fú":"夫","zhuān":"专砖","yuán":"元园原圆援缘源袁猿辕","yún":"云匀耘","zhā,zā,zhá":"扎","mù":"木目牧墓幕暮慕沐募睦穆","wǔ":"五午伍武侮舞捂鹉","tīng":"厅听","bù,fǒu":"不","qū,ōu":"区","quǎn":"犬","tài":"太态泰汰","yǒu":"友","chē,jū":"车","pǐ":"匹","yóu":"尤由邮犹油游","jù":"巨拒具俱剧距惧锯聚炬","yá":"牙芽崖蚜涯衙","bǐ":"比彼笔鄙匕秕","jiē":"皆阶接街秸","hù":"互户护沪","qiè,qiē":"切","wǎ,wà":"瓦","zhǐ":"止旨址纸指趾","tún,zhūn":"屯","shǎo,shào":"少","rì":"日","zhōng,zhòng":"中","gāng":"冈刚纲缸肛","nèi,nà":"内","bèi":"贝备倍辈狈惫焙","shuǐ":"水","jiàn,xiàn":"见","niú":"牛","shǒu":"手守首","máo":"毛矛茅锚","qì":"气弃汽器迄泣","shēng":"升生声牲笙甥","cháng,zhǎng":"长","shén,shí":"什","piàn,piān":"片","pú,pū":"仆","huà,huā":"化","bì":"币必毕闭毙碧蔽弊避壁庇蓖痹璧","chóu,qiú":"仇","zhuǎ,zhǎo":"爪","jǐn,jìn":"仅","réng":"仍","fù,fǔ":"父","cóng,zòng":"从","fǎn":"反返","jiè":"介戒届界借诫","xiōng":"凶兄胸匈汹","fēn,fèn":"分","fá":"乏伐罚阀筏","cāng":"仓苍舱沧","yuè":"月阅悦跃越岳粤","shì,zhī":"氏","wù":"勿务物误悟雾坞晤","qiàn":"欠歉","fēng,fěng":"风","dān":"丹耽","wū":"乌污呜屋巫诬","fèng":"凤奉","gōu,gòu":"勾","wén":"文闻蚊","liù,lù":"六","huǒ":"火伙","fāng":"方芳","dǒu,dòu":"斗","wèi,wéi":"为","dìng":"订定锭","jì":"计记技忌际季剂迹既继寄绩妓荠寂鲫冀","xīn":"心辛欣新薪锌","chǐ,chě":"尺","yǐn":"引饮蚓瘾","chǒu":"丑","kǒng":"孔恐","duì":"队对","bàn":"办半扮伴瓣绊","yǔ,yú":"予","yǔn":"允陨","quàn":"劝","shū":"书叔殊梳舒疏输蔬抒枢淑","shuāng":"双霜","yù":"玉育狱浴预域欲遇御裕愈誉芋郁喻寓豫","huàn":"幻换唤患宦涣焕痪","kān":"刊堪勘","mò":"末沫漠墨默茉陌寞","jī":"击饥圾机肌鸡积基激讥叽唧畸箕","dǎ,dá":"打","qiǎo":"巧","zhèng,zhēng":"正症挣","pū":"扑","bā,pá":"扒","gān":"甘肝竿柑","qù":"去","rēng":"扔","gǔ":"古谷股鼓","běn":"本","jié,jiē":"节结","shù,shú,zhú":"术","bǐng":"丙柄饼秉禀","kě,kè":"可","zuǒ":"左","bù":"布步怖部埠","shí,dàn":"石","lóng":"龙聋隆咙胧窿","yà":"轧亚讶","miè":"灭蔑","píng":"平评凭瓶萍坪","dōng":"东冬","kǎ,qiǎ":"卡","běi,bèi":"北","yè":"业页夜液谒腋","jiù":"旧救就舅臼疚","shuài":"帅蟀","guī":"归规闺硅瑰","zhàn,zhān":"占","dàn":"旦但诞淡蛋氮","qiě,jū":"且","yè,xié":"叶","jiǎ":"甲钾","dīng":"叮盯","shēn":"申伸身深呻绅","hào,háo":"号","diàn":"电店垫殿玷淀惦奠","tián":"田甜恬","shǐ":"史使始驶矢屎","zhī,zhǐ":"只","yāng":"央殃秧鸯","diāo":"叼雕刁碉","jiào":"叫轿较窖酵","lìng":"另","dāo,tāo":"叨","sì":"四寺饲肆","tàn":"叹炭探碳","qiū":"丘秋蚯","hé":"禾河荷盒","fù":"付负妇附咐赴复傅富腹覆赋缚","dài":"代带贷怠袋逮戴","xiān":"仙先掀锨","yí":"仪宜姨移遗夷胰","bái":"白","zǎi,zǐ,zī":"仔","chì":"斥赤翅","tā":"他它塌","guā":"瓜刮","hū":"乎呼忽","cóng":"丛","lìng,líng,lǐng":"令","yòng":"用","shuǎi":"甩","yìn":"印","lè,yuè":"乐","jù,gōu":"句","cōng":"匆葱聪囱","fàn":"犯饭泛范贩","cè":"册厕测策","wài":"外","chù,chǔ":"处","niǎo":"鸟","bāo":"包胞苞褒","zhǔ":"主煮嘱拄","shǎn":"闪陕","lán":"兰拦栏蓝篮澜","tóu,tou":"头","huì":"汇绘贿惠慧讳诲晦秽","hàn":"汉旱捍悍焊撼翰憾","tǎo":"讨","xué":"穴学","xiě":"写","níng,nìng,zhù":"宁","ràng":"让","lǐ":"礼李里理鲤","xùn":"训讯迅汛驯逊殉","yǒng":"永咏泳勇蛹踊","mín":"民","chū":"出初","ní":"尼","sī":"司丝私斯撕嘶","liáo":"辽疗僚聊寥嘹缭","jiā":"加佳嘉枷","nú":"奴","zhào,shào":"召","biān":"边编鞭蝙","pí":"皮疲脾啤","yùn":"孕运韵酝蕴","fā,fà":"发","shèng":"圣胜剩","tái,tāi":"台苔","jiū":"纠究揪鸠","mǔ":"母亩牡拇姆","káng,gāng":"扛","xíng":"刑形型邢","dòng":"动冻栋洞","kǎo":"考烤拷","kòu":"扣寇","tuō":"托拖脱","lǎo":"老","gǒng":"巩汞拱","zhí":"执直侄值职植","kuò":"扩阔廓","yáng":"扬阳杨洋","dì,de":"地","sǎo,sào":"扫","chǎng,cháng":"场","ěr":"耳尔饵","máng":"芒忙盲茫","xiǔ":"朽","pǔ,pò,pō,piáo":"朴","quán":"权全泉拳痊","guò,guo,guō":"过","chén":"臣尘辰沉陈晨忱","zài":"再在","xié":"协胁斜携鞋谐","yā,yà":"压","yàn":"厌艳宴验雁焰砚唁谚堰","yǒu,yòu":"有","cún":"存","bǎi":"百摆","kuā,kuà":"夸","jiàng":"匠酱","duó":"夺踱","huī":"灰挥恢辉徽","dá":"达","sǐ":"死","liè":"列劣烈猎","guǐ":"轨鬼诡","xié,yá,yé,yú,xú":"邪","jiá,jiā,gā,xiá":"夹","chéng":"成呈诚承城程惩橙","mài":"迈麦卖","huà,huá":"划","zhì":"至志帜制质治致秩智置挚掷窒滞稚","cǐ":"此","zhēn":"贞针侦珍真斟榛","jiān":"尖奸歼坚肩艰兼煎","guāng":"光","dāng,dàng":"当","zǎo":"早枣澡蚤藻","tù,tǔ":"吐","xià,hè":"吓","chóng":"虫崇","tuán":"团","tóng,tòng":"同","qū,qǔ":"曲","diào":"吊钓掉","yīn":"因阴音姻茵","chī":"吃嗤痴","ma,má,mǎ":"吗","yǔ":"屿宇羽","fān":"帆翻","huí":"回茴蛔","qǐ,kǎi":"岂","zé":"则责","suì":"岁碎穗祟遂隧","ròu":"肉","zhū,shú":"朱","wǎng":"网往枉","nián":"年","diū":"丢","shé":"舌","zhú":"竹逐烛","qiáo":"乔侨桥瞧荞憔","wěi":"伟伪苇纬萎","chuán,zhuàn":"传","pāng":"乓","pīng":"乒","xiū,xǔ":"休","fú":"伏扶俘浮符幅福凫芙袱辐蝠","yōu":"优忧悠幽","yán":"延严言岩炎沿盐颜阎蜒檐","jiàn":"件建荐贱剑健舰践鉴键箭涧","rèn,rén":"任","huá,huà,huā":"华","jià,jiè,jie":"价","shāng":"伤商","fèn,bīn":"份","fǎng":"仿访纺","yǎng,áng":"仰","zì":"自字","xiě,xuè":"血","xiàng":"向项象像橡","sì,shì":"似","hòu":"后厚候","zhōu":"舟州周洲","háng,xíng":"行","huì,kuài":"会","shā":"杀纱杉砂","hé,gě":"合","zhào":"兆赵照罩","zhòng":"众仲","yé":"爷","sǎn":"伞","chuàng,chuāng":"创","duǒ":"朵躲","wēi":"危威微偎薇巍","xún":"旬寻巡询循","zá":"杂砸","míng":"名明鸣铭螟","duō":"多哆","zhēng":"争征睁筝蒸怔狰","sè":"色涩瑟","zhuàng":"壮状撞","chōng,chòng":"冲","bīng":"冰兵","zhuāng":"庄装妆桩","qìng":"庆","liú":"刘留流榴琉硫瘤","qí,jì,zī,zhāi":"齐","cì":"次赐","jiāo":"交郊浇娇骄胶椒焦蕉礁","chǎn":"产铲阐","wàng":"妄忘旺望","chōng":"充","wèn":"问","chuǎng":"闯","yáng,xiáng":"羊","bìng,bīng":"并","dēng":"灯登蹬","mǐ":"米","guān":"关官棺","hàn,hán":"汗","jué":"决绝掘诀爵","jiāng":"江姜僵缰","tāng,shāng":"汤","chí":"池驰迟持弛","xīng,xìng":"兴","zhái":"宅","ān":"安氨庵鞍","jiǎng":"讲奖桨蒋","jūn":"军均君钧","xǔ,hǔ":"许","fěng":"讽","lùn,lún":"论","nóng":"农浓脓","shè":"设社舍涉赦","nà,nǎ,nèi,nā":"那","jìn,jǐn":"尽","dǎo":"导岛蹈捣祷","sūn,xùn":"孙","zhèn":"阵振震镇","shōu":"收","fáng":"防妨房肪","rú":"如儒蠕","mā":"妈","xì,hū":"戏","hǎo,hào":"好","tā,jiě":"她","guān,guàn":"观冠","huān":"欢","hóng,gōng":"红","mǎi":"买","xiān,qiàn":"纤","jì,jǐ":"纪济","yuē,yāo":"约","shòu":"寿受授售兽瘦","nòng,lòng":"弄","jìn":"进近晋浸","wéi":"违围唯维桅","yuǎn,yuàn":"远","tūn":"吞","tán":"坛谈痰昙谭潭檀","fǔ":"抚斧府俯辅腐甫脯","huài,pēi,pī,péi":"坏","rǎo":"扰","pī":"批披坯霹","zhǎo":"找沼","chě":"扯","zǒu":"走","chāo":"抄钞超","bà":"坝爸霸","gòng":"贡","zhé,shé,zhē":"折","qiǎng,qiāng,chēng":"抢","zhuā":"抓","xiào":"孝笑效哮啸","pāo":"抛","tóu":"投","kàng":"抗炕","fén":"坟焚","kēng":"坑","dǒu":"抖陡蚪","ké,qiào":"壳","fāng,fáng":"坊","niǔ":"扭纽钮","kuài":"块快筷","bǎ,bà":"把","bào":"报抱爆豹","jié":"劫杰洁捷截竭","què":"却确鹊","huā":"花","fēn":"芬吩纷氛","qín":"芹琴禽勤秦擒","láo":"劳牢","lú":"芦炉卢庐颅","gān,gǎn":"杆","kè":"克刻客课","sū,sù":"苏","dù":"杜渡妒镀","gàng,gāng":"杠","cūn":"村","qiú":"求球囚","xìng":"杏幸性姓","gèng,gēng":"更","liǎng":"两","lì,lí":"丽","shù":"束述树竖恕庶墅漱","dòu":"豆逗痘","hái,huán":"还","fǒu,pǐ":"否","lái":"来莱","lián":"连怜帘莲联廉镰","xiàn,xuán":"县","zhù,chú":"助","dāi":"呆","kuàng":"旷况矿框眶","ya,yā":"呀","zú":"足族","dūn":"吨蹲墩","kùn":"困","nán":"男","chǎo,chāo":"吵","yuán,yún,yùn":"员","chuàn":"串","chuī":"吹炊","ba,bā":"吧","hǒu":"吼","gǎng":"岗","bié,biè":"别","dīng,dìng":"钉","gào":"告","wǒ":"我","luàn":"乱","tū":"秃突凸","xiù":"秀袖绣锈嗅","gū,gù":"估","měi":"每美","hé,hē,hè":"何","tǐ,tī,bèn":"体","bó,bǎi,bà":"伯","zuò":"作坐座做","líng":"伶灵铃陵零龄玲凌菱蛉翎","dī":"低堤滴","yòng,yōng":"佣","nǐ":"你拟","zhù":"住注驻柱祝铸贮蛀","zào":"皂灶造燥躁噪","fó,fú,bì,bó":"佛","chè":"彻撤澈","tuǒ":"妥椭","lín":"邻林临琳磷鳞","hán":"含寒函涵韩","chà":"岔衩","cháng":"肠尝常偿","dù,dǔ":"肚","guī,jūn,qiū":"龟","miǎn":"免勉娩冕缅","jiǎo,jué":"角","kuáng":"狂","tiáo,tiāo":"条","luǎn":"卵","yíng":"迎盈营蝇赢荧莹萤","xì,jì":"系","chuáng":"床","kù":"库裤酷","yìng,yīng":"应","lěng":"冷","zhè,zhèi":"这","xù":"序叙绪续絮蓄旭恤酗婿","xián":"闲贤弦咸衔嫌涎舷","jiān,jiàn":"间监","pàn":"判盼叛畔","mēn,mèn":"闷","wāng":"汪","dì,tì,tuí":"弟","shā,shà":"沙","shà,shā":"煞","càn":"灿","wò":"沃卧握","méi,mò":"没","gōu":"沟钩","shěn,chén":"沈","huái":"怀槐徊淮","sòng":"宋送诵颂讼","hóng":"宏虹洪鸿","qióng":"穷琼","zāi":"灾栽","liáng":"良梁粮粱","zhèng":"证郑政","bǔ":"补捕哺","sù":"诉肃素速塑粟溯","shí,zhì":"识","cí":"词辞慈磁祠瓷雌","zhěn":"诊枕疹","niào,suī":"尿","céng":"层","jú":"局菊橘","wěi,yǐ":"尾","zhāng":"张章彰樟","gǎi":"改","lù":"陆录鹿路赂","ē,ā":"阿","zǔ":"阻组祖诅","miào":"妙庙","yāo":"妖腰邀夭吆","nǔ":"努","jìn,jìng":"劲","rěn":"忍","qū":"驱屈岖蛆躯","chún":"纯唇醇","nà":"纳钠捺","bó":"驳脖博搏膊舶渤","zòng,zǒng":"纵","wén,wèn":"纹","lǘ":"驴","huán":"环","qīng":"青轻倾清蜻氢卿","xiàn":"现限线宪陷馅羡献腺","biǎo":"表","mǒ,mò,mā":"抹","lǒng":"拢垄","dān,dàn,dǎn":"担","bá":"拔跋","jiǎn":"拣茧俭捡检减剪简柬碱","tǎn":"坦毯袒","chōu":"抽","yā":"押鸦鸭","guǎi":"拐","pāi":"拍","zhě":"者","dǐng":"顶鼎","yōng":"拥庸","chāi,cā":"拆","dǐ":"抵","jū,gōu":"拘","lā":"垃","lā,lá":"拉","bàn,pàn":"拌","zhāo":"招昭","pō":"坡泼颇","bō":"拨波玻菠播","zé,zhái":"择","tái":"抬","qí,jī":"其奇","qǔ":"取娶","kǔ":"苦","mào":"茂贸帽貌","ruò,rě":"若","miáo":"苗描瞄","píng,pēng":"苹","yīng":"英樱鹰莺婴缨鹦","qié":"茄","jīng":"茎京经惊晶睛精荆兢鲸","zhī,qí":"枝","bēi":"杯悲碑卑","guì,jǔ":"柜","bǎn":"板版","sōng":"松","qiāng":"枪腔","gòu":"构购够垢","sàng,sāng":"丧","huà":"画话桦","huò":"或货获祸惑霍","cì,cī":"刺","yǔ,yù":"雨语","bēn,bèn":"奔","fèn":"奋粪愤忿","hōng":"轰烘","qī,qì":"妻","ōu":"欧殴鸥","qǐng":"顷请","zhuǎn,zhuàn,zhuǎi":"转","zhǎn":"斩盏展","ruǎn":"软","lún":"轮仑伦沦","dào":"到盗悼道稻","chǐ":"齿耻侈","kěn":"肯垦恳啃","hǔ":"虎","xiē,suò":"些","lǔ":"虏鲁卤","shèn":"肾渗慎","shàng":"尚","guǒ":"果裹","kūn":"昆坤","guó":"国","chāng":"昌猖","chàng":"畅唱","diǎn":"典点碘","gù":"固故顾雇","áng":"昂","zhōng":"忠终钟盅衷","ne,ní":"呢","àn":"岸按案暗","tiě,tiē,tiè,":"帖","luó":"罗萝锣箩骡螺逻","kǎi":"凯慨","lǐng,líng":"岭","bài":"败拜","tú":"图徒途涂屠","chuí":"垂锤捶","zhī,zhì":"知织","guāi":"乖","gǎn":"秆赶敢感橄","hé,hè,huó,huò,hú":"和","gòng,gōng":"供共","wěi,wēi":"委","cè,zè,zhāi":"侧","pèi":"佩配沛","pò,pǎi":"迫","de,dì,dí":"的","pá":"爬","suǒ":"所索锁琐","jìng":"径竞竟敬静境镜靖","mìng":"命","cǎi,cài":"采","niàn":"念","tān":"贪摊滩瘫","rǔ":"乳辱","pín":"贫","fū":"肤麸孵敷","fèi":"肺废沸费吠","zhǒng":"肿","péng":"朋棚蓬膨硼鹏澎篷","fú,fù":"服","féi":"肥","hūn":"昏婚荤","tù":"兔","hú":"狐胡壶湖蝴弧葫","gǒu":"狗苟","bǎo":"饱宝保","xiǎng":"享响想","biàn":"变遍辨辩辫","dǐ,de":"底","jìng,chēng":"净","fàng":"放","nào":"闹","zhá":"闸铡","juàn,juǎn":"卷","quàn,xuàn":"券","dān,shàn,chán":"单","chǎo":"炒","qiǎn,jiān":"浅","fǎ":"法","xiè,yì":"泄","lèi":"泪类","zhān":"沾粘毡瞻","pō,bó":"泊","pào,pāo":"泡","xiè":"泻卸屑械谢懈蟹","ní,nì":"泥","zé,shì":"泽","pà":"怕帕","guài":"怪","zōng":"宗棕踪","shěn":"审婶","zhòu":"宙昼皱骤咒","kōng,kòng,kǒng":"空","láng,làng":"郎","chèn":"衬趁","gāi":"该","xiáng,yáng":"详","lì,dài":"隶","jū":"居鞠驹","shuā,shuà":"刷","mèng":"孟梦","gū":"孤姑辜咕沽菇箍","jiàng,xiáng":"降","mèi":"妹昧媚","jiě":"姐","jià":"驾架嫁稼","cān,shēn,cēn,sān":"参","liàn":"练炼恋链","xì":"细隙","shào":"绍哨","tuó":"驼驮鸵","guàn":"贯惯灌罐","zòu":"奏揍","chūn":"春椿","bāng":"帮邦梆","dú,dài":"毒","guà":"挂卦褂","kuǎ":"垮","kuà,kū":"挎","náo":"挠","dǎng,dàng":"挡","shuān":"拴栓","tǐng":"挺艇","kuò,guā":"括","shí,shè":"拾","tiāo,tiǎo":"挑","wā":"挖蛙洼","pīn":"拼","shèn,shén":"甚","mǒu":"某","nuó":"挪","gé":"革阁格隔","xiàng,hàng":"巷","cǎo":"草","chá":"茶察茬","dàng":"荡档","huāng":"荒慌","róng":"荣绒容熔融茸蓉溶榕","nán,nā":"南","biāo":"标彪膘","yào":"药耀","kū":"枯哭窟","xiāng,xiàng":"相","chá,zhā":"查","liǔ":"柳","bǎi,bó,bò":"柏","yào,yāo":"要","wāi":"歪","yán,yàn":"研","lí":"厘狸离犁梨璃黎漓篱","qì,qiè":"砌","miàn":"面","kǎn":"砍坎","shuǎ":"耍","nài":"耐奈","cán":"残蚕惭","zhàn":"战站栈绽蘸","bèi,bēi":"背","lǎn":"览懒揽缆榄","shěng,xǐng":"省","xiāo,xuē":"削","zhǎ":"眨","hǒng,hōng,hòng":"哄","xiǎn":"显险","mào,mò":"冒","yǎ,yā":"哑","yìng":"映硬","zuó":"昨","xīng":"星腥猩","pā":"趴","guì":"贵桂跪刽","sī,sāi":"思","xiā":"虾瞎","mǎ,mā,mà":"蚂","suī":"虽","pǐn":"品","mà":"骂","huá,huā":"哗","yè,yàn,yān":"咽","zán,zǎ":"咱","hā,hǎ,hà":"哈","yǎo":"咬舀","nǎ,něi,na,né":"哪","hāi,ké":"咳","xiá":"峡狭霞匣侠暇辖","gǔ,gū":"骨","gāng,gàng":"钢","tiē":"贴","yào,yuè":"钥","kàn,kān":"看","jǔ":"矩举","zěn":"怎","xuǎn":"选癣","zhòng,zhǒng,chóng":"种","miǎo":"秒渺藐","kē":"科棵颗磕蝌","biàn,pián":"便","zhòng,chóng":"重","liǎ":"俩","duàn":"段断缎锻","cù":"促醋簇","shùn":"顺瞬","xiū":"修羞","sú":"俗","qīn":"侵钦","xìn,shēn":"信","huáng":"皇黄煌凰惶蝗蟥","zhuī,duī":"追","jùn":"俊峻骏竣","dài,dāi":"待","xū":"须虚需","hěn":"很狠","dùn":"盾顿钝","lǜ":"律虑滤氯","pén":"盆","shí,sì,yì":"食","dǎn":"胆","táo":"逃桃陶萄淘","pàng":"胖","mài,mò":"脉","dú":"独牍","jiǎo":"狡饺绞脚搅","yuàn":"怨院愿","ráo":"饶","wān":"弯湾豌","āi":"哀哎埃","jiāng,jiàng":"将浆","tíng":"亭庭停蜓廷","liàng":"亮谅辆晾","dù,duó":"度","chuāng":"疮窗","qīn,qìng":"亲","zī":"姿资滋咨","dì":"帝递第蒂缔","chà,chā,chāi,cī":"差","yǎng":"养氧痒","qián":"前钱钳潜黔","mí":"迷谜靡","nì":"逆昵匿腻","zhà,zhá":"炸","zǒng":"总","làn":"烂滥","pào,páo,bāo":"炮","tì":"剃惕替屉涕","sǎ,xǐ":"洒","zhuó":"浊啄灼茁卓酌","xǐ,xiǎn":"洗","qià":"洽恰","pài":"派湃","huó":"活","rǎn":"染","héng":"恒衡","hún":"浑魂","nǎo":"恼脑","jué,jiào":"觉","hèn":"恨","xuān":"宣轩喧","qiè":"窃怯","biǎn,piān":"扁","ǎo":"袄","shén":"神","shuō,shuì,yuè":"说","tuì":"退蜕","chú":"除厨锄雏橱","méi":"眉梅煤霉玫枚媒楣","hái":"孩","wá":"娃","lǎo,mǔ":"姥","nù":"怒","hè":"贺赫褐鹤","róu":"柔揉蹂","bǎng":"绑膀","lěi":"垒蕾儡","rào":"绕","gěi,jǐ":"给","luò":"骆洛","luò,lào":"络","tǒng":"统桶筒捅","gēng":"耕羹","hào":"耗浩","bān":"班般斑搬扳颁","zhū":"珠株诸猪蛛","lāo":"捞","fěi":"匪诽","zǎi,zài":"载","mái,mán":"埋","shāo,shào":"捎稍","zhuō":"捉桌拙","niē":"捏","kǔn":"捆","dū,dōu":"都","sǔn":"损笋","juān":"捐鹃","zhé":"哲辙","rè":"热","wǎn":"挽晚碗惋婉","ái,āi":"挨","mò,mù":"莫","è,wù,ě,wū":"恶","tóng":"桐铜童彤瞳","xiào,jiào":"校","hé,hú":"核","yàng":"样漾","gēn":"根跟","gē":"哥鸽割歌戈","chǔ":"础储楚","pò":"破魄","tào":"套","chái":"柴豺","dǎng":"党","mián":"眠绵棉","shài":"晒","jǐn":"紧锦谨","yūn,yùn":"晕","huàng,huǎng":"晃","shǎng":"晌赏","ēn":"恩","ài,āi":"唉","ā,á,ǎ,à,a":"啊","bà,ba,pí":"罢","zéi":"贼","tiě":"铁","zuàn,zuān":"钻","qiān,yán":"铅","quē":"缺","tè":"特","chéng,shèng":"乘","dí":"敌笛涤嘀嫡","zū":"租","chèng":"秤","mì,bì":"秘泌","chēng,chèn,chèng":"称","tòu":"透","zhài":"债寨","dào,dǎo":"倒","tǎng,cháng":"倘","chàng,chāng":"倡","juàn":"倦绢眷","chòu,xiù":"臭","shè,yè,yì":"射","xú":"徐","háng":"航杭","ná":"拿","wēng":"翁嗡","diē":"爹跌","ài":"爱碍艾隘","gē,gé":"胳搁","cuì":"脆翠悴粹","zàng":"脏葬","láng":"狼廊琅榔","féng":"逢","è":"饿扼遏愕噩鳄","shuāi,cuī":"衰","gāo":"高糕羔篙","zhǔn":"准","bìng":"病","téng":"疼腾誊藤","liáng,liàng":"凉量","táng":"唐堂塘膛糖棠搪","pōu":"剖","chù,xù":"畜","páng,bàng":"旁磅","lǚ":"旅屡吕侣铝缕履","fěn":"粉","liào":"料镣","shāo":"烧","yān":"烟淹","tāo":"涛掏滔","lào":"涝酪","zhè":"浙蔗","xiāo":"消宵销萧硝箫嚣","hǎi":"海","zhǎng,zhàng":"涨","làng":"浪","rùn":"润闰","tàng":"烫","yǒng,chōng":"涌","huǐ":"悔毁","qiāo,qiǎo":"悄","hài":"害亥骇","jiā,jia,jie":"家","kuān":"宽","bīn":"宾滨彬缤濒","zhǎi":"窄","lǎng":"朗","dú,dòu":"读","zǎi":"宰","shàn,shān":"扇","shān,shàn":"苫","wà":"袜","xiáng":"祥翔","shuí":"谁","páo":"袍咆","bèi,pī":"被","tiáo,diào,zhōu":"调","yuān":"冤鸳渊","bō,bāo":"剥","ruò":"弱","péi":"陪培赔","niáng":"娘","tōng":"通","néng,nài":"能","nán,nàn,nuó":"难","sāng":"桑","pěng":"捧","dǔ":"堵赌睹","yǎn":"掩眼演衍","duī":"堆","pái,pǎi":"排","tuī":"推","jiào,jiāo":"教","lüè":"掠略","jù,jū":"据","kòng":"控","zhù,zhuó,zhe":"著","jūn,jùn":"菌","lè,lēi":"勒","méng":"萌盟檬朦","cài":"菜","tī":"梯踢剔","shāo,sào":"梢","fù,pì":"副","piào,piāo":"票","shuǎng":"爽","shèng,chéng":"盛","què,qiāo,qiǎo":"雀","xuě":"雪","chí,shi":"匙","xuán":"悬玄漩","mī,mí":"眯","la,lā":"啦","shé,yí":"蛇","lèi,léi,lěi":"累","zhǎn,chán":"崭","quān,juàn,juān":"圈","yín":"银吟淫","bèn":"笨","lóng,lǒng":"笼","mǐn":"敏皿闽悯","nín":"您","ǒu":"偶藕","tōu":"偷","piān":"偏篇翩","dé,děi,de":"得","jiǎ,jià":"假","pán":"盘","chuán":"船","cǎi":"彩睬踩","lǐng":"领","liǎn":"脸敛","māo,máo":"猫","měng":"猛锰","cāi":"猜","háo":"毫豪壕嚎","má":"麻","guǎn":"馆管","còu":"凑","hén":"痕","kāng":"康糠慷","xuán,xuàn":"旋","zhe,zhuó,zháo,zhāo":"着","lǜ,shuài":"率","gài,gě,hé":"盖","cū":"粗","lín,lìn":"淋","qú,jù":"渠","jiàn,jiān":"渐溅","hùn,hún":"混","pó":"婆","qíng":"情晴擎","cǎn":"惨","sù,xiǔ,xiù":"宿","yáo":"窑谣摇遥肴姚","móu":"谋","mì":"密蜜觅","huǎng":"谎恍幌","tán,dàn":"弹","suí":"随","yǐn,yìn":"隐","jǐng,gěng":"颈","shéng":"绳","qí":"骑棋旗歧祈脐畦崎鳍","chóu":"绸酬筹稠愁畴","lǜ,lù":"绿","dā":"搭","kuǎn":"款","tǎ":"塔","qū,cù":"趋","tí,dī,dǐ":"提","jiē,qì":"揭","xǐ":"喜徙","sōu":"搜艘","chā":"插","lǒu,lōu":"搂","qī,jī":"期","rě":"惹","sàn,sǎn":"散","dǒng":"董懂","gě,gé":"葛","pú":"葡菩蒲","zhāo,cháo":"朝","luò,là,lào":"落","kuí":"葵魁","bàng":"棒傍谤","yǐ,yī":"椅","sēn":"森","gùn,hùn":"棍","bī":"逼","zhí,shi":"殖","xià,shà":"厦","liè,liě":"裂","xióng":"雄熊","zàn":"暂赞","yǎ":"雅","chǎng":"敞","zhǎng":"掌","shǔ":"暑鼠薯黍蜀署曙","zuì":"最罪醉","hǎn":"喊罕","jǐng,yǐng":"景","lǎ":"喇","pēn,pèn":"喷","pǎo,páo":"跑","chuǎn":"喘","hē,hè,yè":"喝","hóu":"喉猴","pù,pū":"铺","hēi":"黑","guō":"锅郭","ruì":"锐瑞","duǎn":"短","é":"鹅额讹俄","děng":"等","kuāng":"筐","shuì":"税睡","zhù,zhú":"筑","shāi":"筛","dá,dā":"答","ào":"傲澳懊","pái":"牌徘","bǎo,bǔ,pù":"堡","ào,yù":"奥","fān,pān":"番","là,xī":"腊","huá":"猾滑","rán":"然燃","chán":"馋缠蝉","mán":"蛮馒","tòng":"痛","shàn":"善擅膳赡","zūn":"尊遵","pǔ":"普谱圃浦","gǎng,jiǎng":"港","céng,zēng":"曾","wēn":"温瘟","kě":"渴","zhā":"渣","duò":"惰舵跺","gài":"溉概丐钙","kuì":"愧","yú,tōu":"愉","wō":"窝蜗","cuàn":"窜篡","qún":"裙群","qiáng,qiǎng,jiàng":"强","shǔ,zhǔ":"属","zhōu,yù":"粥","sǎo":"嫂","huǎn":"缓","piàn":"骗","mō":"摸","shè,niè":"摄","tián,zhèn":"填","gǎo":"搞稿镐","suàn":"蒜算","méng,mēng,měng":"蒙","jìn,jīn":"禁","lóu":"楼娄","lài":"赖癞","lù,liù":"碌","pèng":"碰","léi":"雷","báo":"雹","dū":"督","nuǎn":"暖","xiē":"歇楔蝎","kuà":"跨胯","tiào,táo":"跳","é,yǐ":"蛾","sǎng":"嗓","qiǎn":"遣谴","cuò":"错挫措锉","ǎi":"矮蔼","shǎ":"傻","cuī":"催摧崔","tuǐ":"腿","chù":"触矗","jiě,jiè,xiè":"解","shù,shǔ,shuò":"数","mǎn":"满","liū,liù":"溜","gǔn":"滚","sāi,sài,sè":"塞","pì,bì":"辟","dié":"叠蝶谍碟","fèng,féng":"缝","qiáng":"墙","piě,piē":"撇","zhāi":"摘斋","shuāi":"摔","mó,mú":"模","bǎng,bàng":"榜","zhà":"榨乍诈","niàng":"酿","zāo":"遭糟","suān":"酸","shang,cháng":"裳","sòu":"嗽","là":"蜡辣","qiāo":"锹敲跷","zhuàn":"赚撰","wěn":"稳吻紊","bí":"鼻荸","mó":"膜魔馍摹蘑","xiān,xiǎn":"鲜","yí,nǐ":"疑","gāo,gào":"膏","zhē":"遮","duān":"端","màn":"漫慢曼幔","piāo,piào,piǎo":"漂","lòu":"漏陋","sài":"赛","nèn":"嫩","dèng":"凳邓瞪","suō,sù":"缩","qù,cù":"趣","sā,sǎ":"撒","tàng,tāng":"趟","chēng":"撑","zēng":"增憎","cáo":"槽曹","héng,hèng":"横","piāo":"飘","mán,mén":"瞒","tí":"题蹄啼","yǐng":"影颖","bào,pù":"暴","tà":"踏蹋","kào":"靠铐","pì":"僻屁譬","tǎng":"躺","dé":"德","mó,mā":"摩","shú":"熟秫赎","hú,hū,hù":"糊","pī,pǐ":"劈","cháo":"潮巢","cāo":"操糙","yàn,yān":"燕","diān":"颠掂","báo,bó,bò":"薄","cān":"餐","xǐng":"醒","zhěng":"整拯","zuǐ":"嘴","zèng":"赠","mó,mò":"磨","níng":"凝狞柠","jiǎo,zhuó":"缴","cā":"擦","cáng,zàng":"藏","fán,pó":"繁","bì,bei":"臂","bèng":"蹦泵","pān":"攀潘","chàn,zhàn":"颤","jiāng,qiáng":"疆","rǎng":"壤攘","jiáo,jué,jiào":"嚼","rǎng,rāng":"嚷","chǔn":"蠢","lù,lòu":"露","náng,nāng":"囊","dǎi":"歹","rǒng":"冗","hāng,bèn":"夯","āo,wā":"凹","féng,píng":"冯","yū":"迂淤","xū,yù":"吁","lèi,lē":"肋","kōu":"抠","lūn,lún":"抡","jiè,gài":"芥","xīn,xìn":"芯","chā,chà":"杈","xiāo,xiào":"肖","zhī,zī":"吱","ǒu,ōu,òu":"呕","nà,nè":"呐","qiàng,qiāng":"呛","tún,dùn":"囤","kēng,háng":"吭","shǔn":"吮","diàn,tián":"佃","sì,cì":"伺","zhǒu":"肘帚","diàn,tián,shèng":"甸","páo,bào":"刨","lìn":"吝赁躏","duì,ruì,yuè":"兑","zhuì":"坠缀赘","kē,kě":"坷","tuò,tà,zhí":"拓","fú,bì":"拂","nǐng,níng,nìng":"拧","ào,ǎo,niù":"拗","kē,hē":"苛","yān,yǎn":"奄","hē,a,kē":"呵","gā,kā":"咖","biǎn":"贬匾","jiǎo,yáo":"侥","chà,shā":"刹","āng":"肮","wèng":"瓮","nüè,yào":"疟","páng":"庞螃","máng,méng":"氓","gē,yì":"疙","jǔ,jù":"沮","zú,cù":"卒","nìng":"泞","chǒng":"宠","wǎn,yuān":"宛","mí,mǐ":"弥","qì,qiè,xiè":"契","xié,jiā":"挟","duò,duǒ":"垛","jiá":"荚颊","zhà,shān,shi,cè":"栅","bó,bèi":"勃","zhóu,zhòu":"轴","nüè":"虐","liē,liě,lié,lie":"咧","dǔn":"盹","xūn":"勋","yo,yō":"哟","mī":"咪","qiào,xiào":"俏","hóu,hòu":"侯","pēi":"胚","tāi":"胎","luán":"峦","sà":"飒萨","shuò":"烁","xuàn":"炫","píng,bǐng":"屏","nà,nuó":"娜","pá,bà":"耙","gěng":"埂耿梗","niè":"聂镊孽","mǎng":"莽","qī,xī":"栖","jiǎ,gǔ":"贾","chěng":"逞","pēng":"砰烹","láo,lào":"唠","bàng,bèng":"蚌","gōng,zhōng":"蚣","li,lǐ,lī":"哩","suō":"唆梭嗦","hēng":"哼","zāng":"赃","qiào":"峭窍撬","mǎo":"铆","ǎn":"俺","sǒng":"耸","juè,jué":"倔","yīn,yān,yǐn":"殷","guàng":"逛","něi":"馁","wō,guō":"涡","lào,luò":"烙","nuò":"诺懦糯","zhūn":"谆","niǎn,niē":"捻","qiā":"掐","yè,yē":"掖","chān,xiān,càn,shǎn":"掺","dǎn,shàn":"掸","fēi,fěi":"菲","qián,gān":"乾","shē":"奢赊","shuò,shí":"硕","luō,luó,luo":"啰","shá":"啥","hǔ,xià":"唬","tuò":"唾","bēng":"崩","dāng,chēng":"铛","xiǎn,xǐ":"铣","jiǎo,jiáo":"矫","tiáo":"笤","kuǐ,guī":"傀","xìn":"衅","dōu":"兜","jì,zhài":"祭","xiáo":"淆","tǎng,chǎng":"淌","chún,zhūn":"淳","shuàn":"涮","dāng":"裆","wèi,yù":"尉","duò,huī":"堕","chuò,chāo":"绰","bēng,běng,bèng":"绷","zōng,zèng":"综","zhuó,zuó":"琢","chuǎi,chuài,chuāi,tuán,zhuī":"揣","péng,bāng":"彭","chān":"搀","cuō":"搓","sāo":"搔","yē":"椰","zhuī,chuí":"椎","léng,lēng,líng":"棱","hān":"酣憨","sū":"酥","záo":"凿","qiào,qiáo":"翘","zhā,chā":"喳","bǒ":"跛","há,gé":"蛤","qiàn,kàn":"嵌","bāi":"掰","yān,ā":"腌","wàn":"腕","dūn,duì":"敦","kuì,huì":"溃","jiǒng":"窘","sāo,sǎo":"骚","pìn":"聘","bǎ":"靶","xuē":"靴薛","hāo":"蒿","léng":"楞","kǎi,jiē":"楷","pín,bīn":"频","zhuī":"锥","tuí":"颓","sāi":"腮","liú,liù":"馏","nì,niào":"溺","qǐn":"寝","luǒ":"裸","miù":"谬","jiǎo,chāo":"剿","áo,āo":"熬","niān":"蔫","màn,wàn":"蔓","chá,chā":"碴","xūn,xùn":"熏","tiǎn":"舔","sēng":"僧","da,dá":"瘩","guǎ":"寡","tuì,tùn":"褪","niǎn":"撵碾","liáo,liāo":"撩","cuō,zuǒ":"撮","ruǐ":"蕊","cháo,zhāo":"嘲","biē":"憋鳖","hēi,mò":"嘿","zhuàng,chuáng":"幢","jī,qǐ":"稽","lǒu":"篓","lǐn":"凛檩","biě,biē":"瘪","liáo,lào,lǎo":"潦","chéng,dèng":"澄","lèi,léi":"擂","piáo":"瓢","shà":"霎","mò,má":"蟆","qué":"瘸","liáo,liǎo":"燎","liào,liǎo":"瞭","sào,sāo":"臊","mí,méi":"糜","ái":"癌","tún":"臀","huò,huō,huá":"豁","pù,bào":"瀑","chuō":"戳","zǎn,cuán":"攒","cèng":"蹭","bò,bǒ":"簸","bó,bù":"簿","bìn":"鬓","suǐ":"髓","ráng":"瓤"}},4711:function(e,t,n){"use strict";const r=n(1488),o=0,i=1,a=2,c=5,u=3,l=4,s={style:i,segment:!1,heteronym:!1},p="b,p,m,f,d,t,n,l,g,k,h,j,q,x,r,zh,ch,sh,z,c,s".split(","),f=n(4712),d=new RegExp("(["+Object.keys(f).join("")+"])","g"),m=/([aeoiuvnm])([0-4])$/;class h{constructor(e){this._dict=e}convert(e,t){if("string"!=typeof e)return[];t=r({},s,t);let n=[],o="";for(let r,i,a=0,c=e.length;a<c;a++)i=e[a],r=i.charCodeAt(0),this._dict[r]?(o.length>0&&(n.push([o]),o=""),n.push(this.single_pinyin(i,t))):o+=i;return o.length>0&&(n.push([o]),o=""),n}single_pinyin(e,t){if("string"!=typeof e)return[];if(1!==e.length)return this.single_pinyin(e.charAt(0),t);let n=e.charCodeAt(0);if(!this._dict[n])return[e];let r=this._dict[n].split(",");if(!t.heteronym)return[h.toFixed(r[0],t.style)];let o={},i=[];for(let e,n=0,a=r.length;n<a;n++)e=h.toFixed(r[n],t.style),o.hasOwnProperty(e)||(o[e]=e,i.push(e));return i}static toFixed(e,t){let n,r,i="";switch(t){case u:return function(e){for(let t=0,n=p.length;t<n;t++)if(0===e.indexOf(p[t]))return p[t];return""}(e);case l:return n=e.charAt(0),f.hasOwnProperty(n)&&(n=f[n].charAt(0)),n;case o:return e.replace(d,(function(e,t){return f[t].replace(m,"$1")}));case c:return e.replace(d,(function(e,t){return f[t]}));case a:return r=e.replace(d,(function(e,t){return i=f[t].replace(m,"$2"),f[t].replace(m,"$1")})),r+i;default:return e}}compare(e,t){const n=this.convert(e,s),r=this.convert(t,s);return String(n).localeCompare(String(r))}static get STYLE_NORMAL(){return o}static get STYLE_TONE(){return i}static get STYLE_TONE2(){return a}static get STYLE_TO3NE(){return c}static get STYLE_INITIALS(){return u}static get STYLE_FIRST_LETTER(){return l}static get DEFAULT_OPTIONS(){return s}}e.exports=h},4712:function(e,t){e.exports={"ā":"a1","á":"a2","ǎ":"a3","à":"a4","ē":"e1","é":"e2","ě":"e3","è":"e4","ō":"o1","ó":"o2","ǒ":"o3","ò":"o4","ī":"i1","í":"i2","ǐ":"i3","ì":"i4","ū":"u1","ú":"u2","ǔ":"u3","ù":"u4","ü":"v0","ǘ":"v2","ǚ":"v3","ǜ":"v4","ń":"n2","ň":"n3","":"m2"}},4738:function(e,t,n){"use strict";var r=n(3732);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},652:function(e,t){e.exports={isPaid:function(e){var t,n,r=("undefined"==typeof window?{}:window).appData,o=e||r,i=o.group,a=o.organization,c=o.isYuque,u=o.me,l=(e||r).checkSelf;return l=l||/(my\/notes)|(dashboard\/notes)|(desktop\/notes)/.test(null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.pathname),!c||(a?a.isPremium:i?i.isPaid:!(!u||!l)&&u.isPaid)},isPaidCheckAll:function(){var e=("undefined"==typeof window?{}:window).appData,t=e.group,n=e.organization,r=e.isYuque,o=e.me;return!r||(n?n.isPremium:t?t.isPaid:!!o&&o.isPaid)}}},728:function(e,t,n){"use strict";var r=n(260);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,n=[{key:"popWindow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dd?window.appData.isDingTalkMiniApp?window.dd.postMessage({name:"navigateBackWithParams",params:e}):window.dd.navigateBack():window.appData.isYuqueMobileApp?r.a.closePage():window.AlipayJSBridge&&window.AlipayJSBridge.call("popWindow",e)}},{key:"openInBrowser",value:function(e){return window.appData.isDesktopApp?(window.parent.postMessage({name:"openExternalLink",args:[e,e,!0]},"*"),!0):window.dd?(window.dd.biz.util.openLink({url:e}),!0):window.appData.isYuqueMobileApp?(r.a.openUrlInSystem({url:e}),!0):!!window.AlipayJSBridge&&(window.AlipayJSBridge.call("openInBrowser",{url:e}),!0)}}],n&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=new a;t.a=c},812:function(e,t,n){"use strict";var r=n(223),o=n.n(r);t.a=function(e,t){var n,r;return n=t,r=o()(),new Promise((function(t,o){window.dd.addCustomEvents({eventId:r,success:function(e){t(e)},failed:function(e){o(e)}}),window.dd.postMessage({name:e,params:n,callbackId:r})}))}},824:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n(78),o=n.n(r),i=n(260),a=n(812),c=n(728);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}var s=window.appData,p=s.isDingTalkMiniApp,f=s.isYuqueMobileApp;function d(e){try{var t=new URL(e);return window.appData.isYuque||window.appData.isPublicCloud?t.host.endsWith(".yuque.com")||t.host.endsWith(".alipay.com")||t.host.endsWith("lark.alipay.net:7001"):t.host.endsWith(".antfin.com")||t.host.endsWith(".antfin-inc.com")}catch(e){}return!1}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"isSupportRelocate",value:function(){return window.h5&&(p||f||window.dd||window.AlipayJSBridge)}},{key:"buildRelocateUrl",value:function(e){var t,n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).hash,i=void 0!==r&&r;if(p)t=i?"".concat(window.location.origin,"/index.html"):window.location.origin;else if(window.dd)t=window.location.origin;else if(window.AlipayJSBridge)if(i){t=o()(window,"AlipayJSBridge.startupParams.url");var a=o()(window,"AlipayJSBridge.startupParams.onlineHost");a&&(t="".concat(a,"/index.html"))}else{var c,u;t=(null===(c=window.yqWebApp)||void 0===c||null===(u=c.globalServiceEnv)||void 0===u?void 0:u.host)||window.location.origin}if(t)return i?(n=new window.URL(t)).hash=e:n=new window.URL(e,t),n.toString()}},{key:"relocate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hash,r=void 0!==n&&n,o=t.closeCurrentWindow,i=void 0!==o&&o,a=t.transparentTitle,c=void 0!==a&&a,u=this.buildRelocateUrl(e,{hash:r});this.relocateWithUrl(u,{closeCurrentWindow:i,transparentTitle:c})}},{key:"relocateWithUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.closeCurrentWindow,r=void 0!==n&&n,o=t.transparentTitle,u=void 0!==o&&o;if(e&&e.length){if(!d(e))return c.a.openInBrowser(e);if(p){var l=r?"redirectTo":"navigateTo";Object(a.a)(l,{url:"/pages/home/index?url=".concat(encodeURIComponent(e))})}else window.dd?window.dd.biz.util.openLink({url:e}):f?i.a.pushWebWindow({url:e}):window.AlipayJSBridge&&window.AlipayJSBridge.call("pushWindow",{url:e,param:{readTitle:!0,showOptionMenu:!1,transparentTitle:u,closeCurrentWindow:r}})}}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),h=new m;t.a=h},954:function(e,t,n){"use strict";n(2899);var r=n(801),o=n(83),i=n.n(o),a=n(58),c=n.n(a),u=n(1206),l=n.n(u),s=n(86),p=n.n(s),f=n(137),d=n.n(f),m=n(0),h=n.n(m),b=n(2),g=n.n(b),y=n(5),v=n.n(y),_=n(84),w=n.n(_),j=n(175),k=n.n(j);var S=n(64),O=n.n(S)()("useInifiniteScroll"),E=function(e,t){var n,r,o,i,a,c,u=(n=!1,r=Object(m.useState)(n),o=k()(r,2),i=o[0],a=o[1],(c=Object(m.useRef)(i)).current=i,[i,a,Object(m.useCallback)((function(){return c.current}),[])]),s=k()(u,3),p=s[0],f=s[1],h=s[2],b=Object(m.useRef)(null);b.current=e;var g=Object(m.useCallback)(function(){var e=l()(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k()(t,1),r=n[0],!h()){e.next=3;break}return e.abrupt("return");case 3:if(null==r||!r.isIntersecting){e.next=12;break}return O("entry?.isIntersecting",null==r?void 0:r.isIntersecting),e.prev=5,f(!0),e.next=9,b.current();case 9:return e.prev=9,f(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[5,,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[b]);return{loading:p,refCallback:Object(m.useCallback)((function(e){O("ref",e);var n,r=null;if(e&&!r&&window.IntersectionObserver)return O("enter"),r=new IntersectionObserver(g,{threshold:(null==t?void 0:t.threshold)||.1,root:(null===(n=t.root)||void 0===n?void 0:n.current)||null}),O("observe",e),r.observe(e),function(){return r.unobserve(e)}}),[t.threshold])}},x=n(704),A=n(138),T=(n(1196),["className","emptyView","onLoadMore","dataSource","renderItem","loading","showLoadingMore","pagination","children","justify","customItem","loadOnScroll","listContainer"]);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=h.a.forwardRef((function(e,t){var n=e.className,o=e.emptyView,i=e.onLoadMore,a=e.dataSource,u=e.renderItem,s=e.loading,f=e.showLoadingMore,m=e.pagination,b=e.children,g=e.justify,y=e.customItem,_=e.loadOnScroll,w=e.listContainer,j=p()(e,T),k=e.loadMoreText,S=void 0===k?Object(x.a)("查看更多"):k,O=s;"boolean"==typeof O&&(O={spinning:O});var C=O&&O.spinning,N=E(l()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_||!i){e.next=3;break}return e.next=3,i();case 3:case"end":return e.stop()}}),e)}))),{root:w}),P=N.loading,I=N.refCallback;_&&(S=Object(x.a)("到底了"));var D=a.length&&f?h.a.createElement("div",{className:"larkui-list-block-more"},C&&h.a.createElement(A.a,c()({justify:"block"},O)),!C&&h.a.createElement("a",{className:"larkui-list-block-more-btn",ref:I,onClick:function(e){e.preventDefault(),i&&i()}},P?Object(x.a)("加载中"):S)):null;if(C&&!D)return h.a.createElement("div",{className:v()("larkui-list","larkui-list-loading")},h.a.createElement(A.a,c()({justify:"block"},O)));var z=m;return z&&(z=m.total<=m.pageSize?null:L({showSizeChanger:!1},z)),h.a.createElement(r.b,c()({ref:t,className:v()(n,"larkui-list",{"larkui-list-justify-block":"block"===g}),loading:!1,loadMore:D,pagination:z,dataSource:a.length>0?a:e.emptyView?["empty"]:[],renderItem:function(e,t){if("empty"===e)return h.a.createElement("div",{className:"blankslate"},o);var n=u(e,t);return n?y?n:h.a.createElement(r.b.Item,{key:e.id},n):h.a.createElement("div",null)}},j),b)}));N.defaultProps={dataSource:[],loading:!1,showLoadingMore:!1,justify:"flex"},N.propTypes=L(L({},r.b.ListProps),{},{className:g.a.string,emptyView:g.a.node,onLoadMore:g.a.func,dataSource:g.a.array,renderItem:g.a.func,loading:g.a.oneOfType([g.a.bool,g.a.object]),showLoadingMore:g.a.bool,pagination:g.a.object,children:g.a.node,justify:g.a.oneOf(["block","flex"]),customItem:g.a.bool,loadOnScroll:g.a.bool,listContainer:g.a.node}),w()(N,r.b);t.a=N},967:function(e,t,n){"use strict";n.d(t,"downloadCsvFile",(function(){return c})),n.d(t,"isValidResource",(function(){return u}));var r=n(1334),o=n(791);n.o(o,"allowResourceEdit")&&n.d(t,"allowResourceEdit",(function(){return o.allowResourceEdit})),n.o(o,"getExtname")&&n.d(t,"getExtname",(function(){return o.getExtname})),n.o(o,"getFileBgColor")&&n.d(t,"getFileBgColor",(function(){return o.getFileBgColor})),n.o(o,"getFileIcon")&&n.d(t,"getFileIcon",(function(){return o.getFileIcon})),n.o(o,"getFilename")&&n.d(t,"getFilename",(function(){return o.getFilename})),n.o(o,"isAudio")&&n.d(t,"isAudio",(function(){return o.isAudio})),n.o(o,"isImage")&&n.d(t,"isImage",(function(){return o.isImage})),n.o(o,"isPpt")&&n.d(t,"isPpt",(function(){return o.isPpt})),n.o(o,"isSketch")&&n.d(t,"isSketch",(function(){return o.isSketch})),n.o(o,"isVideo")&&n.d(t,"isVideo",(function(){return o.isVideo}));var i=n(791).getExtname,a=n(1722).getFileAcceptArr;function c(e,t){var n=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"});Object(r.b)(n,t)}function u(e){var t=i(e);return!!t&&a().includes(".".concat(t.toLowerCase()))}}}]);